var ym=e=>{throw TypeError(e)};var du=(e,t,n)=>t.has(e)||ym("Cannot "+n);var S=(e,t,n)=>(du(e,t,"read from private field"),n?n.call(e):t.get(e)),ce=(e,t,n)=>t.has(e)?ym("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,r)=>(du(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),je=(e,t,n)=>(du(e,t,"access private method"),n);var Qa=(e,t,n,r)=>({set _(s){Y(e,t,s,n)},get _(){return S(e,t,r)}});function $w(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Ug(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bg={exports:{}},Tc={},Hg={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=Symbol.for("react.element"),zw=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),Bw=Symbol.for("react.strict_mode"),Hw=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Kw=Symbol.for("react.context"),qw=Symbol.for("react.forward_ref"),Qw=Symbol.for("react.suspense"),Gw=Symbol.for("react.memo"),Xw=Symbol.for("react.lazy"),vm=Symbol.iterator;function Yw(e){return e===null||typeof e!="object"?null:(e=vm&&e[vm]||e["@@iterator"],typeof e=="function"?e:null)}var Wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kg=Object.assign,qg={};function uo(e,t,n){this.props=e,this.context=t,this.refs=qg,this.updater=n||Wg}uo.prototype.isReactComponent={};uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qg(){}Qg.prototype=uo.prototype;function $f(e,t,n){this.props=e,this.context=t,this.refs=qg,this.updater=n||Wg}var zf=$f.prototype=new Qg;zf.constructor=$f;Kg(zf,uo.prototype);zf.isPureReactComponent=!0;var wm=Array.isArray,Gg=Object.prototype.hasOwnProperty,Uf={current:null},Xg={key:!0,ref:!0,__self:!0,__source:!0};function Yg(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Gg.call(t,r)&&!Xg.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ea,type:e,key:i,ref:a,props:s,_owner:Uf.current}}function Zw(e,t){return{$$typeof:Ea,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ea}function Jw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bm=/\/+/g;function fu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jw(""+e.key):t.toString(36)}function wl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ea:case zw:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+fu(a,0):r,wm(s)?(n="",e!=null&&(n=e.replace(bm,"$&/")+"/"),wl(s,t,n,"",function(u){return u})):s!=null&&(Bf(s)&&(s=Zw(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(bm,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",wm(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+fu(i,l);a+=wl(i,t,n,c,s)}else if(c=Yw(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+fu(i,l++),a+=wl(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ga(e,t,n){if(e==null)return e;var r=[],s=0;return wl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function eb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var At={current:null},bl={transition:null},tb={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:bl,ReactCurrentOwner:Uf};function Zg(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!Bf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=uo;Ne.Fragment=Uw;Ne.Profiler=Hw;Ne.PureComponent=$f;Ne.StrictMode=Bw;Ne.Suspense=Qw;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tb;Ne.act=Zg;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kg({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Uf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gg.call(t,c)&&!Xg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ea,type:e.type,key:s,ref:i,props:r,_owner:a}};Ne.createContext=function(e){return e={$$typeof:Kw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ww,_context:e},e.Consumer=e};Ne.createElement=Yg;Ne.createFactory=function(e){var t=Yg.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:qw,render:e}};Ne.isValidElement=Bf;Ne.lazy=function(e){return{$$typeof:Xw,_payload:{_status:-1,_result:e},_init:eb}};Ne.memo=function(e,t){return{$$typeof:Gw,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=bl.transition;bl.transition={};try{e()}finally{bl.transition=t}};Ne.unstable_act=Zg;Ne.useCallback=function(e,t){return At.current.useCallback(e,t)};Ne.useContext=function(e){return At.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return At.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return At.current.useEffect(e,t)};Ne.useId=function(){return At.current.useId()};Ne.useImperativeHandle=function(e,t,n){return At.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return At.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return At.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return At.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return At.current.useReducer(e,t,n)};Ne.useRef=function(e){return At.current.useRef(e)};Ne.useState=function(e){return At.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return At.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return At.current.useTransition()};Ne.version="18.3.1";Hg.exports=Ne;var p=Hg.exports;const Pa=Ug(p),nb=$w({__proto__:null,default:Pa},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=p,sb=Symbol.for("react.element"),ib=Symbol.for("react.fragment"),ob=Object.prototype.hasOwnProperty,ab=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lb={key:!0,ref:!0,__self:!0,__source:!0};function Jg(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)ob.call(t,r)&&!lb.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sb,type:e,key:i,ref:a,props:s,_owner:ab.current}}Tc.Fragment=ib;Tc.jsx=Jg;Tc.jsxs=Jg;Bg.exports=Tc;var o=Bg.exports,id={},ey={exports:{}},sn={},ty={exports:{}},ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,G){var se=D.length;D.push(G);e:for(;0<se;){var E=se-1>>>1,A=D[E];if(0<s(A,G))D[E]=G,D[se]=A,se=E;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var G=D[0],se=D.pop();if(se!==G){D[0]=se;e:for(var E=0,A=D.length,U=A>>>1;E<U;){var O=2*(E+1)-1,Z=D[O],le=O+1,me=D[le];if(0>s(Z,se))le<A&&0>s(me,Z)?(D[E]=me,D[le]=se,E=le):(D[E]=Z,D[O]=se,E=O);else if(le<A&&0>s(me,se))D[E]=me,D[le]=se,E=le;else break e}}return G}function s(D,G){var se=D.sortIndex-G.sortIndex;return se!==0?se:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,v=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=D)r(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function b(D){if(v=!1,x(D),!y)if(n(c)!==null)y=!0,I(k);else{var G=n(u);G!==null&&ie(b,G.startTime-D)}}function k(D,G){y=!1,v&&(v=!1,w(_),_=-1),m=!0;var se=h;try{for(x(G),f=n(c);f!==null&&(!(f.expirationTime>G)||D&&!q());){var E=f.callback;if(typeof E=="function"){f.callback=null,h=f.priorityLevel;var A=E(f.expirationTime<=G);G=e.unstable_now(),typeof A=="function"?f.callback=A:f===n(c)&&r(c),x(G)}else r(c);f=n(c)}if(f!==null)var U=!0;else{var O=n(u);O!==null&&ie(b,O.startTime-G),U=!1}return U}finally{f=null,h=se,m=!1}}var T=!1,R=null,_=-1,L=5,F=-1;function q(){return!(e.unstable_now()-F<L)}function Q(){if(R!==null){var D=e.unstable_now();F=D;var G=!0;try{G=R(!0,D)}finally{G?P():(T=!1,R=null)}}else T=!1}var P;if(typeof g=="function")P=function(){g(Q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,de=B.port2;B.port1.onmessage=Q,P=function(){de.postMessage(null)}}else P=function(){j(Q,0)};function I(D){R=D,T||(T=!0,P())}function ie(D,G){_=j(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,I(k))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var se=h;h=G;try{return D()}finally{h=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var se=h;h=D;try{return G()}finally{h=se}},e.unstable_scheduleCallback=function(D,G,se){var E=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?E+se:E):se=E,D){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=se+A,D={id:d++,callback:G,priorityLevel:D,startTime:se,expirationTime:A,sortIndex:-1},se>E?(D.sortIndex=se,t(u,D),n(c)===null&&D===n(u)&&(v?(w(_),_=-1):v=!0,ie(b,se-E))):(D.sortIndex=A,t(c,D),y||m||(y=!0,I(k))),D},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(D){var G=h;return function(){var se=h;h=G;try{return D.apply(this,arguments)}finally{h=se}}}})(ny);ty.exports=ny;var cb=ty.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=p,nn=cb;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ry=new Set,Zo={};function ci(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(Zo[e]=t,e=0;e<t.length;e++)ry.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),od=Object.prototype.hasOwnProperty,db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Sm={};function fb(e){return od.call(Sm,e)?!0:od.call(jm,e)?!1:db.test(e)?Sm[e]=!0:(jm[e]=!0,!1)}function hb(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mb(e,t,n,r){if(t===null||typeof t>"u"||hb(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){gt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){gt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){gt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hf=/[\-:]([a-z])/g;function Wf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hf,Wf);gt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hf,Wf);gt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hf,Wf);gt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){gt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){gt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kf(e,t,n,r){var s=gt.hasOwnProperty(t)?gt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mb(t,n,s,r)&&(n=null),r||s===null?fb(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wr=ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),gi=Symbol.for("react.portal"),yi=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),ad=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),iy=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),ld=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Fr=Symbol.for("react.lazy"),oy=Symbol.for("react.offscreen"),Nm=Symbol.iterator;function wo(e){return e===null||typeof e!="object"?null:(e=Nm&&e[Nm]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,hu;function Ro(e){if(hu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);hu=t&&t[1]||""}return`
`+hu+e}var mu=!1;function pu(e,t){if(!e||mu)return"";mu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{mu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ro(e):""}function pb(e){switch(e.tag){case 5:return Ro(e.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return e=pu(e.type,!1),e;case 11:return e=pu(e.type.render,!1),e;case 1:return e=pu(e.type,!0),e;default:return""}}function ud(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yi:return"Fragment";case gi:return"Portal";case ad:return"Profiler";case qf:return"StrictMode";case ld:return"Suspense";case cd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iy:return(e.displayName||"Context")+".Consumer";case sy:return(e._context.displayName||"Context")+".Provider";case Qf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gf:return t=e.displayName||null,t!==null?t:ud(e.type)||"Memo";case Fr:t=e._payload,e=e._init;try{return ud(e(t))}catch{}}return null}function xb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ud(t);case 8:return t===qf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ay(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gb(e){var t=ay(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ya(e){e._valueTracker||(e._valueTracker=gb(e))}function ly(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ay(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dd(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function km(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=us(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cy(e,t){t=t.checked,t!=null&&Kf(e,"checked",t,!1)}function fd(e,t){cy(e,t);var n=us(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hd(e,t.type,n):t.hasOwnProperty("defaultValue")&&hd(e,t.type,us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hd(e,t,n){(t!=="number"||zl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ao=Array.isArray;function Ai(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+us(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function md(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Em(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Ao(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:us(n)}}function uy(e,t){var n=us(t.value),r=us(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,fy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yb=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(e){yb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Io[t]=Io[e]})});function hy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Io.hasOwnProperty(e)&&Io[e]?(""+t).trim():t+"px"}function my(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=hy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var vb=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xd(e,t){if(t){if(vb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function gd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yd=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vd=null,Fi=null,Oi=null;function Tm(e){if(e=Ma(e)){if(typeof vd!="function")throw Error($(280));var t=e.stateNode;t&&(t=Fc(t),vd(e.stateNode,e.type,t))}}function py(e){Fi?Oi?Oi.push(e):Oi=[e]:Fi=e}function xy(){if(Fi){var e=Fi,t=Oi;if(Oi=Fi=null,Tm(e),t)for(e=0;e<t.length;e++)Tm(t[e])}}function gy(e,t){return e(t)}function yy(){}var xu=!1;function vy(e,t,n){if(xu)return e(t,n);xu=!0;try{return gy(e,t,n)}finally{xu=!1,(Fi!==null||Oi!==null)&&(yy(),xy())}}function ea(e,t){var n=e.stateNode;if(n===null)return null;var r=Fc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var wd=!1;if(mr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){wd=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{wd=!1}function wb(e,t,n,r,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var $o=!1,Ul=null,Bl=!1,bd=null,bb={onError:function(e){$o=!0,Ul=e}};function jb(e,t,n,r,s,i,a,l,c){$o=!1,Ul=null,wb.apply(bb,arguments)}function Sb(e,t,n,r,s,i,a,l,c){if(jb.apply(this,arguments),$o){if($o){var u=Ul;$o=!1,Ul=null}else throw Error($(198));Bl||(Bl=!0,bd=u)}}function ui(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _m(e){if(ui(e)!==e)throw Error($(188))}function Nb(e){var t=e.alternate;if(!t){if(t=ui(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _m(s),e;if(i===r)return _m(s),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function by(e){return e=Nb(e),e!==null?jy(e):null}function jy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jy(e);if(t!==null)return t;e=e.sibling}return null}var Sy=nn.unstable_scheduleCallback,Mm=nn.unstable_cancelCallback,kb=nn.unstable_shouldYield,Cb=nn.unstable_requestPaint,Ge=nn.unstable_now,Eb=nn.unstable_getCurrentPriorityLevel,Yf=nn.unstable_ImmediatePriority,Ny=nn.unstable_UserBlockingPriority,Hl=nn.unstable_NormalPriority,Pb=nn.unstable_LowPriority,ky=nn.unstable_IdlePriority,_c=null,Un=null;function Tb(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(_c,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:Rb,_b=Math.log,Mb=Math.LN2;function Rb(e){return e>>>=0,e===0?32:31-(_b(e)/Mb|0)|0}var Ja=64,el=4194304;function Fo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Fo(l):(i&=a,i!==0&&(r=Fo(i)))}else a=n&~s,a!==0?r=Fo(a):i!==0&&(r=Fo(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Pn(t),s=1<<n,r|=e[n],t&=~s;return r}function Ab(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Pn(i),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=Ab(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function jd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cy(){var e=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),e}function gu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ta(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=n}function Ob(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Pn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Zf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Pn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Re=0;function Ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Py,Jf,Ty,_y,My,Sd=!1,tl=[],Jr=null,es=null,ts=null,ta=new Map,na=new Map,Dr=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":ta.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(t.pointerId)}}function jo(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ma(t),t!==null&&Jf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Db(e,t,n,r,s){switch(t){case"focusin":return Jr=jo(Jr,e,t,n,r,s),!0;case"dragenter":return es=jo(es,e,t,n,r,s),!0;case"mouseover":return ts=jo(ts,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ta.set(i,jo(ta.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,na.set(i,jo(na.get(i)||null,e,t,n,r,s)),!0}return!1}function Ry(e){var t=As(e.target);if(t!==null){var n=ui(t);if(n!==null){if(t=n.tag,t===13){if(t=wy(n),t!==null){e.blockedOn=t,My(e.priority,function(){Ty(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yd=r,n.target.dispatchEvent(r),yd=null}else return t=Ma(n),t!==null&&Jf(t),e.blockedOn=n,!1;t.shift()}return!0}function Am(e,t,n){jl(e)&&n.delete(t)}function Vb(){Sd=!1,Jr!==null&&jl(Jr)&&(Jr=null),es!==null&&jl(es)&&(es=null),ts!==null&&jl(ts)&&(ts=null),ta.forEach(Am),na.forEach(Am)}function So(e,t){e.blockedOn===t&&(e.blockedOn=null,Sd||(Sd=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,Vb)))}function ra(e){function t(s){return So(s,e)}if(0<tl.length){So(tl[0],e);for(var n=1;n<tl.length;n++){var r=tl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Jr!==null&&So(Jr,e),es!==null&&So(es,e),ts!==null&&So(ts,e),ta.forEach(t),na.forEach(t),n=0;n<Dr.length;n++)r=Dr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dr.length&&(n=Dr[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&Dr.shift()}var Li=wr.ReactCurrentBatchConfig,Kl=!0;function Ib(e,t,n,r){var s=Re,i=Li.transition;Li.transition=null;try{Re=1,eh(e,t,n,r)}finally{Re=s,Li.transition=i}}function $b(e,t,n,r){var s=Re,i=Li.transition;Li.transition=null;try{Re=4,eh(e,t,n,r)}finally{Re=s,Li.transition=i}}function eh(e,t,n,r){if(Kl){var s=Nd(e,t,n,r);if(s===null)Eu(e,t,r,ql,n),Rm(e,r);else if(Db(s,e,t,n,r))r.stopPropagation();else if(Rm(e,r),t&4&&-1<Lb.indexOf(e)){for(;s!==null;){var i=Ma(s);if(i!==null&&Py(i),i=Nd(e,t,n,r),i===null&&Eu(e,t,r,ql,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Eu(e,t,r,null,n)}}var ql=null;function Nd(e,t,n,r){if(ql=null,e=Xf(r),e=As(e),e!==null)if(t=ui(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function Ay(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eb()){case Yf:return 1;case Ny:return 4;case Hl:case Pb:return 16;case ky:return 536870912;default:return 16}default:return 16}}var Gr=null,th=null,Sl=null;function Fy(){if(Sl)return Sl;var e,t=th,n=t.length,r,s="value"in Gr?Gr.value:Gr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Sl=s.slice(e,1<r?1-r:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function Fm(){return!1}function on(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nl:Fm,this.isPropagationStopped=Fm,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=on(fo),_a=He({},fo,{view:0,detail:0}),zb=on(_a),yu,vu,No,Mc=He({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(yu=e.screenX-No.screenX,vu=e.screenY-No.screenY):vu=yu=0,No=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),Om=on(Mc),Ub=He({},Mc,{dataTransfer:0}),Bb=on(Ub),Hb=He({},_a,{relatedTarget:0}),wu=on(Hb),Wb=He({},fo,{animationName:0,elapsedTime:0,pseudoElement:0}),Kb=on(Wb),qb=He({},fo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qb=on(qb),Gb=He({},fo,{data:0}),Lm=on(Gb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zb[e])?!!t[e]:!1}function rh(){return Jb}var ej=He({},_a,{key:function(e){if(e.key){var t=Xb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tj=on(ej),nj=He({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dm=on(nj),rj=He({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),sj=on(rj),ij=He({},fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),oj=on(ij),aj=He({},Mc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lj=on(aj),cj=[9,13,27,32],sh=mr&&"CompositionEvent"in window,zo=null;mr&&"documentMode"in document&&(zo=document.documentMode);var uj=mr&&"TextEvent"in window&&!zo,Oy=mr&&(!sh||zo&&8<zo&&11>=zo),Vm=" ",Im=!1;function Ly(e,t){switch(e){case"keyup":return cj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function dj(e,t){switch(e){case"compositionend":return Dy(t);case"keypress":return t.which!==32?null:(Im=!0,Vm);case"textInput":return e=t.data,e===Vm&&Im?null:e;default:return null}}function fj(e,t){if(vi)return e==="compositionend"||!sh&&Ly(e,t)?(e=Fy(),Sl=th=Gr=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oy&&t.locale!=="ko"?null:t.data;default:return null}}var hj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hj[e.type]:t==="textarea"}function Vy(e,t,n,r){py(r),t=Ql(t,"onChange"),0<t.length&&(n=new nh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Uo=null,sa=null;function mj(e){Gy(e,0)}function Rc(e){var t=ji(e);if(ly(t))return e}function pj(e,t){if(e==="change")return t}var Iy=!1;if(mr){var bu;if(mr){var ju="oninput"in document;if(!ju){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),ju=typeof zm.oninput=="function"}bu=ju}else bu=!1;Iy=bu&&(!document.documentMode||9<document.documentMode)}function Um(){Uo&&(Uo.detachEvent("onpropertychange",$y),sa=Uo=null)}function $y(e){if(e.propertyName==="value"&&Rc(sa)){var t=[];Vy(t,sa,e,Xf(e)),vy(mj,t)}}function xj(e,t,n){e==="focusin"?(Um(),Uo=t,sa=n,Uo.attachEvent("onpropertychange",$y)):e==="focusout"&&Um()}function gj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(sa)}function yj(e,t){if(e==="click")return Rc(t)}function vj(e,t){if(e==="input"||e==="change")return Rc(t)}function wj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:wj;function ia(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!od.call(t,s)||!_n(e[s],t[s]))return!1}return!0}function Bm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hm(e,t){var n=Bm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bm(n)}}function zy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uy(){for(var e=window,t=zl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zl(e.document)}return t}function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bj(e){var t=Uy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zy(n.ownerDocument.documentElement,n)){if(r!==null&&ih(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Hm(n,i);var a=Hm(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jj=mr&&"documentMode"in document&&11>=document.documentMode,wi=null,kd=null,Bo=null,Cd=!1;function Wm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cd||wi==null||wi!==zl(r)||(r=wi,"selectionStart"in r&&ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&ia(Bo,r)||(Bo=r,r=Ql(kd,"onSelect"),0<r.length&&(t=new nh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wi)))}function rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bi={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},Su={},By={};mr&&(By=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);function Ac(e){if(Su[e])return Su[e];if(!bi[e])return e;var t=bi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in By)return Su[e]=t[n];return e}var Hy=Ac("animationend"),Wy=Ac("animationiteration"),Ky=Ac("animationstart"),qy=Ac("transitionend"),Qy=new Map,Km="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(e,t){Qy.set(e,t),ci(t,[e])}for(var Nu=0;Nu<Km.length;Nu++){var ku=Km[Nu],Sj=ku.toLowerCase(),Nj=ku[0].toUpperCase()+ku.slice(1);ms(Sj,"on"+Nj)}ms(Hy,"onAnimationEnd");ms(Wy,"onAnimationIteration");ms(Ky,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(qy,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oo));function qm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Sb(r,t,void 0,e),e.currentTarget=null}function Gy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;qm(s,l,u),i=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;qm(s,l,u),i=c}}}if(Bl)throw e=bd,Bl=!1,bd=null,e}function De(e,t){var n=t[Md];n===void 0&&(n=t[Md]=new Set);var r=e+"__bubble";n.has(r)||(Xy(t,e,2,!1),n.add(r))}function Cu(e,t,n){var r=0;t&&(r|=4),Xy(n,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function oa(e){if(!e[sl]){e[sl]=!0,ry.forEach(function(n){n!=="selectionchange"&&(kj.has(n)||Cu(n,!1,e),Cu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,Cu("selectionchange",!1,t))}}function Xy(e,t,n,r){switch(Ay(t)){case 1:var s=Ib;break;case 4:s=$b;break;default:s=eh}n=s.bind(null,t,n,e),s=void 0,!wd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Eu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=As(l),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}l=l.parentNode}}r=r.return}vy(function(){var u=i,d=Xf(n),f=[];e:{var h=Qy.get(e);if(h!==void 0){var m=nh,y=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":m=tj;break;case"focusin":y="focus",m=wu;break;case"focusout":y="blur",m=wu;break;case"beforeblur":case"afterblur":m=wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Bb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sj;break;case Hy:case Wy:case Ky:m=Kb;break;case qy:m=oj;break;case"scroll":m=zb;break;case"wheel":m=lj;break;case"copy":case"cut":case"paste":m=Qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dm}var v=(t&4)!==0,j=!v&&e==="scroll",w=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,x;g!==null;){x=g;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,w!==null&&(b=ea(g,w),b!=null&&v.push(aa(g,b,x)))),j)break;g=g.return}0<v.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==yd&&(y=n.relatedTarget||n.fromElement)&&(As(y)||y[pr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?As(y):null,y!==null&&(j=ui(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=Om,b="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Dm,b="onPointerLeave",w="onPointerEnter",g="pointer"),j=m==null?h:ji(m),x=y==null?h:ji(y),h=new v(b,g+"leave",m,n,d),h.target=j,h.relatedTarget=x,b=null,As(d)===u&&(v=new v(w,g+"enter",y,n,d),v.target=x,v.relatedTarget=j,b=v),j=b,m&&y)t:{for(v=m,w=y,g=0,x=v;x;x=pi(x))g++;for(x=0,b=w;b;b=pi(b))x++;for(;0<g-x;)v=pi(v),g--;for(;0<x-g;)w=pi(w),x--;for(;g--;){if(v===w||w!==null&&v===w.alternate)break t;v=pi(v),w=pi(w)}v=null}else v=null;m!==null&&Qm(f,h,m,v,!1),y!==null&&j!==null&&Qm(f,j,y,v,!0)}}e:{if(h=u?ji(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=pj;else if($m(h))if(Iy)k=vj;else{k=gj;var T=xj}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=yj);if(k&&(k=k(e,u))){Vy(f,k,n,d);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&hd(h,"number",h.value)}switch(T=u?ji(u):window,e){case"focusin":($m(T)||T.contentEditable==="true")&&(wi=T,kd=u,Bo=null);break;case"focusout":Bo=kd=wi=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Wm(f,n,d);break;case"selectionchange":if(jj)break;case"keydown":case"keyup":Wm(f,n,d)}var R;if(sh)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else vi?Ly(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Oy&&n.locale!=="ko"&&(vi||_!=="onCompositionStart"?_==="onCompositionEnd"&&vi&&(R=Fy()):(Gr=d,th="value"in Gr?Gr.value:Gr.textContent,vi=!0)),T=Ql(u,_),0<T.length&&(_=new Lm(_,e,null,n,d),f.push({event:_,listeners:T}),R?_.data=R:(R=Dy(n),R!==null&&(_.data=R)))),(R=uj?dj(e,n):fj(e,n))&&(u=Ql(u,"onBeforeInput"),0<u.length&&(d=new Lm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}Gy(f,t)})}function aa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ea(e,n),i!=null&&r.unshift(aa(e,i,s)),i=ea(e,t),i!=null&&r.push(aa(e,i,s))),e=e.return}return r}function pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qm(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ea(n,i),c!=null&&a.unshift(aa(n,c,l))):s||(c=ea(n,i),c!=null&&a.push(aa(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Cj=/\r\n?/g,Ej=/\u0000|\uFFFD/g;function Gm(e){return(typeof e=="string"?e:""+e).replace(Cj,`
`).replace(Ej,"")}function il(e,t,n){if(t=Gm(t),Gm(e)!==t&&n)throw Error($(425))}function Gl(){}var Ed=null,Pd=null;function Td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,Pj=typeof clearTimeout=="function"?clearTimeout:void 0,Xm=typeof Promise=="function"?Promise:void 0,Tj=typeof queueMicrotask=="function"?queueMicrotask:typeof Xm<"u"?function(e){return Xm.resolve(null).then(e).catch(_j)}:_d;function _j(e){setTimeout(function(){throw e})}function Pu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ra(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ra(t)}function ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ym(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),$n="__reactFiber$"+ho,la="__reactProps$"+ho,pr="__reactContainer$"+ho,Md="__reactEvents$"+ho,Mj="__reactListeners$"+ho,Rj="__reactHandles$"+ho;function As(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[$n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ym(e);e!==null;){if(n=e[$n])return n;e=Ym(e)}return t}e=n,n=e.parentNode}return null}function Ma(e){return e=e[$n]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ji(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Fc(e){return e[la]||null}var Rd=[],Si=-1;function ps(e){return{current:e}}function Ve(e){0>Si||(e.current=Rd[Si],Rd[Si]=null,Si--)}function Oe(e,t){Si++,Rd[Si]=e.current,e.current=t}var ds={},Ct=ps(ds),Ut=ps(!1),Js=ds;function Zi(e,t){var n=e.type.contextTypes;if(!n)return ds;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(e){return e=e.childContextTypes,e!=null}function Xl(){Ve(Ut),Ve(Ct)}function Zm(e,t,n){if(Ct.current!==ds)throw Error($(168));Oe(Ct,t),Oe(Ut,n)}function Yy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($(108,xb(e)||"Unknown",s));return He({},n,r)}function Yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ds,Js=Ct.current,Oe(Ct,e),Oe(Ut,Ut.current),!0}function Jm(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Yy(e,t,Js),r.__reactInternalMemoizedMergedChildContext=e,Ve(Ut),Ve(Ct),Oe(Ct,e)):Ve(Ut),Oe(Ut,n)}var Zn=null,Oc=!1,Tu=!1;function Zy(e){Zn===null?Zn=[e]:Zn.push(e)}function Aj(e){Oc=!0,Zy(e)}function xs(){if(!Tu&&Zn!==null){Tu=!0;var e=0,t=Re;try{var n=Zn;for(Re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Zn=null,Oc=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(e+1)),Sy(Yf,xs),s}finally{Re=t,Tu=!1}}return null}var Ni=[],ki=0,Zl=null,Jl=0,fn=[],hn=0,ei=null,sr=1,ir="";function Ps(e,t){Ni[ki++]=Jl,Ni[ki++]=Zl,Zl=e,Jl=t}function Jy(e,t,n){fn[hn++]=sr,fn[hn++]=ir,fn[hn++]=ei,ei=e;var r=sr;e=ir;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var i=32-Pn(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,sr=1<<32-Pn(t)+s|n<<s|r,ir=i+e}else sr=1<<i|n<<s|r,ir=e}function oh(e){e.return!==null&&(Ps(e,1),Jy(e,1,0))}function ah(e){for(;e===Zl;)Zl=Ni[--ki],Ni[ki]=null,Jl=Ni[--ki],Ni[ki]=null;for(;e===ei;)ei=fn[--hn],fn[hn]=null,ir=fn[--hn],fn[hn]=null,sr=fn[--hn],fn[hn]=null}var tn=null,en=null,Ie=!1,En=null;function e0(e,t){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ep(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,en=ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,en=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ei!==null?{id:sr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tn=e,en=null,!0):!1;default:return!1}}function Ad(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fd(e){if(Ie){var t=en;if(t){var n=t;if(!ep(e,t)){if(Ad(e))throw Error($(418));t=ns(n.nextSibling);var r=tn;t&&ep(e,t)?e0(r,n):(e.flags=e.flags&-4097|2,Ie=!1,tn=e)}}else{if(Ad(e))throw Error($(418));e.flags=e.flags&-4097|2,Ie=!1,tn=e}}}function tp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function ol(e){if(e!==tn)return!1;if(!Ie)return tp(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Td(e.type,e.memoizedProps)),t&&(t=en)){if(Ad(e))throw t0(),Error($(418));for(;t;)e0(e,t),t=ns(t.nextSibling)}if(tp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){en=ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}en=null}}else en=tn?ns(e.stateNode.nextSibling):null;return!0}function t0(){for(var e=en;e;)e=ns(e.nextSibling)}function Ji(){en=tn=null,Ie=!1}function lh(e){En===null?En=[e]:En.push(e)}var Fj=wr.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function al(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function np(e){var t=e._init;return t(e._payload)}function n0(e){function t(w,g){if(e){var x=w.deletions;x===null?(w.deletions=[g],w.flags|=16):x.push(g)}}function n(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function s(w,g){return w=os(w,g),w.index=0,w.sibling=null,w}function i(w,g,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<g?(w.flags|=2,g):x):(w.flags|=2,g)):(w.flags|=1048576,g)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,x,b){return g===null||g.tag!==6?(g=Lu(x,w.mode,b),g.return=w,g):(g=s(g,x),g.return=w,g)}function c(w,g,x,b){var k=x.type;return k===yi?d(w,g,x.props.children,b,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fr&&np(k)===g.type)?(b=s(g,x.props),b.ref=ko(w,g,x),b.return=w,b):(b=Ml(x.type,x.key,x.props,null,w.mode,b),b.ref=ko(w,g,x),b.return=w,b)}function u(w,g,x,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Du(x,w.mode,b),g.return=w,g):(g=s(g,x.children||[]),g.return=w,g)}function d(w,g,x,b,k){return g===null||g.tag!==7?(g=Gs(x,w.mode,b,k),g.return=w,g):(g=s(g,x),g.return=w,g)}function f(w,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Lu(""+g,w.mode,x),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xa:return x=Ml(g.type,g.key,g.props,null,w.mode,x),x.ref=ko(w,null,g),x.return=w,x;case gi:return g=Du(g,w.mode,x),g.return=w,g;case Fr:var b=g._init;return f(w,b(g._payload),x)}if(Ao(g)||wo(g))return g=Gs(g,w.mode,x,null),g.return=w,g;al(w,g)}return null}function h(w,g,x,b){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(w,g,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Xa:return x.key===k?c(w,g,x,b):null;case gi:return x.key===k?u(w,g,x,b):null;case Fr:return k=x._init,h(w,g,k(x._payload),b)}if(Ao(x)||wo(x))return k!==null?null:d(w,g,x,b,null);al(w,x)}return null}function m(w,g,x,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return w=w.get(x)||null,l(g,w,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xa:return w=w.get(b.key===null?x:b.key)||null,c(g,w,b,k);case gi:return w=w.get(b.key===null?x:b.key)||null,u(g,w,b,k);case Fr:var T=b._init;return m(w,g,x,T(b._payload),k)}if(Ao(b)||wo(b))return w=w.get(x)||null,d(g,w,b,k,null);al(g,b)}return null}function y(w,g,x,b){for(var k=null,T=null,R=g,_=g=0,L=null;R!==null&&_<x.length;_++){R.index>_?(L=R,R=null):L=R.sibling;var F=h(w,R,x[_],b);if(F===null){R===null&&(R=L);break}e&&R&&F.alternate===null&&t(w,R),g=i(F,g,_),T===null?k=F:T.sibling=F,T=F,R=L}if(_===x.length)return n(w,R),Ie&&Ps(w,_),k;if(R===null){for(;_<x.length;_++)R=f(w,x[_],b),R!==null&&(g=i(R,g,_),T===null?k=R:T.sibling=R,T=R);return Ie&&Ps(w,_),k}for(R=r(w,R);_<x.length;_++)L=m(R,w,_,x[_],b),L!==null&&(e&&L.alternate!==null&&R.delete(L.key===null?_:L.key),g=i(L,g,_),T===null?k=L:T.sibling=L,T=L);return e&&R.forEach(function(q){return t(w,q)}),Ie&&Ps(w,_),k}function v(w,g,x,b){var k=wo(x);if(typeof k!="function")throw Error($(150));if(x=k.call(x),x==null)throw Error($(151));for(var T=k=null,R=g,_=g=0,L=null,F=x.next();R!==null&&!F.done;_++,F=x.next()){R.index>_?(L=R,R=null):L=R.sibling;var q=h(w,R,F.value,b);if(q===null){R===null&&(R=L);break}e&&R&&q.alternate===null&&t(w,R),g=i(q,g,_),T===null?k=q:T.sibling=q,T=q,R=L}if(F.done)return n(w,R),Ie&&Ps(w,_),k;if(R===null){for(;!F.done;_++,F=x.next())F=f(w,F.value,b),F!==null&&(g=i(F,g,_),T===null?k=F:T.sibling=F,T=F);return Ie&&Ps(w,_),k}for(R=r(w,R);!F.done;_++,F=x.next())F=m(R,w,_,F.value,b),F!==null&&(e&&F.alternate!==null&&R.delete(F.key===null?_:F.key),g=i(F,g,_),T===null?k=F:T.sibling=F,T=F);return e&&R.forEach(function(Q){return t(w,Q)}),Ie&&Ps(w,_),k}function j(w,g,x,b){if(typeof x=="object"&&x!==null&&x.type===yi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Xa:e:{for(var k=x.key,T=g;T!==null;){if(T.key===k){if(k=x.type,k===yi){if(T.tag===7){n(w,T.sibling),g=s(T,x.props.children),g.return=w,w=g;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fr&&np(k)===T.type){n(w,T.sibling),g=s(T,x.props),g.ref=ko(w,T,x),g.return=w,w=g;break e}n(w,T);break}else t(w,T);T=T.sibling}x.type===yi?(g=Gs(x.props.children,w.mode,b,x.key),g.return=w,w=g):(b=Ml(x.type,x.key,x.props,null,w.mode,b),b.ref=ko(w,g,x),b.return=w,w=b)}return a(w);case gi:e:{for(T=x.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(w,g.sibling),g=s(g,x.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else t(w,g);g=g.sibling}g=Du(x,w.mode,b),g.return=w,w=g}return a(w);case Fr:return T=x._init,j(w,g,T(x._payload),b)}if(Ao(x))return y(w,g,x,b);if(wo(x))return v(w,g,x,b);al(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(w,g.sibling),g=s(g,x),g.return=w,w=g):(n(w,g),g=Lu(x,w.mode,b),g.return=w,w=g),a(w)):n(w,g)}return j}var eo=n0(!0),r0=n0(!1),ec=ps(null),tc=null,Ci=null,ch=null;function uh(){ch=Ci=tc=null}function dh(e){var t=ec.current;Ve(ec),e._currentValue=t}function Od(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Di(e,t){tc=e,ch=Ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(ch!==e)if(e={context:e,memoizedValue:t,next:null},Ci===null){if(tc===null)throw Error($(308));Ci=e,tc.dependencies={lanes:0,firstContext:e}}else Ci=Ci.next=e;return t}var Fs=null;function fh(e){Fs===null?Fs=[e]:Fs.push(e)}function s0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,fh(t)):(n.next=s.next,s.next=n),t.interleaved=n,xr(e,r)}function xr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Or=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xr(e,n)}return s=r.interleaved,s===null?(t.next=t,fh(r)):(t.next=s.next,s.next=t),r.interleaved=t,xr(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zf(e,n)}}function rp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nc(e,t,n,r){var s=e.updateQueue;Or=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(h=t,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=He({},f,h);break e;case 2:Or=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ni|=a,e.lanes=a,e.memoizedState=f}}function sp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Ra={},Bn=ps(Ra),ca=ps(Ra),ua=ps(Ra);function Os(e){if(e===Ra)throw Error($(174));return e}function mh(e,t){switch(Oe(ua,t),Oe(ca,e),Oe(Bn,Ra),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pd(t,e)}Ve(Bn),Oe(Bn,t)}function to(){Ve(Bn),Ve(ca),Ve(ua)}function o0(e){Os(ua.current);var t=Os(Bn.current),n=pd(t,e.type);t!==n&&(Oe(ca,e),Oe(Bn,n))}function ph(e){ca.current===e&&(Ve(Bn),Ve(ca))}var ze=ps(0);function rc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _u=[];function xh(){for(var e=0;e<_u.length;e++)_u[e]._workInProgressVersionPrimary=null;_u.length=0}var Cl=wr.ReactCurrentDispatcher,Mu=wr.ReactCurrentBatchConfig,ti=0,Be=null,it=null,dt=null,sc=!1,Ho=!1,da=0,Oj=0;function vt(){throw Error($(321))}function gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function yh(e,t,n,r,s,i){if(ti=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cl.current=e===null||e.memoizedState===null?Ij:$j,e=n(r,s),Ho){i=0;do{if(Ho=!1,da=0,25<=i)throw Error($(301));i+=1,dt=it=null,t.updateQueue=null,Cl.current=zj,e=n(r,s)}while(Ho)}if(Cl.current=ic,t=it!==null&&it.next!==null,ti=0,dt=it=Be=null,sc=!1,t)throw Error($(300));return e}function vh(){var e=da!==0;return da=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Be.memoizedState=dt=e:dt=dt.next=e,dt}function gn(){if(it===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=dt===null?Be.memoizedState:dt.next;if(t!==null)dt=t,it=e;else{if(e===null)throw Error($(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?Be.memoizedState=dt=e:dt=dt.next=e}return dt}function fa(e,t){return typeof t=="function"?t(e):t}function Ru(e){var t=gn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=it,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((ti&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,Be.lanes|=d,ni|=d}u=u.next}while(u!==null&&u!==i);c===null?a=r:c.next=l,_n(r,t.memoizedState)||(zt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,ni|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Au(e){var t=gn(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);_n(i,t.memoizedState)||(zt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function a0(){}function l0(e,t){var n=Be,r=gn(),s=t(),i=!_n(r.memoizedState,s);if(i&&(r.memoizedState=s,zt=!0),r=r.queue,wh(d0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,ha(9,u0.bind(null,n,r,s,t),void 0,null),ft===null)throw Error($(349));ti&30||c0(n,t,s)}return s}function c0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function u0(e,t,n,r){t.value=n,t.getSnapshot=r,f0(t)&&h0(e)}function d0(e,t,n){return n(function(){f0(t)&&h0(e)})}function f0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function h0(e){var t=xr(e,1);t!==null&&Tn(t,e,1,-1)}function ip(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t.queue=e,e=e.dispatch=Vj.bind(null,Be,e),[t.memoizedState,e]}function ha(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function m0(){return gn().memoizedState}function El(e,t,n,r){var s=Ln();Be.flags|=e,s.memoizedState=ha(1|t,n,void 0,r===void 0?null:r)}function Lc(e,t,n,r){var s=gn();r=r===void 0?null:r;var i=void 0;if(it!==null){var a=it.memoizedState;if(i=a.destroy,r!==null&&gh(r,a.deps)){s.memoizedState=ha(t,n,i,r);return}}Be.flags|=e,s.memoizedState=ha(1|t,n,i,r)}function op(e,t){return El(8390656,8,e,t)}function wh(e,t){return Lc(2048,8,e,t)}function p0(e,t){return Lc(4,2,e,t)}function x0(e,t){return Lc(4,4,e,t)}function g0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function y0(e,t,n){return n=n!=null?n.concat([e]):null,Lc(4,4,g0.bind(null,t,e),n)}function bh(){}function v0(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function w0(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&gh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function b0(e,t,n){return ti&21?(_n(n,t)||(n=Cy(),Be.lanes|=n,ni|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=n)}function Lj(e,t){var n=Re;Re=n!==0&&4>n?n:4,e(!0);var r=Mu.transition;Mu.transition={};try{e(!1),t()}finally{Re=n,Mu.transition=r}}function j0(){return gn().memoizedState}function Dj(e,t,n){var r=is(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},S0(e))N0(t,n);else if(n=s0(e,t,n,r),n!==null){var s=Rt();Tn(n,e,r,s),k0(n,t,r)}}function Vj(e,t,n){var r=is(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(S0(e))N0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,n);if(s.hasEagerState=!0,s.eagerState=l,_n(l,a)){var c=t.interleaved;c===null?(s.next=s,fh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=s0(e,t,s,r),n!==null&&(s=Rt(),Tn(n,e,r,s),k0(n,t,r))}}function S0(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function N0(e,t){Ho=sc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function k0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zf(e,n)}}var ic={readContext:xn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Ij={readContext:xn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:op,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,g0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dj.bind(null,Be,e),[r.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:ip,useDebugValue:bh,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=ip(!1),t=e[0];return e=Lj.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Be,s=Ln();if(Ie){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),ft===null)throw Error($(349));ti&30||c0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,op(d0.bind(null,r,i,e),[e]),r.flags|=2048,ha(9,u0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ln(),t=ft.identifierPrefix;if(Ie){var n=ir,r=sr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=da++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Oj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$j={readContext:xn,useCallback:v0,useContext:xn,useEffect:wh,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:x0,useMemo:w0,useReducer:Ru,useRef:m0,useState:function(){return Ru(fa)},useDebugValue:bh,useDeferredValue:function(e){var t=gn();return b0(t,it.memoizedState,e)},useTransition:function(){var e=Ru(fa)[0],t=gn().memoizedState;return[e,t]},useMutableSource:a0,useSyncExternalStore:l0,useId:j0,unstable_isNewReconciler:!1},zj={readContext:xn,useCallback:v0,useContext:xn,useEffect:wh,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:x0,useMemo:w0,useReducer:Au,useRef:m0,useState:function(){return Au(fa)},useDebugValue:bh,useDeferredValue:function(e){var t=gn();return it===null?t.memoizedState=e:b0(t,it.memoizedState,e)},useTransition:function(){var e=Au(fa)[0],t=gn().memoizedState;return[e,t]},useMutableSource:a0,useSyncExternalStore:l0,useId:j0,unstable_isNewReconciler:!1};function Sn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ld(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dc={isMounted:function(e){return(e=e._reactInternals)?ui(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=is(e),i=lr(r,s);i.payload=t,n!=null&&(i.callback=n),t=rs(e,i,s),t!==null&&(Tn(t,e,s,r),kl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rt(),s=is(e),i=lr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rs(e,i,s),t!==null&&(Tn(t,e,s,r),kl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),r=is(e),s=lr(n,r);s.tag=2,t!=null&&(s.callback=t),t=rs(e,s,r),t!==null&&(Tn(t,e,r,n),kl(t,e,r))}};function ap(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!ia(n,r)||!ia(s,i):!0}function C0(e,t,n){var r=!1,s=ds,i=t.contextType;return typeof i=="object"&&i!==null?i=xn(i):(s=Bt(t)?Js:Ct.current,r=t.contextTypes,i=(r=r!=null)?Zi(e,s):ds),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function Dd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},hh(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xn(i):(i=Bt(t)?Js:Ct.current,s.context=Zi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ld(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dc.enqueueReplaceState(s,s.state,null),nc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var n="",r=t;do n+=pb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Fu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uj=typeof WeakMap=="function"?WeakMap:Map;function E0(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ac||(ac=!0,Qd=r),Vd(e,t)},n}function P0(e,t,n){n=lr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Vd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vd(e,t),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function cp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uj;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=nS.bind(null,e,t,n),t.then(e,e))}function up(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,rs(n,t,1))),n.lanes|=1),e)}var Bj=wr.ReactCurrentOwner,zt=!1;function _t(e,t,n,r){t.child=e===null?r0(t,null,n,r):eo(t,e.child,n,r)}function fp(e,t,n,r,s){n=n.render;var i=t.ref;return Di(t,s),r=yh(e,t,n,r,i,s),n=vh(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gr(e,t,s)):(Ie&&n&&oh(t),t.flags|=1,_t(e,t,r,s),t.child)}function hp(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Th(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,T0(e,t,i,r,s)):(e=Ml(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:ia,n(a,r)&&e.ref===t.ref)return gr(e,t,s)}return t.flags|=1,e=os(i,r),e.ref=t.ref,e.return=t,t.child=e}function T0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ia(i,r)&&e.ref===t.ref)if(zt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,gr(e,t,s)}return Id(e,t,n,r,s)}function _0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Pi,Jt),Jt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Pi,Jt),Jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(Pi,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Oe(Pi,Jt),Jt|=r;return _t(e,t,s,n),t.child}function M0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Id(e,t,n,r,s){var i=Bt(n)?Js:Ct.current;return i=Zi(t,i),Di(t,s),n=yh(e,t,n,r,i,s),r=vh(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,gr(e,t,s)):(Ie&&r&&oh(t),t.flags|=1,_t(e,t,n,s),t.child)}function mp(e,t,n,r,s){if(Bt(n)){var i=!0;Yl(t)}else i=!1;if(Di(t,s),t.stateNode===null)Pl(e,t),C0(t,n,r),Dd(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Bt(n)?Js:Ct.current,u=Zi(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&lp(t,a,r,u),Or=!1;var h=t.memoizedState;a.state=h,nc(t,r,a,s),c=t.memoizedState,l!==r||h!==c||Ut.current||Or?(typeof d=="function"&&(Ld(t,n,d,r),c=t.memoizedState),(l=Or||ap(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,i0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Sn(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=xn(c):(c=Bt(n)?Js:Ct.current,c=Zi(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&lp(t,a,r,c),Or=!1,h=t.memoizedState,a.state=h,nc(t,r,a,s);var y=t.memoizedState;l!==f||h!==y||Ut.current||Or?(typeof m=="function"&&(Ld(t,n,m,r),y=t.memoizedState),(u=Or||ap(t,n,u,r,h,y,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return $d(e,t,n,r,i,s)}function $d(e,t,n,r,s,i){M0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Jm(t,n,!1),gr(e,t,i);r=t.stateNode,Bj.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=eo(t,e.child,null,i),t.child=eo(t,null,l,i)):_t(e,t,l,i),t.memoizedState=r.state,s&&Jm(t,n,!0),t.child}function R0(e){var t=e.stateNode;t.pendingContext?Zm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zm(e,t.context,!1),mh(e,t.containerInfo)}function pp(e,t,n,r,s){return Ji(),lh(s),t.flags|=256,_t(e,t,n,r),t.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function Ud(e){return{baseLanes:e,cachePool:null,transitions:null}}function A0(e,t,n){var r=t.pendingProps,s=ze.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(ze,s&1),e===null)return Fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=$c(a,r,0,null),e=Gs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ud(n),t.memoizedState=zd,e):jh(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Hj(e,t,a,r,l,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=os(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=os(l,i):(i=Gs(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Ud(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=zd,r}return i=e.child,e=i.sibling,r=os(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function jh(e,t){return t=$c({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,n,r){return r!==null&&lh(r),eo(t,e.child,null,n),e=jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hj(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=Fu(Error($(422))),ll(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$c({mode:"visible",children:r.children},s,0,null),i=Gs(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&eo(t,e.child,null,a),t.child.memoizedState=Ud(a),t.memoizedState=zd,i);if(!(t.mode&1))return ll(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error($(419)),r=Fu(i,r,void 0),ll(e,t,a,r)}if(l=(a&e.childLanes)!==0,zt||l){if(r=ft,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xr(e,s),Tn(r,e,s,-1))}return Ph(),r=Fu(Error($(421))),ll(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rS.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,en=ns(s.nextSibling),tn=t,Ie=!0,En=null,e!==null&&(fn[hn++]=sr,fn[hn++]=ir,fn[hn++]=ei,sr=e.id,ir=e.overflow,ei=t),t=jh(t,r.children),t.flags|=4096,t)}function xp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Od(e.return,t,n)}function Ou(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function F0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(_t(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,n,t);else if(e.tag===19)xp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Oe(ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ou(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ou(t,!0,n,null,i);break;case"together":Ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ni|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=os(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=os(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wj(e,t,n){switch(t.tag){case 3:R0(t),Ji();break;case 5:o0(t);break;case 1:Bt(t.type)&&Yl(t);break;case 4:mh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Oe(ec,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Oe(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?A0(e,t,n):(Oe(ze,ze.current&1),e=gr(e,t,n),e!==null?e.sibling:null);Oe(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return F0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,_0(e,t,n)}return gr(e,t,n)}var O0,Bd,L0,D0;O0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};L0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Os(Bn.current);var i=null;switch(n){case"input":s=dd(e,s),r=dd(e,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=md(e,s),r=md(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gl)}xd(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&De("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};D0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Co(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kj(e,t,n){var r=t.pendingProps;switch(ah(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Bt(t.type)&&Xl(),wt(t),null;case 3:return r=t.stateNode,to(),Ve(Ut),Ve(Ct),xh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ol(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,En!==null&&(Yd(En),En=null))),Bd(e,t),wt(t),null;case 5:ph(t);var s=Os(ua.current);if(n=t.type,e!==null&&t.stateNode!=null)L0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return wt(t),null}if(e=Os(Bn.current),ol(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$n]=t,r[la]=i,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<Oo.length;s++)De(Oo[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":km(r,i),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},De("invalid",r);break;case"textarea":Em(r,i),De("invalid",r)}xd(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&il(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&il(r.textContent,l,e),s=["children",""+l]):Zo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&De("scroll",r)}switch(n){case"input":Ya(r),Cm(r,i,!0);break;case"textarea":Ya(r),Pm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Gl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[$n]=t,e[la]=r,O0(e,t,!1,!1),t.stateNode=e;e:{switch(a=gd(n,r),n){case"dialog":De("cancel",e),De("close",e),s=r;break;case"iframe":case"object":case"embed":De("load",e),s=r;break;case"video":case"audio":for(s=0;s<Oo.length;s++)De(Oo[s],e);s=r;break;case"source":De("error",e),s=r;break;case"img":case"image":case"link":De("error",e),De("load",e),s=r;break;case"details":De("toggle",e),s=r;break;case"input":km(e,r),s=dd(e,r),De("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),De("invalid",e);break;case"textarea":Em(e,r),s=md(e,r),De("invalid",e);break;default:s=r}xd(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?my(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fy(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Jo(e,c):typeof c=="number"&&Jo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&De("scroll",e):c!=null&&Kf(e,i,c,a))}switch(n){case"input":Ya(e),Cm(e,r,!1);break;case"textarea":Ya(e),Pm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+us(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ai(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ai(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)D0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=Os(ua.current),Os(Bn.current),ol(t)){if(r=t.stateNode,n=t.memoizedProps,r[$n]=t,(i=r.nodeValue!==n)&&(e=tn,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=t,t.stateNode=r}return wt(t),null;case 13:if(Ve(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&en!==null&&t.mode&1&&!(t.flags&128))t0(),Ji(),t.flags|=98560,i=!1;else if(i=ol(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[$n]=t}else Ji(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else En!==null&&(Yd(En),En=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?lt===0&&(lt=3):Ph())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return to(),Bd(e,t),e===null&&oa(t.stateNode.containerInfo),wt(t),null;case 10:return dh(t.type._context),wt(t),null;case 17:return Bt(t.type)&&Xl(),wt(t),null;case 19:if(Ve(ze),i=t.memoizedState,i===null)return wt(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)Co(i,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=rc(e),a!==null){for(t.flags|=128,Co(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>ro&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304)}else{if(!r)if(e=rc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Co(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Ie)return wt(t),null}else 2*Ge()-i.renderingStartTime>ro&&n!==1073741824&&(t.flags|=128,r=!0,Co(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=ze.current,Oe(ze,r?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return Eh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Jt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function qj(e,t){switch(ah(t),t.tag){case 1:return Bt(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(),Ve(Ut),Ve(Ct),xh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ph(t),null;case 13:if(Ve(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Ji()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ve(ze),null;case 4:return to(),null;case 10:return dh(t.type._context),null;case 22:case 23:return Eh(),null;case 24:return null;default:return null}}var cl=!1,jt=!1,Qj=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ei(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function Hd(e,t,n){try{n()}catch(r){qe(e,t,r)}}var gp=!1;function Gj(e,t){if(Ed=Kl,e=Uy(),ih(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==i||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===i&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pd={focusedElem:e,selectionRange:n},Kl=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,j=y.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:Sn(t.type,v),j);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(b){qe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return y=gp,gp=!1,y}function Wo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hd(t,n,i)}s=s.next}while(s!==r)}}function Vc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Wd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function V0(e){var t=e.alternate;t!==null&&(e.alternate=null,V0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[la],delete t[Md],delete t[Mj],delete t[Rj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I0(e){return e.tag===5||e.tag===3||e.tag===4}function yp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Gl));else if(r!==4&&(e=e.child,e!==null))for(Kd(e,t,n),e=e.sibling;e!==null;)Kd(e,t,n),e=e.sibling}function qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qd(e,t,n),e=e.sibling;e!==null;)qd(e,t,n),e=e.sibling}var mt=null,Cn=!1;function _r(e,t,n){for(n=n.child;n!==null;)$0(e,t,n),n=n.sibling}function $0(e,t,n){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(_c,n)}catch{}switch(n.tag){case 5:jt||Ei(n,t);case 6:var r=mt,s=Cn;mt=null,_r(e,t,n),mt=r,Cn=s,mt!==null&&(Cn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Cn?(e=mt,n=n.stateNode,e.nodeType===8?Pu(e.parentNode,n):e.nodeType===1&&Pu(e,n),ra(e)):Pu(mt,n.stateNode));break;case 4:r=mt,s=Cn,mt=n.stateNode.containerInfo,Cn=!0,_r(e,t,n),mt=r,Cn=s;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Hd(n,t,a),s=s.next}while(s!==r)}_r(e,t,n);break;case 1:if(!jt&&(Ei(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){qe(n,t,l)}_r(e,t,n);break;case 21:_r(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,_r(e,t,n),jt=r):_r(e,t,n);break;default:_r(e,t,n)}}function vp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qj),t.forEach(function(r){var s=sS.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:mt=l.stateNode,Cn=!1;break e;case 3:mt=l.stateNode.containerInfo,Cn=!0;break e;case 4:mt=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(mt===null)throw Error($(160));$0(i,a,s),mt=null,Cn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z0(t,e),t=t.sibling}function z0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jn(t,e),Fn(e),r&4){try{Wo(3,e,e.return),Vc(3,e)}catch(v){qe(e,e.return,v)}try{Wo(5,e,e.return)}catch(v){qe(e,e.return,v)}}break;case 1:jn(t,e),Fn(e),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(jn(t,e),Fn(e),r&512&&n!==null&&Ei(n,n.return),e.flags&32){var s=e.stateNode;try{Jo(s,"")}catch(v){qe(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&cy(s,i),gd(l,a);var u=gd(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?my(s,f):d==="dangerouslySetInnerHTML"?fy(s,f):d==="children"?Jo(s,f):Kf(s,d,f,u)}switch(l){case"input":fd(s,i);break;case"textarea":uy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ai(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ai(s,!!i.multiple,i.defaultValue,!0):Ai(s,!!i.multiple,i.multiple?[]:"",!1))}s[la]=i}catch(v){qe(e,e.return,v)}}break;case 6:if(jn(t,e),Fn(e),r&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){qe(e,e.return,v)}}break;case 3:if(jn(t,e),Fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(t.containerInfo)}catch(v){qe(e,e.return,v)}break;case 4:jn(t,e),Fn(e);break;case 13:jn(t,e),Fn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kh=Ge())),r&4&&vp(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(u=jt)||d,jn(t,e),jt=u):jn(t,e),Fn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:Wo(4,h,h.return);break;case 1:Ei(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){qe(r,n,v)}}break;case 5:Ei(h,h.return);break;case 22:if(h.memoizedState!==null){bp(f);continue}}m!==null?(m.return=h,te=m):bp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hy("display",a))}catch(v){qe(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){qe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jn(t,e),Fn(e),r&4&&vp(e);break;case 21:break;default:jn(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I0(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Jo(s,""),r.flags&=-33);var i=yp(e);qd(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=yp(e);Kd(e,l,a);break;default:throw Error($(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xj(e,t,n){te=e,U0(e)}function U0(e,t,n){for(var r=(e.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||cl;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jt;l=cl;var u=jt;if(cl=a,(jt=c)&&!u)for(te=s;te!==null;)a=te,c=a.child,a.tag===22&&a.memoizedState!==null?jp(s):c!==null?(c.return=a,te=c):jp(s);for(;i!==null;)te=i,U0(i),i=i.sibling;te=s,cl=l,jt=u}wp(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):wp(e)}}function wp(e){for(;te!==null;){var t=te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Vc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Sn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&sp(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}sp(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ra(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}jt||t.flags&512&&Wd(t)}catch(h){qe(t,t.return,h)}}if(t===e){te=null;break}if(n=t.sibling,n!==null){n.return=t.return,te=n;break}te=t.return}}function bp(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,te=n;break}te=t.return}}function jp(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vc(4,t)}catch(c){qe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){qe(t,s,c)}}var i=t.return;try{Wd(t)}catch(c){qe(t,i,c)}break;case 5:var a=t.return;try{Wd(t)}catch(c){qe(t,a,c)}}}catch(c){qe(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var Yj=Math.ceil,oc=wr.ReactCurrentDispatcher,Sh=wr.ReactCurrentOwner,pn=wr.ReactCurrentBatchConfig,Ce=0,ft=null,tt=null,xt=0,Jt=0,Pi=ps(0),lt=0,ma=null,ni=0,Ic=0,Nh=0,Ko=null,It=null,kh=0,ro=1/0,Yn=null,ac=!1,Qd=null,ss=null,ul=!1,Xr=null,lc=0,qo=0,Gd=null,Tl=-1,_l=0;function Rt(){return Ce&6?Ge():Tl!==-1?Tl:Tl=Ge()}function is(e){return e.mode&1?Ce&2&&xt!==0?xt&-xt:Fj.transition!==null?(_l===0&&(_l=Cy()),_l):(e=Re,e!==0||(e=window.event,e=e===void 0?16:Ay(e.type)),e):1}function Tn(e,t,n,r){if(50<qo)throw qo=0,Gd=null,Error($(185));Ta(e,n,r),(!(Ce&2)||e!==ft)&&(e===ft&&(!(Ce&2)&&(Ic|=n),lt===4&&Vr(e,xt)),Ht(e,r),n===1&&Ce===0&&!(t.mode&1)&&(ro=Ge()+500,Oc&&xs()))}function Ht(e,t){var n=e.callbackNode;Fb(e,t);var r=Wl(e,e===ft?xt:0);if(r===0)n!==null&&Mm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mm(n),t===1)e.tag===0?Aj(Sp.bind(null,e)):Zy(Sp.bind(null,e)),Tj(function(){!(Ce&6)&&xs()}),n=null;else{switch(Ey(r)){case 1:n=Yf;break;case 4:n=Ny;break;case 16:n=Hl;break;case 536870912:n=ky;break;default:n=Hl}n=X0(n,B0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function B0(e,t){if(Tl=-1,_l=0,Ce&6)throw Error($(327));var n=e.callbackNode;if(Vi()&&e.callbackNode!==n)return null;var r=Wl(e,e===ft?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cc(e,r);else{t=r;var s=Ce;Ce|=2;var i=W0();(ft!==e||xt!==t)&&(Yn=null,ro=Ge()+500,Qs(e,t));do try{eS();break}catch(l){H0(e,l)}while(!0);uh(),oc.current=i,Ce=s,tt!==null?t=0:(ft=null,xt=0,t=lt)}if(t!==0){if(t===2&&(s=jd(e),s!==0&&(r=s,t=Xd(e,s))),t===1)throw n=ma,Qs(e,0),Vr(e,r),Ht(e,Ge()),n;if(t===6)Vr(e,r);else{if(s=e.current.alternate,!(r&30)&&!Zj(s)&&(t=cc(e,r),t===2&&(i=jd(e),i!==0&&(r=i,t=Xd(e,i))),t===1))throw n=ma,Qs(e,0),Vr(e,r),Ht(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Ts(e,It,Yn);break;case 3:if(Vr(e,r),(r&130023424)===r&&(t=kh+500-Ge(),10<t)){if(Wl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_d(Ts.bind(null,e,It,Yn),t);break}Ts(e,It,Yn);break;case 4:if(Vr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-Pn(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Yj(r/1960))-r,10<r){e.timeoutHandle=_d(Ts.bind(null,e,It,Yn),r);break}Ts(e,It,Yn);break;case 5:Ts(e,It,Yn);break;default:throw Error($(329))}}}return Ht(e,Ge()),e.callbackNode===n?B0.bind(null,e):null}function Xd(e,t){var n=Ko;return e.current.memoizedState.isDehydrated&&(Qs(e,t).flags|=256),e=cc(e,t),e!==2&&(t=It,It=n,t!==null&&Yd(t)),e}function Yd(e){It===null?It=e:It.push.apply(It,e)}function Zj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_n(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~Nh,t&=~Ic,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pn(t),r=1<<n;e[n]=-1,t&=~r}}function Sp(e){if(Ce&6)throw Error($(327));Vi();var t=Wl(e,0);if(!(t&1))return Ht(e,Ge()),null;var n=cc(e,t);if(e.tag!==0&&n===2){var r=jd(e);r!==0&&(t=r,n=Xd(e,r))}if(n===1)throw n=ma,Qs(e,0),Vr(e,t),Ht(e,Ge()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ts(e,It,Yn),Ht(e,Ge()),null}function Ch(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(ro=Ge()+500,Oc&&xs())}}function ri(e){Xr!==null&&Xr.tag===0&&!(Ce&6)&&Vi();var t=Ce;Ce|=1;var n=pn.transition,r=Re;try{if(pn.transition=null,Re=1,e)return e()}finally{Re=r,pn.transition=n,Ce=t,!(Ce&6)&&xs()}}function Eh(){Jt=Pi.current,Ve(Pi)}function Qs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Pj(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(ah(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xl();break;case 3:to(),Ve(Ut),Ve(Ct),xh();break;case 5:ph(r);break;case 4:to();break;case 13:Ve(ze);break;case 19:Ve(ze);break;case 10:dh(r.type._context);break;case 22:case 23:Eh()}n=n.return}if(ft=e,tt=e=os(e.current,null),xt=Jt=t,lt=0,ma=null,Nh=Ic=ni=0,It=Ko=null,Fs!==null){for(t=0;t<Fs.length;t++)if(n=Fs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Fs=null}return e}function H0(e,t){do{var n=tt;try{if(uh(),Cl.current=ic,sc){for(var r=Be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sc=!1}if(ti=0,dt=it=Be=null,Ho=!1,da=0,Sh.current=null,n===null||n.return===null){lt=1,ma=t,tt=null;break}e:{var i=e,a=n.return,l=n,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=up(a);if(m!==null){m.flags&=-257,dp(m,a,l,i,t),m.mode&1&&cp(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){cp(i,u,t),Ph();break e}c=Error($(426))}}else if(Ie&&l.mode&1){var j=up(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),dp(j,a,l,i,t),lh(no(c,l));break e}}i=c=no(c,l),lt!==4&&(lt=2),Ko===null?Ko=[i]:Ko.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=E0(i,c,t);rp(i,w);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ss===null||!ss.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=P0(i,l,t);rp(i,b);break e}}i=i.return}while(i!==null)}q0(n)}catch(k){t=k,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function W0(){var e=oc.current;return oc.current=ic,e===null?ic:e}function Ph(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(ni&268435455)&&!(Ic&268435455)||Vr(ft,xt)}function cc(e,t){var n=Ce;Ce|=2;var r=W0();(ft!==e||xt!==t)&&(Yn=null,Qs(e,t));do try{Jj();break}catch(s){H0(e,s)}while(!0);if(uh(),Ce=n,oc.current=r,tt!==null)throw Error($(261));return ft=null,xt=0,lt}function Jj(){for(;tt!==null;)K0(tt)}function eS(){for(;tt!==null&&!kb();)K0(tt)}function K0(e){var t=G0(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?q0(e):tt=t,Sh.current=null}function q0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qj(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,tt=null;return}}else if(n=Kj(n,t,Jt),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);lt===0&&(lt=5)}function Ts(e,t,n){var r=Re,s=pn.transition;try{pn.transition=null,Re=1,tS(e,t,n,r)}finally{pn.transition=s,Re=r}return null}function tS(e,t,n,r){do Vi();while(Xr!==null);if(Ce&6)throw Error($(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Ob(e,i),e===ft&&(tt=ft=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,X0(Hl,function(){return Vi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pn.transition,pn.transition=null;var a=Re;Re=1;var l=Ce;Ce|=4,Sh.current=null,Gj(e,n),z0(n,e),bj(Pd),Kl=!!Ed,Pd=Ed=null,e.current=n,Xj(n),Cb(),Ce=l,Re=a,pn.transition=i}else e.current=n;if(ul&&(ul=!1,Xr=e,lc=s),i=e.pendingLanes,i===0&&(ss=null),Tb(n.stateNode),Ht(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ac)throw ac=!1,e=Qd,Qd=null,e;return lc&1&&e.tag!==0&&Vi(),i=e.pendingLanes,i&1?e===Gd?qo++:(qo=0,Gd=e):qo=0,xs(),null}function Vi(){if(Xr!==null){var e=Ey(lc),t=pn.transition,n=Re;try{if(pn.transition=null,Re=16>e?16:e,Xr===null)var r=!1;else{if(e=Xr,Xr=null,lc=0,Ce&6)throw Error($(331));var s=Ce;for(Ce|=4,te=e.current;te!==null;){var i=te,a=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Wo(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(V0(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var j=v.sibling;v.sibling=null,v=j}while(v!==null)}}te=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,te=a;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,te=w;break e}te=i.return}}var g=e.current;for(te=g;te!==null;){a=te;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,te=x;else e:for(a=g;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vc(9,l)}}catch(k){qe(l,l.return,k)}if(l===a){te=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,te=b;break e}te=l.return}}if(Ce=s,xs(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(_c,e)}catch{}r=!0}return r}finally{Re=n,pn.transition=t}}return!1}function Np(e,t,n){t=no(n,t),t=E0(e,t,1),e=rs(e,t,1),t=Rt(),e!==null&&(Ta(e,1,t),Ht(e,t))}function qe(e,t,n){if(e.tag===3)Np(e,e,n);else for(;t!==null;){if(t.tag===3){Np(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){e=no(n,e),e=P0(t,e,1),t=rs(t,e,1),e=Rt(),t!==null&&(Ta(t,1,e),Ht(t,e));break}}t=t.return}}function nS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(xt&n)===n&&(lt===4||lt===3&&(xt&130023424)===xt&&500>Ge()-kh?Qs(e,0):Nh|=n),Ht(e,t)}function Q0(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var n=Rt();e=xr(e,t),e!==null&&(Ta(e,t,n),Ht(e,n))}function rS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Q0(e,n)}function sS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Q0(e,n)}var G0;G0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)zt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zt=!1,Wj(e,t,n);zt=!!(e.flags&131072)}else zt=!1,Ie&&t.flags&1048576&&Jy(t,Jl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pl(e,t),e=t.pendingProps;var s=Zi(t,Ct.current);Di(t,n),s=yh(null,t,r,e,s,n);var i=vh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(i=!0,Yl(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hh(t),s.updater=Dc,t.stateNode=s,s._reactInternals=t,Dd(t,r,e,n),t=$d(null,t,r,!0,i,n)):(t.tag=0,Ie&&i&&oh(t),_t(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=oS(r),e=Sn(r,e),s){case 0:t=Id(null,t,r,e,n);break e;case 1:t=mp(null,t,r,e,n);break e;case 11:t=fp(null,t,r,e,n);break e;case 14:t=hp(null,t,r,Sn(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),Id(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),mp(e,t,r,s,n);case 3:e:{if(R0(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,s=i.element,i0(e,t),nc(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=no(Error($(423)),t),t=pp(e,t,r,n,s);break e}else if(r!==s){s=no(Error($(424)),t),t=pp(e,t,r,n,s);break e}else for(en=ns(t.stateNode.containerInfo.firstChild),tn=t,Ie=!0,En=null,n=r0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ji(),r===s){t=gr(e,t,n);break e}_t(e,t,r,n)}t=t.child}return t;case 5:return o0(t),e===null&&Fd(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Td(r,s)?a=null:i!==null&&Td(r,i)&&(t.flags|=32),M0(e,t),_t(e,t,a,n),t.child;case 6:return e===null&&Fd(t),null;case 13:return A0(e,t,n);case 4:return mh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=eo(t,null,r,n):_t(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),fp(e,t,r,s,n);case 7:return _t(e,t,t.pendingProps,n),t.child;case 8:return _t(e,t,t.pendingProps.children,n),t.child;case 12:return _t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Oe(ec,r._currentValue),r._currentValue=a,i!==null)if(_n(i.value,a)){if(i.children===s.children&&!Ut.current){t=gr(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=lr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Od(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error($(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Od(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}_t(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Di(t,n),s=xn(s),r=r(s),t.flags|=1,_t(e,t,r,n),t.child;case 14:return r=t.type,s=Sn(r,t.pendingProps),s=Sn(r.type,s),hp(e,t,r,s,n);case 15:return T0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Sn(r,s),Pl(e,t),t.tag=1,Bt(r)?(e=!0,Yl(t)):e=!1,Di(t,n),C0(t,r,s),Dd(t,r,s,n),$d(null,t,r,!0,e,n);case 19:return F0(e,t,n);case 22:return _0(e,t,n)}throw Error($(156,t.tag))};function X0(e,t){return Sy(e,t)}function iS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,t,n,r){return new iS(e,t,n,r)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oS(e){if(typeof e=="function")return Th(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qf)return 11;if(e===Gf)return 14}return 2}function os(e,t){var n=e.alternate;return n===null?(n=mn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Th(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case yi:return Gs(n.children,s,i,t);case qf:a=8,s|=8;break;case ad:return e=mn(12,n,t,s|2),e.elementType=ad,e.lanes=i,e;case ld:return e=mn(13,n,t,s),e.elementType=ld,e.lanes=i,e;case cd:return e=mn(19,n,t,s),e.elementType=cd,e.lanes=i,e;case oy:return $c(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sy:a=10;break e;case iy:a=9;break e;case Qf:a=11;break e;case Gf:a=14;break e;case Fr:a=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=mn(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Gs(e,t,n,r){return e=mn(7,e,r,t),e.lanes=n,e}function $c(e,t,n,r){return e=mn(22,e,r,t),e.elementType=oy,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return e=mn(6,e,null,t),e.lanes=n,e}function Du(e,t,n){return t=mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aS(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _h(e,t,n,r,s,i,a,l,c){return e=new aS(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hh(i),e}function lS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Y0(e){if(!e)return ds;e=e._reactInternals;e:{if(ui(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(Bt(n))return Yy(e,n,t)}return t}function Z0(e,t,n,r,s,i,a,l,c){return e=_h(n,r,!0,e,s,i,a,l,c),e.context=Y0(null),n=e.current,r=Rt(),s=is(n),i=lr(r,s),i.callback=t??null,rs(n,i,s),e.current.lanes=s,Ta(e,s,r),Ht(e,r),e}function zc(e,t,n,r){var s=t.current,i=Rt(),a=is(s);return n=Y0(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rs(s,t,a),e!==null&&(Tn(e,s,a,i),kl(e,s,a)),a}function uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mh(e,t){kp(e,t),(e=e.alternate)&&kp(e,t)}function cS(){return null}var J0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rh(e){this._internalRoot=e}Uc.prototype.render=Rh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));zc(e,t,null,null)};Uc.prototype.unmount=Rh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ri(function(){zc(null,e,null,null)}),t[pr]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_y();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dr.length&&t!==0&&t<Dr[n].priority;n++);Dr.splice(n,0,e),n===0&&Ry(e)}};function Ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cp(){}function uS(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=uc(a);i.call(u)}}var a=Z0(t,r,e,0,null,!1,!1,"",Cp);return e._reactRootContainer=a,e[pr]=a.current,oa(e.nodeType===8?e.parentNode:e),ri(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=uc(c);l.call(u)}}var c=_h(e,0,!1,null,null,!1,!1,"",Cp);return e._reactRootContainer=c,e[pr]=c.current,oa(e.nodeType===8?e.parentNode:e),ri(function(){zc(t,c,n,r)}),c}function Hc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=uc(a);l.call(c)}}zc(t,a,e,s)}else a=uS(n,t,e,s,r);return uc(a)}Py=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fo(t.pendingLanes);n!==0&&(Zf(t,n|1),Ht(t,Ge()),!(Ce&6)&&(ro=Ge()+500,xs()))}break;case 13:ri(function(){var r=xr(e,1);if(r!==null){var s=Rt();Tn(r,e,1,s)}}),Mh(e,1)}};Jf=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var n=Rt();Tn(t,e,134217728,n)}Mh(e,134217728)}};Ty=function(e){if(e.tag===13){var t=is(e),n=xr(e,t);if(n!==null){var r=Rt();Tn(n,e,t,r)}Mh(e,t)}};_y=function(){return Re};My=function(e,t){var n=Re;try{return Re=e,t()}finally{Re=n}};vd=function(e,t,n){switch(t){case"input":if(fd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fc(r);if(!s)throw Error($(90));ly(r),fd(r,s)}}}break;case"textarea":uy(e,n);break;case"select":t=n.value,t!=null&&Ai(e,!!n.multiple,t,!1)}};gy=Ch;yy=ri;var dS={usingClientEntryPoint:!1,Events:[Ma,ji,Fc,py,xy,Ch]},Eo={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fS={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=by(e),e===null?null:e.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||cS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{_c=dl.inject(fS),Un=dl}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dS;sn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ah(t))throw Error($(200));return lS(e,t,null,n)};sn.createRoot=function(e,t){if(!Ah(e))throw Error($(299));var n=!1,r="",s=J0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_h(e,1,!1,null,null,n,!1,r,s),e[pr]=t.current,oa(e.nodeType===8?e.parentNode:e),new Rh(t)};sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=by(t),e=e===null?null:e.stateNode,e};sn.flushSync=function(e){return ri(e)};sn.hydrate=function(e,t,n){if(!Bc(t))throw Error($(200));return Hc(null,e,t,!0,n)};sn.hydrateRoot=function(e,t,n){if(!Ah(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=J0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Z0(t,null,e,1,n??null,s,!1,i,a),e[pr]=t.current,oa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Uc(t)};sn.render=function(e,t,n){if(!Bc(t))throw Error($(200));return Hc(null,e,t,!1,n)};sn.unmountComponentAtNode=function(e){if(!Bc(e))throw Error($(40));return e._reactRootContainer?(ri(function(){Hc(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};sn.unstable_batchedUpdates=Ch;sn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Hc(e,t,n,!1,r)};sn.version="18.3.1-next-f1338f8080-20240426";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(e){console.error(e)}}ev(),ey.exports=sn;var hS=ey.exports,Ep=hS;id.createRoot=Ep.createRoot,id.hydrateRoot=Ep.hydrateRoot;var mo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mS={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$r,If,Mg,pS=(Mg=class{constructor(){ce(this,$r,mS);ce(this,If,!1)}setTimeoutProvider(e){Y(this,$r,e)}setTimeout(e,t){return S(this,$r).setTimeout(e,t)}clearTimeout(e){S(this,$r).clearTimeout(e)}setInterval(e,t){return S(this,$r).setInterval(e,t)}clearInterval(e){S(this,$r).clearInterval(e)}},$r=new WeakMap,If=new WeakMap,Mg),Ls=new pS;function xS(e){setTimeout(e,0)}var si=typeof window>"u"||"Deno"in globalThis;function Mt(){}function gS(e,t){return typeof e=="function"?e(t):e}function Zd(e){return typeof e=="number"&&e>=0&&e!==1/0}function tv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function as(e,t){return typeof e=="function"?e(t):e}function dn(e,t){return typeof e=="function"?e(t):e}function Pp(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Fh(a,t.options))return!1}else if(!pa(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Tp(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ii(t.options.mutationKey)!==ii(i))return!1}else if(!pa(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Fh(e,t){return((t==null?void 0:t.queryKeyHashFn)||ii)(e)}function ii(e){return JSON.stringify(e,(t,n)=>Jd(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function pa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>pa(e[n],t[n])):!1}var yS=Object.prototype.hasOwnProperty;function nv(e,t){if(e===t)return e;const n=_p(e)&&_p(t);if(!n&&!(Jd(e)&&Jd(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),a=i.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const d=n?u:i[u],f=e[d],h=t[d];if(f===h){l[d]=f,(n?u<s:yS.call(e,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const m=nv(f,h);l[d]=m,m===f&&c++}return s===a&&c===s?e:l}function dc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function _p(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jd(e){if(!Mp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Mp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mp(e){return Object.prototype.toString.call(e)==="[object Object]"}function vS(e){return new Promise(t=>{Ls.setTimeout(t,e)})}function ef(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?nv(e,t):t}function wS(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bS(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Oh=Symbol();function rv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Oh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sv(e,t){return typeof e=="function"?e(...t):!!e}var Is,zr,Ii,Rg,jS=(Rg=class extends mo{constructor(){super();ce(this,Is);ce(this,zr);ce(this,Ii);Y(this,Ii,t=>{if(!si&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,zr)||this.setEventListener(S(this,Ii))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,zr))==null||t.call(this),Y(this,zr,void 0))}setEventListener(t){var n;Y(this,Ii,t),(n=S(this,zr))==null||n.call(this),Y(this,zr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,Is)!==t&&(Y(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,Is)=="boolean"?S(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,zr=new WeakMap,Ii=new WeakMap,Rg),Lh=new jS;function tf(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var SS=xS;function NS(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=SS;const i=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var ot=NS(),$i,Ur,zi,Ag,kS=(Ag=class extends mo{constructor(){super();ce(this,$i,!0);ce(this,Ur);ce(this,zi);Y(this,zi,t=>{if(!si&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,Ur)||this.setEventListener(S(this,zi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Ur))==null||t.call(this),Y(this,Ur,void 0))}setEventListener(t){var n;Y(this,zi,t),(n=S(this,Ur))==null||n.call(this),Y(this,Ur,t(this.setOnline.bind(this)))}setOnline(t){S(this,$i)!==t&&(Y(this,$i,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,$i)}},$i=new WeakMap,Ur=new WeakMap,zi=new WeakMap,Ag),fc=new kS;function CS(e){return Math.min(1e3*2**e,3e4)}function iv(e){return(e??"online")==="online"?fc.isOnline():!0}var nf=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ov(e){let t=!1,n=0,r;const s=tf(),i=()=>s.status!=="pending",a=v=>{var j;if(!i()){const w=new nf(v);h(w),(j=e.onCancel)==null||j.call(e,w)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Lh.isFocused()&&(e.networkMode==="always"||fc.isOnline())&&e.canRun(),d=()=>iv(e.networkMode)&&e.canRun(),f=v=>{i()||(r==null||r(),s.resolve(v))},h=v=>{i()||(r==null||r(),s.reject(v))},m=()=>new Promise(v=>{var j;r=w=>{(i()||u())&&v(w)},(j=e.onPause)==null||j.call(e)}).then(()=>{var v;r=void 0,i()||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(i())return;let v;const j=n===0?e.initialPromise:void 0;try{v=j??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var T;if(i())return;const g=e.retry??(si?0:3),x=e.retryDelay??CS,b=typeof x=="function"?x(n,w):x,k=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,w);if(t||!k){h(w);return}n++,(T=e.onFail)==null||T.call(e,n,w),vS(b).then(()=>u()?void 0:m()).then(()=>{t?h(w):y()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),s)}}var $s,Fg,av=(Fg=class{constructor(){ce(this,$s)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zd(this.gcTime)&&Y(this,$s,Ls.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(si?1/0:5*60*1e3))}clearGcTimeout(){S(this,$s)&&(Ls.clearTimeout(S(this,$s)),Y(this,$s,void 0))}},$s=new WeakMap,Fg),zs,Ui,un,Us,ut,ja,Bs,Nn,Xn,Og,ES=(Og=class extends av{constructor(t){super();ce(this,Nn);ce(this,zs);ce(this,Ui);ce(this,un);ce(this,Us);ce(this,ut);ce(this,ja);ce(this,Bs);Y(this,Bs,!1),Y(this,ja,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,Us,t.client),Y(this,un,S(this,Us).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,zs,Ap(this.options)),this.state=t.state??S(this,zs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,ut))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,ja),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Ap(this.options);n.data!==void 0&&(this.setState(Rp(n.data,n.dataUpdatedAt)),Y(this,zs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,un).remove(this)}setData(t,n){const r=ef(this.state.data,t,this.options);return je(this,Nn,Xn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){je(this,Nn,Xn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=S(this,ut))==null?void 0:r.promise;return(s=S(this,ut))==null||s.cancel(t),n?n.then(Mt).catch(Mt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,zs))}isActive(){return this.observers.some(t=>dn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Oh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>as(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!tv(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,un).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,ut)&&(S(this,Bs)?S(this,ut).cancel({revert:!0}):S(this,ut).cancelRetry()),this.scheduleGc()),S(this,un).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,Nn,Xn).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,h,m,y,v,j,w,g,x;if(this.state.fetchStatus!=="idle"&&((c=S(this,ut))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,ut))return S(this,ut).continueRetry(),S(this,ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(k=>k.options.queryFn);b&&this.setOptions(b.options)}const r=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Y(this,Bs,!0),r.signal)})},i=()=>{const b=rv(this.options,n),T=(()=>{const R={client:S(this,Us),queryKey:this.queryKey,meta:this.meta};return s(R),R})();return Y(this,Bs,!1),this.options.persister?this.options.persister(b,T,this):b(T)},l=(()=>{const b={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,Us),state:this.state,fetchFn:i};return s(b),b})();(u=this.options.behavior)==null||u.onFetch(l,this),Y(this,Ui,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&je(this,Nn,Xn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Y(this,ut,ov({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:b=>{b instanceof nf&&b.revert&&this.setState({...S(this,Ui),fetchStatus:"idle"}),r.abort()},onFail:(b,k)=>{je(this,Nn,Xn).call(this,{type:"failed",failureCount:b,error:k})},onPause:()=>{je(this,Nn,Xn).call(this,{type:"pause"})},onContinue:()=>{je(this,Nn,Xn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const b=await S(this,ut).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(m=(h=S(this,un).config).onSuccess)==null||m.call(h,b,this),(v=(y=S(this,un).config).onSettled)==null||v.call(y,b,this.state.error,this),b}catch(b){if(b instanceof nf){if(b.silent)return S(this,ut).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw je(this,Nn,Xn).call(this,{type:"error",error:b}),(w=(j=S(this,un).config).onError)==null||w.call(j,b,this),(x=(g=S(this,un).config).onSettled)==null||x.call(g,this.state.data,b,this),b}finally{this.scheduleGc()}}},zs=new WeakMap,Ui=new WeakMap,un=new WeakMap,Us=new WeakMap,ut=new WeakMap,ja=new WeakMap,Bs=new WeakMap,Nn=new WeakSet,Xn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...lv(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...Rp(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Y(this,Ui,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,un).notify({query:this,type:"updated",action:t})})},Og);function lv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:iv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Rp(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Ap(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dt,ke,Sa,Et,Hs,Bi,Jn,Br,Na,Hi,Wi,Ws,Ks,Hr,Ki,_e,Lo,rf,sf,of,af,lf,cf,uf,cv,Lg,PS=(Lg=class extends mo{constructor(t,n){super();ce(this,_e);ce(this,Dt);ce(this,ke);ce(this,Sa);ce(this,Et);ce(this,Hs);ce(this,Bi);ce(this,Jn);ce(this,Br);ce(this,Na);ce(this,Hi);ce(this,Wi);ce(this,Ws);ce(this,Ks);ce(this,Hr);ce(this,Ki,new Set);this.options=n,Y(this,Dt,t),Y(this,Br,null),Y(this,Jn,tf()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,ke).addObserver(this),Fp(S(this,ke),this.options)?je(this,_e,Lo).call(this):this.updateResult(),je(this,_e,af).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return df(S(this,ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return df(S(this,ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,_e,lf).call(this),je(this,_e,cf).call(this),S(this,ke).removeObserver(this)}setOptions(t){const n=this.options,r=S(this,ke);if(this.options=S(this,Dt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof dn(this.options.enabled,S(this,ke))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,_e,uf).call(this),S(this,ke).setOptions(this.options),n._defaulted&&!dc(this.options,n)&&S(this,Dt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,ke),observer:this});const s=this.hasListeners();s&&Op(S(this,ke),r,this.options,n)&&je(this,_e,Lo).call(this),this.updateResult(),s&&(S(this,ke)!==r||dn(this.options.enabled,S(this,ke))!==dn(n.enabled,S(this,ke))||as(this.options.staleTime,S(this,ke))!==as(n.staleTime,S(this,ke)))&&je(this,_e,rf).call(this);const i=je(this,_e,sf).call(this);s&&(S(this,ke)!==r||dn(this.options.enabled,S(this,ke))!==dn(n.enabled,S(this,ke))||i!==S(this,Hr))&&je(this,_e,of).call(this,i)}getOptimisticResult(t){const n=S(this,Dt).getQueryCache().build(S(this,Dt),t),r=this.createResult(n,t);return _S(this,r)&&(Y(this,Et,r),Y(this,Bi,this.options),Y(this,Hs,S(this,ke).state)),r}getCurrentResult(){return S(this,Et)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,Jn).status==="pending"&&S(this,Jn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){S(this,Ki).add(t)}getCurrentQuery(){return S(this,ke)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,Dt).defaultQueryOptions(t),r=S(this,Dt).getQueryCache().build(S(this,Dt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return je(this,_e,Lo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,Et)))}createResult(t,n){var L;const r=S(this,ke),s=this.options,i=S(this,Et),a=S(this,Hs),l=S(this,Bi),u=t!==r?t.state:S(this,Sa),{state:d}=t;let f={...d},h=!1,m;if(n._optimisticResults){const F=this.hasListeners(),q=!F&&Fp(t,n),Q=F&&Op(t,r,n,s);(q||Q)&&(f={...f,...lv(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:j}=f;m=f.data;let w=!1;if(n.placeholderData!==void 0&&m===void 0&&j==="pending"){let F;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(F=i.data,w=!0):F=typeof n.placeholderData=="function"?n.placeholderData((L=S(this,Wi))==null?void 0:L.state.data,S(this,Wi)):n.placeholderData,F!==void 0&&(j="success",m=ef(i==null?void 0:i.data,F,n),h=!0)}if(n.select&&m!==void 0&&!w)if(i&&m===(a==null?void 0:a.data)&&n.select===S(this,Na))m=S(this,Hi);else try{Y(this,Na,n.select),m=n.select(m),m=ef(i==null?void 0:i.data,m,n),Y(this,Hi,m),Y(this,Br,null)}catch(F){Y(this,Br,F)}S(this,Br)&&(y=S(this,Br),m=S(this,Hi),v=Date.now(),j="error");const g=f.fetchStatus==="fetching",x=j==="pending",b=j==="error",k=x&&g,T=m!==void 0,_={status:j,fetchStatus:f.fetchStatus,isPending:x,isSuccess:j==="success",isError:b,isInitialLoading:k,isLoading:k,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:b&&!T,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&T,isStale:Dh(t,n),refetch:this.refetch,promise:S(this,Jn),isEnabled:dn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=P=>{_.status==="error"?P.reject(_.error):_.data!==void 0&&P.resolve(_.data)},q=()=>{const P=Y(this,Jn,_.promise=tf());F(P)},Q=S(this,Jn);switch(Q.status){case"pending":t.queryHash===r.queryHash&&F(Q);break;case"fulfilled":(_.status==="error"||_.data!==Q.value)&&q();break;case"rejected":(_.status!=="error"||_.error!==Q.reason)&&q();break}}return _}updateResult(){const t=S(this,Et),n=this.createResult(S(this,ke),this.options);if(Y(this,Hs,S(this,ke).state),Y(this,Bi,this.options),S(this,Hs).data!==void 0&&Y(this,Wi,S(this,ke)),dc(n,t))return;Y(this,Et,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!S(this,Ki).size)return!0;const a=new Set(i??S(this,Ki));return this.options.throwOnError&&a.add("error"),Object.keys(S(this,Et)).some(l=>{const c=l;return S(this,Et)[c]!==t[c]&&a.has(c)})};je(this,_e,cv).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,_e,af).call(this)}},Dt=new WeakMap,ke=new WeakMap,Sa=new WeakMap,Et=new WeakMap,Hs=new WeakMap,Bi=new WeakMap,Jn=new WeakMap,Br=new WeakMap,Na=new WeakMap,Hi=new WeakMap,Wi=new WeakMap,Ws=new WeakMap,Ks=new WeakMap,Hr=new WeakMap,Ki=new WeakMap,_e=new WeakSet,Lo=function(t){je(this,_e,uf).call(this);let n=S(this,ke).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Mt)),n},rf=function(){je(this,_e,lf).call(this);const t=as(this.options.staleTime,S(this,ke));if(si||S(this,Et).isStale||!Zd(t))return;const r=tv(S(this,Et).dataUpdatedAt,t)+1;Y(this,Ws,Ls.setTimeout(()=>{S(this,Et).isStale||this.updateResult()},r))},sf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,ke)):this.options.refetchInterval)??!1},of=function(t){je(this,_e,cf).call(this),Y(this,Hr,t),!(si||dn(this.options.enabled,S(this,ke))===!1||!Zd(S(this,Hr))||S(this,Hr)===0)&&Y(this,Ks,Ls.setInterval(()=>{(this.options.refetchIntervalInBackground||Lh.isFocused())&&je(this,_e,Lo).call(this)},S(this,Hr)))},af=function(){je(this,_e,rf).call(this),je(this,_e,of).call(this,je(this,_e,sf).call(this))},lf=function(){S(this,Ws)&&(Ls.clearTimeout(S(this,Ws)),Y(this,Ws,void 0))},cf=function(){S(this,Ks)&&(Ls.clearInterval(S(this,Ks)),Y(this,Ks,void 0))},uf=function(){const t=S(this,Dt).getQueryCache().build(S(this,Dt),this.options);if(t===S(this,ke))return;const n=S(this,ke);Y(this,ke,t),Y(this,Sa,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},cv=function(t){ot.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,Et))}),S(this,Dt).getQueryCache().notify({query:S(this,ke),type:"observerResultsUpdated"})})},Lg);function TS(e,t){return dn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Fp(e,t){return TS(e,t)||e.state.data!==void 0&&df(e,t,t.refetchOnMount)}function df(e,t,n){if(dn(t.enabled,e)!==!1&&as(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Dh(e,t)}return!1}function Op(e,t,n,r){return(e!==t||dn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Dh(e,n)}function Dh(e,t){return dn(t.enabled,e)!==!1&&e.isStaleByTime(as(t.staleTime,e))}function _S(e,t){return!dc(e.getCurrentResult(),t)}function Lp(e){return{onFetch:(t,n)=>{var d,f,h,m,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const j=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=rv(t.options,t.fetchOptions),g=async(x,b,k)=>{if(v)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const R=(()=>{const q={client:t.client,queryKey:t.queryKey,pageParam:b,direction:k?"backward":"forward",meta:t.options.meta};return j(q),q})(),_=await w(R),{maxPages:L}=t.options,F=k?bS:wS;return{pages:F(x.pages,_,L),pageParams:F(x.pageParams,b,L)}};if(s&&i.length){const x=s==="backward",b=x?MS:Dp,k={pages:i,pageParams:a},T=b(r,k);l=await g(k,T,x)}else{const x=e??i.length;do{const b=c===0?a[0]??r.initialPageParam:Dp(r,l);if(c>0&&b==null)break;l=await g(l,b),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var v,j;return(j=(v=t.options).persister)==null?void 0:j.call(v,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Dp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function MS(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ka,Dn,Pt,qs,Vn,Rr,Dg,RS=(Dg=class extends av{constructor(t){super();ce(this,Vn);ce(this,ka);ce(this,Dn);ce(this,Pt);ce(this,qs);Y(this,ka,t.client),this.mutationId=t.mutationId,Y(this,Pt,t.mutationCache),Y(this,Dn,[]),this.state=t.state||uv(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Dn).includes(t)||(S(this,Dn).push(t),this.clearGcTimeout(),S(this,Pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,Dn,S(this,Dn).filter(n=>n!==t)),this.scheduleGc(),S(this,Pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():S(this,Pt).remove(this))}continue(){var t;return((t=S(this,qs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,u,d,f,h,m,y,v,j,w,g,x,b,k,T,R,_,L;const n=()=>{je(this,Vn,Rr).call(this,{type:"continue"})},r={client:S(this,ka),meta:this.options.meta,mutationKey:this.options.mutationKey};Y(this,qs,ov({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(F,q)=>{je(this,Vn,Rr).call(this,{type:"failed",failureCount:F,error:q})},onPause:()=>{je(this,Vn,Rr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Pt).canRun(this)}));const s=this.state.status==="pending",i=!S(this,qs).canStart();try{if(s)n();else{je(this,Vn,Rr).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=S(this,Pt).config).onMutate)==null?void 0:l.call(a,t,this,r));const q=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));q!==this.state.context&&je(this,Vn,Rr).call(this,{type:"pending",context:q,variables:t,isPaused:i})}const F=await S(this,qs).start();return await((f=(d=S(this,Pt).config).onSuccess)==null?void 0:f.call(d,F,t,this.state.context,this,r)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,F,t,this.state.context,r)),await((v=(y=S(this,Pt).config).onSettled)==null?void 0:v.call(y,F,null,this.state.variables,this.state.context,this,r)),await((w=(j=this.options).onSettled)==null?void 0:w.call(j,F,null,t,this.state.context,r)),je(this,Vn,Rr).call(this,{type:"success",data:F}),F}catch(F){try{throw await((x=(g=S(this,Pt).config).onError)==null?void 0:x.call(g,F,t,this.state.context,this,r)),await((k=(b=this.options).onError)==null?void 0:k.call(b,F,t,this.state.context,r)),await((R=(T=S(this,Pt).config).onSettled)==null?void 0:R.call(T,void 0,F,this.state.variables,this.state.context,this,r)),await((L=(_=this.options).onSettled)==null?void 0:L.call(_,void 0,F,t,this.state.context,r)),F}finally{je(this,Vn,Rr).call(this,{type:"error",error:F})}}finally{S(this,Pt).runNext(this)}}},ka=new WeakMap,Dn=new WeakMap,Pt=new WeakMap,qs=new WeakMap,Vn=new WeakSet,Rr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ot.batch(()=>{S(this,Dn).forEach(r=>{r.onMutationUpdate(t)}),S(this,Pt).notify({mutation:this,type:"updated",action:t})})},Dg);function uv(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var er,kn,Ca,Vg,AS=(Vg=class extends mo{constructor(t={}){super();ce(this,er);ce(this,kn);ce(this,Ca);this.config=t,Y(this,er,new Set),Y(this,kn,new Map),Y(this,Ca,0)}build(t,n,r){const s=new RS({client:t,mutationCache:this,mutationId:++Qa(this,Ca)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){S(this,er).add(t);const n=fl(t);if(typeof n=="string"){const r=S(this,kn).get(n);r?r.push(t):S(this,kn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,er).delete(t)){const n=fl(t);if(typeof n=="string"){const r=S(this,kn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&S(this,kn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=fl(t);if(typeof n=="string"){const r=S(this,kn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=fl(t);if(typeof n=="string"){const s=(r=S(this,kn).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ot.batch(()=>{S(this,er).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,er).clear(),S(this,kn).clear()})}getAll(){return Array.from(S(this,er))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Tp(n,r))}findAll(t={}){return this.getAll().filter(n=>Tp(t,n))}notify(t){ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ot.batch(()=>Promise.all(t.map(n=>n.continue().catch(Mt))))}},er=new WeakMap,kn=new WeakMap,Ca=new WeakMap,Vg);function fl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var tr,Wr,Vt,nr,hr,Rl,ff,Ig,FS=(Ig=class extends mo{constructor(n,r){super();ce(this,hr);ce(this,tr);ce(this,Wr);ce(this,Vt);ce(this,nr);Y(this,tr,n),this.setOptions(r),this.bindMethods(),je(this,hr,Rl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=S(this,tr).defaultMutationOptions(n),dc(this.options,r)||S(this,tr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,Vt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ii(r.mutationKey)!==ii(this.options.mutationKey)?this.reset():((s=S(this,Vt))==null?void 0:s.state.status)==="pending"&&S(this,Vt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,Vt))==null||n.removeObserver(this)}onMutationUpdate(n){je(this,hr,Rl).call(this),je(this,hr,ff).call(this,n)}getCurrentResult(){return S(this,Wr)}reset(){var n;(n=S(this,Vt))==null||n.removeObserver(this),Y(this,Vt,void 0),je(this,hr,Rl).call(this),je(this,hr,ff).call(this)}mutate(n,r){var s;return Y(this,nr,r),(s=S(this,Vt))==null||s.removeObserver(this),Y(this,Vt,S(this,tr).getMutationCache().build(S(this,tr),this.options)),S(this,Vt).addObserver(this),S(this,Vt).execute(n)}},tr=new WeakMap,Wr=new WeakMap,Vt=new WeakMap,nr=new WeakMap,hr=new WeakSet,Rl=function(){var r;const n=((r=S(this,Vt))==null?void 0:r.state)??uv();Y(this,Wr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},ff=function(n){ot.batch(()=>{var r,s,i,a,l,c,u,d;if(S(this,nr)&&this.hasListeners()){const f=S(this,Wr).variables,h=S(this,Wr).context,m={client:S(this,tr),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(r=S(this,nr)).onSuccess)==null||s.call(r,n.data,f,h,m),(a=(i=S(this,nr)).onSettled)==null||a.call(i,n.data,null,f,h,m)):(n==null?void 0:n.type)==="error"&&((c=(l=S(this,nr)).onError)==null||c.call(l,n.error,f,h,m),(d=(u=S(this,nr)).onSettled)==null||d.call(u,void 0,n.error,f,h,m))}this.listeners.forEach(f=>{f(S(this,Wr))})})},Ig),In,$g,OS=($g=class extends mo{constructor(t={}){super();ce(this,In);this.config=t,Y(this,In,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??Fh(s,n);let a=this.get(i);return a||(a=new ES({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){S(this,In).has(t.queryHash)||(S(this,In).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,In).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,In).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,In).get(t)}getAll(){return[...S(this,In).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Pp(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Pp(t,r)):n}notify(t){ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},In=new WeakMap,$g),Ke,Kr,qr,qi,Qi,Qr,Gi,Xi,zg,LS=(zg=class{constructor(e={}){ce(this,Ke);ce(this,Kr);ce(this,qr);ce(this,qi);ce(this,Qi);ce(this,Qr);ce(this,Gi);ce(this,Xi);Y(this,Ke,e.queryCache||new OS),Y(this,Kr,e.mutationCache||new AS),Y(this,qr,e.defaultOptions||{}),Y(this,qi,new Map),Y(this,Qi,new Map),Y(this,Qr,0)}mount(){Qa(this,Qr)._++,S(this,Qr)===1&&(Y(this,Gi,Lh.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Ke).onFocus())})),Y(this,Xi,fc.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Ke).onOnline())})))}unmount(){var e,t;Qa(this,Qr)._--,S(this,Qr)===0&&((e=S(this,Gi))==null||e.call(this),Y(this,Gi,void 0),(t=S(this,Xi))==null||t.call(this),Y(this,Xi,void 0))}isFetching(e){return S(this,Ke).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,Kr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Ke).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=S(this,Ke).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(as(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return S(this,Ke).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=S(this,Ke).get(r.queryHash),i=s==null?void 0:s.state.data,a=gS(t,i);if(a!==void 0)return S(this,Ke).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return ot.batch(()=>S(this,Ke).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Ke).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,Ke);ot.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,Ke);return ot.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ot.batch(()=>S(this,Ke).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Mt).catch(Mt)}invalidateQueries(e,t={}){return ot.batch(()=>(S(this,Ke).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ot.batch(()=>S(this,Ke).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Mt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Mt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,Ke).build(this,t);return n.isStaleByTime(as(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mt).catch(Mt)}fetchInfiniteQuery(e){return e.behavior=Lp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mt).catch(Mt)}ensureInfiniteQueryData(e){return e.behavior=Lp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fc.isOnline()?S(this,Kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Ke)}getMutationCache(){return S(this,Kr)}getDefaultOptions(){return S(this,qr)}setDefaultOptions(e){Y(this,qr,e)}setQueryDefaults(e,t){S(this,qi).set(ii(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,qi).values()],n={};return t.forEach(r=>{pa(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){S(this,Qi).set(ii(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,Qi).values()],n={};return t.forEach(r=>{pa(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,qr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Oh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,qr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,Ke).clear(),S(this,Kr).clear()}},Ke=new WeakMap,Kr=new WeakMap,qr=new WeakMap,qi=new WeakMap,Qi=new WeakMap,Qr=new WeakMap,Gi=new WeakMap,Xi=new WeakMap,zg),dv=p.createContext(void 0),br=e=>{const t=p.useContext(dv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},DS=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(dv.Provider,{value:e,children:t})),fv=p.createContext(!1),VS=()=>p.useContext(fv);fv.Provider;function IS(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var $S=p.createContext(IS()),zS=()=>p.useContext($S),US=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},BS=e=>{p.useEffect(()=>{e.clearReset()},[e])},HS=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||sv(n,[e.error,r])),WS=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KS=(e,t)=>e.isLoading&&e.isFetching&&!t,qS=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Vp=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function QS(e,t,n){var f,h,m,y,v;const r=VS(),s=zS(),i=br(),a=i.defaultQueryOptions(e);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=r?"isRestoring":"optimistic",WS(a),US(a,s),BS(s);const l=!i.getQueryCache().get(a.queryHash),[c]=p.useState(()=>new t(i,a)),u=c.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(j=>{const w=d?c.subscribe(ot.batchCalls(j)):Mt;return c.updateResult(),w},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(a)},[a,c]),qS(a,u))throw Vp(a,c,s);if(HS({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((y=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,u),a.experimental_prefetchInRender&&!si&&KS(u,r)){const j=l?Vp(a,c,s):(v=i.getQueryCache().get(a.queryHash))==null?void 0:v.promise;j==null||j.catch(Mt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function St(e,t){return QS(e,PS)}function kt(e,t){const n=br(),[r]=p.useState(()=>new FS(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const s=p.useSyncExternalStore(p.useCallback(a=>r.subscribe(ot.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((a,l)=>{r.mutate(a,l).catch(Mt)},[r]);if(s.error&&sv(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xa.apply(this,arguments)}var Yr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yr||(Yr={}));const Ip="popstate";function GS(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:l}=r.location;return hf("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hc(s)}return YS(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function XS(){return Math.random().toString(36).substr(2,8)}function $p(e,t){return{usr:e.state,key:e.key,idx:t}}function hf(e,t,n,r){return n===void 0&&(n=null),xa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?po(t):t,{state:n,key:t&&t.key||r||XS()})}function hc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function po(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function YS(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,l=Yr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(xa({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=Yr.Pop;let j=d(),w=j==null?null:j-u;u=j,c&&c({action:l,location:v.location,delta:w})}function h(j,w){l=Yr.Push;let g=hf(v.location,j,w);u=d()+1;let x=$p(g,u),b=v.createHref(g);try{a.pushState(x,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}i&&c&&c({action:l,location:v.location,delta:1})}function m(j,w){l=Yr.Replace;let g=hf(v.location,j,w);u=d();let x=$p(g,u),b=v.createHref(g);a.replaceState(x,"",b),i&&c&&c({action:l,location:v.location,delta:0})}function y(j){let w=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof j=="string"?j:hc(j);return g=g.replace(/ $/,"%20"),nt(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let v={get action(){return l},get location(){return e(s,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ip,f),c=j,()=>{s.removeEventListener(Ip,f),c=null}},createHref(j){return t(s,j)},createURL:y,encodeLocation(j){let w=y(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:m,go(j){return a.go(j)}};return v}var zp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(zp||(zp={}));function ZS(e,t,n){return n===void 0&&(n="/"),JS(e,t,n)}function JS(e,t,n,r){let s=typeof t=="string"?po(t):t,i=Ih(s.pathname||"/",n);if(i==null)return null;let a=hv(e);e2(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=f2(i);l=c2(a[c],u)}return l}function hv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(nt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ls([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hv(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:a2(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,a);else for(let c of mv(i.path))s(i,a,c)}),t}function mv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=mv(r.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function e2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:l2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t2=/^:[\w-]+$/,n2=3,r2=2,s2=1,i2=10,o2=-2,Up=e=>e==="*";function a2(e,t){let n=e.split("/"),r=n.length;return n.some(Up)&&(r+=o2),t&&(r+=r2),n.filter(s=>!Up(s)).reduce((s,i)=>s+(t2.test(i)?n2:i===""?s2:i2),r)}function l2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function c2(e,t,n){let{routesMeta:r}=e,s={},i="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=u2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:ls([i,f.pathname]),pathnameBase:g2(ls([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ls([i,f.pathnameBase]))}return a}function u2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=d2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=l[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function d2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Vh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function f2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ih(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const h2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m2=e=>h2.test(e);function p2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?po(e):e,i;if(n)if(m2(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Vh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Bp(n.substring(1),"/"):i=Bp(n,t)}else i=t;return{pathname:i,search:y2(r),hash:v2(s)}}function Bp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pv(e,t){let n=x2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=po(e):(s=xa({},e),nt(!s.pathname||!s.pathname.includes("?"),Vu("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Vu("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Vu("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=p2(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ls=e=>e.join("/").replace(/\/\/+/g,"/"),g2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gv=["post","put","patch","delete"];new Set(gv);const b2=["get",...gv];new Set(b2);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga.apply(this,arguments)}const $h=p.createContext(null),j2=p.createContext(null),di=p.createContext(null),Wc=p.createContext(null),jr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),yv=p.createContext(null);function S2(e,t){let{relative:n}=t===void 0?{}:t;Aa()||nt(!1);let{basename:r,navigator:s}=p.useContext(di),{hash:i,pathname:a,search:l}=wv(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ls([r,a])),s.createHref({pathname:c,search:l,hash:i})}function Aa(){return p.useContext(Wc)!=null}function Fa(){return Aa()||nt(!1),p.useContext(Wc).location}function vv(e){p.useContext(di).static||p.useLayoutEffect(e)}function Kc(){let{isDataRoute:e}=p.useContext(jr);return e?I2():N2()}function N2(){Aa()||nt(!1);let e=p.useContext($h),{basename:t,future:n,navigator:r}=p.useContext(di),{matches:s}=p.useContext(jr),{pathname:i}=Fa(),a=JSON.stringify(pv(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return vv(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=xv(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ls([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}const k2=p.createContext(null);function C2(e){let t=p.useContext(jr).outlet;return t&&p.createElement(k2.Provider,{value:e},t)}function E2(){let{matches:e}=p.useContext(jr),t=e[e.length-1];return t?t.params:{}}function wv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(di),{matches:s}=p.useContext(jr),{pathname:i}=Fa(),a=JSON.stringify(pv(s,r.v7_relativeSplatPath));return p.useMemo(()=>xv(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function P2(e,t){return T2(e,t)}function T2(e,t,n,r){Aa()||nt(!1);let{navigator:s}=p.useContext(di),{matches:i}=p.useContext(jr),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Fa(),d;if(t){var f;let j=typeof t=="string"?po(t):t;c==="/"||(f=j.pathname)!=null&&f.startsWith(c)||nt(!1),d=j}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let j=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=ZS(e,{pathname:m}),v=F2(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:ls([c,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:ls([c,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&v?p.createElement(Wc.Provider,{value:{location:ga({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yr.Pop}},v):v}function _2(){let e=V2(),t=w2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const M2=p.createElement(_2,null);class R2 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(jr.Provider,{value:this.props.routeContext},p.createElement(yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function A2(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext($h);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(jr.Provider,{value:t},r)}function F2(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,y=!1,v=null,j=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||M2,c&&(u<0&&h===0?($2("route-fallback"),y=!0,j=null):u===h&&(y=!0,j=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),g=()=>{let x;return m?x=v:y?x=j:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,p.createElement(A2,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(R2,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var bv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bv||{}),jv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jv||{});function O2(e){let t=p.useContext($h);return t||nt(!1),t}function L2(e){let t=p.useContext(j2);return t||nt(!1),t}function D2(e){let t=p.useContext(jr);return t||nt(!1),t}function Sv(e){let t=D2(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function V2(){var e;let t=p.useContext(yv),n=L2(),r=Sv();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function I2(){let{router:e}=O2(bv.UseNavigateStable),t=Sv(jv.UseNavigateStable),n=p.useRef(!1);return vv(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ga({fromRouteId:t},i)))},[e,t])}const Hp={};function $2(e,t,n){Hp[e]||(Hp[e]=!0)}function z2(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function U2(e){return C2(e.context)}function Do(e){nt(!1)}function B2(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Yr.Pop,navigator:i,static:a=!1,future:l}=e;Aa()&&nt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:ga({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof r=="string"&&(r=po(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=r,v=p.useMemo(()=>{let j=Ih(d,c);return j==null?null:{location:{pathname:j,search:f,hash:h,state:m,key:y},navigationType:s}},[c,d,f,h,m,y,s]);return v==null?null:p.createElement(di.Provider,{value:u},p.createElement(Wc.Provider,{children:n,value:v}))}function H2(e){let{children:t,location:n}=e;return P2(mf(t),n)}new Promise(()=>{});function mf(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let i=[...t,s];if(r.type===p.Fragment){n.push.apply(n,mf(r.props.children,i));return}r.type!==Do&&nt(!1),!r.props.index||!r.props.children||nt(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=mf(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(this,arguments)}function W2(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function K2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q2(e,t){return e.button===0&&(!t||t==="_self")&&!K2(e)}const Q2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G2="6";try{window.__reactRouterVersion=G2}catch{}const X2="startTransition",Wp=nb[X2];function Y2(e){let{basename:t,children:n,future:r,window:s}=e,i=p.useRef();i.current==null&&(i.current=GS({window:s,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&Wp?Wp(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>z2(r),[r]),p.createElement(B2,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const Z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kp=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=W2(t,Q2),{basename:m}=p.useContext(di),y,v=!1;if(typeof u=="string"&&J2.test(u)&&(y=u,Z2))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=Ih(b.pathname,m);b.origin===x.origin&&k!=null?u=k+b.search+b.hash:v=!0}catch{}let j=S2(u,{relative:s}),w=eN(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(x){r&&r(x),x.defaultPrevented||w(x)}return p.createElement("a",pf({},h,{href:y||j,onClick:v||i?r:g,ref:n,target:c}))});var qp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(qp||(qp={}));var Qp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qp||(Qp={}));function eN(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:l}=t===void 0?{}:t,c=Kc(),u=Fa(),d=wv(e,{relative:a});return p.useCallback(f=>{if(q2(f,n)){f.preventDefault();let h=r!==void 0?r:hc(u)===hc(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,i,a,l])}let tN={data:""},nN=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||tN},rN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sN=/\/\*[^]*?\*\/|  +/g,Gp=/\n+/g,Ir=(e,t)=>{let n="",r="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?Ir(a,i):i+"{"+Ir(a,i[1]=="k"?"":t)+"}":typeof a=="object"?r+=Ir(a,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ir.p?Ir.p(i,a):i+":"+a+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Gn={},Nv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Nv(e[n]);return t}return e},iN=(e,t,n,r,s)=>{let i=Nv(e),a=Gn[i]||(Gn[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Gn[a]){let c=i!==e?e:(u=>{let d,f,h=[{}];for(;d=rN.exec(u.replace(sN,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Gp," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Gp," ").trim();return h[0]})(e);Gn[a]=Ir(s?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&Gn.g?Gn.g:null;return n&&(Gn.g=Gn[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Gn[a],t,r,l),a},oN=(e,t,n)=>e.reduce((r,s,i)=>{let a=t[i];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Ir(l,""):l===!1?"":l}return r+s+(a??"")},"");function qc(e){let t=this||{},n=e.call?e(t.p):e;return iN(n.unshift?n.raw?oN(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,nN(t.target),t.g,t.o,t.k)}let kv,xf,gf;qc.bind({g:1});let yr=qc.bind({k:1});function aN(e,t,n,r){Ir.p=t,kv=e,xf=n,gf=r}function gs(e,t){let n=this||{};return function(){let r=arguments;function s(i,a){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:xf&&xf()},l),n.o=/ *go\d+/.test(c),l.className=qc.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),gf&&u[0]&&gf(l),kv(u,l)}return s}}var lN=e=>typeof e=="function",mc=(e,t)=>lN(e)?e(t):e,cN=(()=>{let e=0;return()=>(++e).toString()})(),Cv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),uN=20,zh="default",Ev=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return Ev(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},Al=[],Pv={toasts:[],pausedAt:void 0,settings:{toastLimit:uN}},zn={},Tv=(e,t=zh)=>{zn[t]=Ev(zn[t]||Pv,e),Al.forEach(([n,r])=>{n===t&&r(zn[t])})},_v=e=>Object.keys(zn).forEach(t=>Tv(e,t)),dN=e=>Object.keys(zn).find(t=>zn[t].toasts.some(n=>n.id===e)),Qc=(e=zh)=>t=>{Tv(t,e)},fN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hN=(e={},t=zh)=>{let[n,r]=p.useState(zn[t]||Pv),s=p.useRef(zn[t]);p.useEffect(()=>(s.current!==zn[t]&&r(zn[t]),Al.push([t,r]),()=>{let a=Al.findIndex(([l])=>l===t);a>-1&&Al.splice(a,1)}),[t]);let i=n.toasts.map(a=>{var l,c,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||fN[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:i}},mN=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||cN()}),Oa=e=>(t,n)=>{let r=mN(t,e,n);return Qc(r.toasterId||dN(r.id))({type:2,toast:r}),r.id},at=(e,t)=>Oa("blank")(e,t);at.error=Oa("error");at.success=Oa("success");at.loading=Oa("loading");at.custom=Oa("custom");at.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Qc(t)(n):_v(n)};at.dismissAll=e=>at.dismiss(void 0,e);at.remove=(e,t)=>{let n={type:4,toastId:e};t?Qc(t)(n):_v(n)};at.removeAll=e=>at.remove(void 0,e);at.promise=(e,t,n)=>{let r=at.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?mc(t.success,s):void 0;return i?at.success(i,{id:r,...n,...n==null?void 0:n.success}):at.dismiss(r),s}).catch(s=>{let i=t.error?mc(t.error,s):void 0;i?at.error(i,{id:r,...n,...n==null?void 0:n.error}):at.dismiss(r)}),e};var pN=1e3,xN=(e,t="default")=>{let{toasts:n,pausedAt:r}=hN(e,t),s=p.useRef(new Map).current,i=p.useCallback((f,h=pN)=>{if(s.has(f))return;let m=setTimeout(()=>{s.delete(f),a({type:4,toastId:f})},h);s.set(f,m)},[]);p.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(y<0){m.visible&&at.dismiss(m.id);return}return setTimeout(()=>at.dismiss(m.id,t),y)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[n,r,t]);let a=p.useCallback(Qc(t),[t]),l=p.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=p.useCallback((f,h)=>{a({type:1,toast:{id:f,height:h}})},[a]),u=p.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),d=p.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:v}=h||{},j=n.filter(x=>(x.position||v)===(f.position||v)&&x.height),w=j.findIndex(x=>x.id===f.id),g=j.filter((x,b)=>b<w&&x.visible).length;return j.filter(x=>x.visible).slice(...m?[g+1]:[0,g]).reduce((x,b)=>x+(b.height||0)+y,0)},[n]);return p.useEffect(()=>{n.forEach(f=>{if(f.dismissed)i(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:u,calculateOffset:d}}},gN=yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yN=yr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vN=yr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wN=gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bN=yr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jN=gs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${bN} 1s linear infinite;
`,SN=yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NN=yr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kN=gs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CN=gs("div")`
  position: absolute;
`,EN=gs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PN=yr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TN=gs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,_N=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?p.createElement(TN,null,t):t:n==="blank"?null:p.createElement(EN,null,p.createElement(jN,{...r}),n!=="loading"&&p.createElement(CN,null,n==="error"?p.createElement(wN,{...r}):p.createElement(kN,{...r})))},MN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,AN="0%{opacity:0;} 100%{opacity:1;}",FN="0%{opacity:1;} 100%{opacity:0;}",ON=gs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LN=gs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DN=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Cv()?[AN,FN]:[MN(n),RN(n)];return{animation:t?`${yr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},VN=p.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?DN(e.position||t||"top-center",e.visible):{opacity:0},i=p.createElement(_N,{toast:e}),a=p.createElement(LN,{...e.ariaProps},mc(e.message,e));return p.createElement(ON,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:i,message:a}):p.createElement(p.Fragment,null,i,a))});aN(p.createElement);var IN=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let i=p.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return p.createElement("div",{ref:i,className:t,style:n},s)},$N=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},zN=qc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hl=16,UN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:u}=xN(n,i);return p.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:hl,left:hl,right:hl,bottom:hl,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||t,h=u.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),m=$N(f,h);return p.createElement(IN,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?zN:"",style:m},d.type==="custom"?mc(d.message,d):s?s(d):p.createElement(VN,{toast:d,position:f}))}))},re=at;/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>p.createElement("svg",{ref:d,...BN,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${HN(e)}`,l].join(" "),...u},[...t.map(([f,h])=>p.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=oe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=oe("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=oe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=oe("FileVideo",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=oe("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=oe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=oe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=oe("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=oe("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=oe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=oe("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=oe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=oe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=oe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=oe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=oe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=oe("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=oe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=oe("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=oe("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=oe("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=oe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=oe("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=oe("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=oe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=oe("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=oe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=oe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=oe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=oe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Iv(e,t){return function(){return e.apply(t,arguments)}}const{toString:hk}=Object.prototype,{getPrototypeOf:Hh}=Object,{iterator:Xc,toStringTag:$v}=Symbol,Yc=(e=>t=>{const n=hk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Mn=e=>(e=e.toLowerCase(),t=>Yc(t)===e),Zc=e=>t=>typeof t===e,{isArray:xo}=Array,oo=Zc("undefined");function La(e){return e!==null&&!oo(e)&&e.constructor!==null&&!oo(e.constructor)&&Wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const zv=Mn("ArrayBuffer");function mk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&zv(e.buffer),t}const pk=Zc("string"),Wt=Zc("function"),Uv=Zc("number"),Da=e=>e!==null&&typeof e=="object",xk=e=>e===!0||e===!1,Ol=e=>{if(Yc(e)!=="object")return!1;const t=Hh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($v in e)&&!(Xc in e)},gk=e=>{if(!Da(e)||La(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},yk=Mn("Date"),vk=Mn("File"),wk=Mn("Blob"),bk=Mn("FileList"),jk=e=>Da(e)&&Wt(e.pipe),Sk=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wt(e.append)&&((t=Yc(e))==="formdata"||t==="object"&&Wt(e.toString)&&e.toString()==="[object FormData]"))},Nk=Mn("URLSearchParams"),[kk,Ck,Ek,Pk]=["ReadableStream","Request","Response","Headers"].map(Mn),Tk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Va(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),xo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(La(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let l;for(r=0;r<a;r++)l=i[r],t.call(null,e[l],l,e)}}function Bv(e,t){if(La(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Ds=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hv=e=>!oo(e)&&e!==Ds;function jf(){const{caseless:e,skipUndefined:t}=Hv(this)&&this||{},n={},r=(s,i)=>{const a=e&&Bv(n,i)||i;Ol(n[a])&&Ol(s)?n[a]=jf(n[a],s):Ol(s)?n[a]=jf({},s):xo(s)?n[a]=s.slice():(!t||!oo(s))&&(n[a]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Va(arguments[s],r);return n}const _k=(e,t,n,{allOwnKeys:r}={})=>(Va(t,(s,i)=>{n&&Wt(s)?e[i]=Iv(s,n):e[i]=s},{allOwnKeys:r}),e),Mk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Rk=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Ak=(e,t,n,r)=>{let s,i,a;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)a=s[i],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&Hh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Fk=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Ok=e=>{if(!e)return null;if(xo(e))return e;let t=e.length;if(!Uv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Lk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hh(Uint8Array)),Dk=(e,t)=>{const r=(e&&e[Xc]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Vk=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Ik=Mn("HTMLFormElement"),$k=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),sx=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),zk=Mn("RegExp"),Wv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Va(n,(s,i)=>{let a;(a=t(s,i,e))!==!1&&(r[i]=a||s)}),Object.defineProperties(e,r)},Uk=e=>{Wv(e,(t,n)=>{if(Wt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Wt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bk=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return xo(e)?r(e):r(String(e).split(t)),n},Hk=()=>{},Wk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Kk(e){return!!(e&&Wt(e.append)&&e[$v]==="FormData"&&e[Xc])}const qk=e=>{const t=new Array(10),n=(r,s)=>{if(Da(r)){if(t.indexOf(r)>=0)return;if(La(r))return r;if(!("toJSON"in r)){t[s]=r;const i=xo(r)?[]:{};return Va(r,(a,l)=>{const c=n(a,s+1);!oo(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},Qk=Mn("AsyncFunction"),Gk=e=>e&&(Da(e)||Wt(e))&&Wt(e.then)&&Wt(e.catch),Kv=((e,t)=>e?setImmediate:t?((n,r)=>(Ds.addEventListener("message",({source:s,data:i})=>{s===Ds&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ds.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Wt(Ds.postMessage)),Xk=typeof queueMicrotask<"u"?queueMicrotask.bind(Ds):typeof process<"u"&&process.nextTick||Kv,Yk=e=>e!=null&&Wt(e[Xc]),M={isArray:xo,isArrayBuffer:zv,isBuffer:La,isFormData:Sk,isArrayBufferView:mk,isString:pk,isNumber:Uv,isBoolean:xk,isObject:Da,isPlainObject:Ol,isEmptyObject:gk,isReadableStream:kk,isRequest:Ck,isResponse:Ek,isHeaders:Pk,isUndefined:oo,isDate:yk,isFile:vk,isBlob:wk,isRegExp:zk,isFunction:Wt,isStream:jk,isURLSearchParams:Nk,isTypedArray:Lk,isFileList:bk,forEach:Va,merge:jf,extend:_k,trim:Tk,stripBOM:Mk,inherits:Rk,toFlatObject:Ak,kindOf:Yc,kindOfTest:Mn,endsWith:Fk,toArray:Ok,forEachEntry:Dk,matchAll:Vk,isHTMLForm:Ik,hasOwnProperty:sx,hasOwnProp:sx,reduceDescriptors:Wv,freezeMethods:Uk,toObjectSet:Bk,toCamelCase:$k,noop:Hk,toFiniteNumber:Wk,findKey:Bv,global:Ds,isContextDefined:Hv,isSpecCompliantForm:Kk,toJSONObject:qk,isAsyncFn:Qk,isThenable:Gk,setImmediate:Kv,asap:Xk,isIterable:Yk};function we(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}M.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const qv=we.prototype,Qv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qv[e]={value:e}});Object.defineProperties(we,Qv);Object.defineProperty(qv,"isAxiosError",{value:!0});we.from=(e,t,n,r,s,i)=>{const a=Object.create(qv);M.toFlatObject(e,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return we.call(a,l,c,n,r,s),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",i&&Object.assign(a,i),a};const Zk=null;function Sf(e){return M.isPlainObject(e)||M.isArray(e)}function Gv(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function ix(e,t,n){return e?e.concat(t).map(function(s,i){return s=Gv(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Jk(e){return M.isArray(e)&&!e.some(Sf)}const eC=M.toFlatObject(M,{},null,function(t){return/^is[A-Z]/.test(t)});function Jc(e,t,n){if(!M.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,j){return!M.isUndefined(j[v])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(t);if(!M.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(M.isDate(y))return y.toISOString();if(M.isBoolean(y))return y.toString();if(!c&&M.isBlob(y))throw new we("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(y)||M.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,j){let w=y;if(y&&!j&&typeof y=="object"){if(M.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(M.isArray(y)&&Jk(y)||(M.isFileList(y)||M.endsWith(v,"[]"))&&(w=M.toArray(y)))return v=Gv(v),w.forEach(function(x,b){!(M.isUndefined(x)||x===null)&&t.append(a===!0?ix([v],b,i):a===null?v:v+"[]",u(x))}),!1}return Sf(y)?!0:(t.append(ix(j,v,i),u(y)),!1)}const f=[],h=Object.assign(eC,{defaultVisitor:d,convertValue:u,isVisitable:Sf});function m(y,v){if(!M.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),M.forEach(y,function(w,g){(!(M.isUndefined(w)||w===null)&&s.call(t,w,M.isString(g)?g.trim():g,v,h))===!0&&m(w,v?v.concat(g):[g])}),f.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ox(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Wh(e,t){this._pairs=[],e&&Jc(e,this,t)}const Xv=Wh.prototype;Xv.append=function(t,n){this._pairs.push([t,n])};Xv.toString=function(t){const n=t?function(r){return t.call(this,r,ox)}:ox;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function tC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yv(e,t,n){if(!t)return e;const r=n&&n.encode||tC;M.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=M.isURLSearchParams(t)?t.toString():new Wh(t,n).toString(r),i){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ax{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){M.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Zv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nC=typeof URLSearchParams<"u"?URLSearchParams:Wh,rC=typeof FormData<"u"?FormData:null,sC=typeof Blob<"u"?Blob:null,iC={isBrowser:!0,classes:{URLSearchParams:nC,FormData:rC,Blob:sC},protocols:["http","https","file","blob","url","data"]},Kh=typeof window<"u"&&typeof document<"u",Nf=typeof navigator=="object"&&navigator||void 0,oC=Kh&&(!Nf||["ReactNative","NativeScript","NS"].indexOf(Nf.product)<0),aC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lC=Kh&&window.location.href||"http://localhost",cC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kh,hasStandardBrowserEnv:oC,hasStandardBrowserWebWorkerEnv:aC,navigator:Nf,origin:lC},Symbol.toStringTag,{value:"Module"})),Nt={...cC,...iC};function uC(e,t){return Jc(e,new Nt.classes.URLSearchParams,{visitor:function(n,r,s,i){return Nt.isNode&&M.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function dC(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fC(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Jv(e){function t(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=i>=n.length;return a=!a&&M.isArray(s)?s.length:a,c?(M.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!M.isObject(s[a]))&&(s[a]=[]),t(n,r,s[a],i)&&M.isArray(s[a])&&(s[a]=fC(s[a])),!l)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(r,s)=>{t(dC(r),s,n,0)}),n}return null}function hC(e,t,n){if(M.isString(e))try{return(t||JSON.parse)(e),M.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ia={transitional:Zv,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=M.isObject(t);if(i&&M.isHTMLForm(t)&&(t=new FormData(t)),M.isFormData(t))return s?JSON.stringify(Jv(t)):t;if(M.isArrayBuffer(t)||M.isBuffer(t)||M.isStream(t)||M.isFile(t)||M.isBlob(t)||M.isReadableStream(t))return t;if(M.isArrayBufferView(t))return t.buffer;if(M.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return uC(t,this.formSerializer).toString();if((l=M.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Jc(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),hC(t)):t}],transformResponse:[function(t){const n=this.transitional||Ia.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(M.isResponse(t)||M.isReadableStream(t))return t;if(t&&M.isString(t)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?we.from(l,we.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{Ia.headers[e]={}});const mC=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pC=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||t[n]&&mC[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},lx=Symbol("internals");function Po(e){return e&&String(e).trim().toLowerCase()}function Ll(e){return e===!1||e==null?e:M.isArray(e)?e.map(Ll):String(e)}function xC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Iu(e,t,n,r,s){if(M.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!M.isString(t)){if(M.isString(r))return t.indexOf(r)!==-1;if(M.isRegExp(r))return r.test(t)}}function yC(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function vC(e,t){const n=M.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,a){return this[r].call(this,t,s,i,a)},configurable:!0})})}let Kt=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=Po(c);if(!d)throw new Error("header name must be a non-empty string");const f=M.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Ll(l))}const a=(l,c)=>M.forEach(l,(u,d)=>i(u,d,c));if(M.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(M.isString(t)&&(t=t.trim())&&!gC(t))a(pC(t),n);else if(M.isObject(t)&&M.isIterable(t)){let l={},c,u;for(const d of t){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?M.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Po(t),t){const r=M.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return xC(s);if(M.isFunction(n))return n.call(this,s,r);if(M.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Po(t),t){const r=M.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Iu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(a){if(a=Po(a),a){const l=M.findKey(r,a);l&&(!n||Iu(r,r[l],l,n))&&(delete r[l],s=!0)}}return M.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Iu(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return M.forEach(this,(s,i)=>{const a=M.findKey(r,i);if(a){n[a]=Ll(s),delete n[i];return}const l=t?yC(i):String(i).trim();l!==i&&delete n[i],n[l]=Ll(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return M.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&M.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[lx]=this[lx]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Po(a);r[l]||(vC(s,a),r[l]=!0)}return M.isArray(t)?t.forEach(i):i(t),this}};Kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Kt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});M.freezeMethods(Kt);function $u(e,t){const n=this||Ia,r=t||n,s=Kt.from(r.headers);let i=r.data;return M.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function e1(e){return!!(e&&e.__CANCEL__)}function go(e,t,n){we.call(this,e??"canceled",we.ERR_CANCELED,t,n),this.name="CanceledError"}M.inherits(go,we,{__CANCEL__:!0});function t1(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];a||(a=u),n[s]=c,r[s]=u;let f=i,h=0;for(;f!==s;)h+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-a<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function jC(e,t){let n=0,r=1e3/t,s,i;const a=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?a(u,d):(s=u,i||(i=setTimeout(()=>{i=null,a(s)},r-f)))},()=>s&&a(s)]}const wc=(e,t,n=3)=>{let r=0;const s=bC(50,250);return jC(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,c=a-r,u=s(c),d=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},cx=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ux=e=>(...t)=>M.asap(()=>e(...t)),SC=Nt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Nt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,NC=Nt.hasStandardBrowserEnv?{write(e,t,n,r,s,i,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];M.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),M.isString(r)&&l.push(`path=${r}`),M.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),M.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function CC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function n1(e,t,n){let r=!kC(t);return e&&(r||n==!1)?CC(e,t):t}const dx=e=>e instanceof Kt?{...e}:e;function ai(e,t){t=t||{};const n={};function r(u,d,f,h){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:h},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function s(u,d,f,h){if(M.isUndefined(d)){if(!M.isUndefined(u))return r(void 0,u,f,h)}else return r(u,d,f,h)}function i(u,d){if(!M.isUndefined(d))return r(void 0,d)}function a(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,f)=>s(dx(u),dx(d),f,!0)};return M.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,h=f(e[d],t[d],d);M.isUndefined(h)&&f!==l||(n[d]=h)}),n}const r1=e=>{const t=ai({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=t;if(t.headers=a=Kt.from(a),t.url=Yv(n1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),M.isFormData(n)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,f])=>{u.includes(d.toLowerCase())&&a.set(d,f)})}}if(Nt.hasStandardBrowserEnv&&(r&&M.isFunction(r)&&(r=r(t)),r||r!==!1&&SC(t.url))){const c=s&&i&&NC.read(i);c&&a.set(s,c)}return t},EC=typeof XMLHttpRequest<"u",PC=EC&&function(e){return new Promise(function(n,r){const s=r1(e);let i=s.data;const a=Kt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,h,m,y;function v(){m&&m(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function w(){if(!j)return;const x=Kt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),k={data:!l||l==="text"||l==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:x,config:e,request:j};t1(function(R){n(R),v()},function(R){r(R),v()},k),j=null}"onloadend"in j?j.onloadend=w:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(w)},j.onabort=function(){j&&(r(new we("Request aborted",we.ECONNABORTED,e,j)),j=null)},j.onerror=function(b){const k=b&&b.message?b.message:"Network Error",T=new we(k,we.ERR_NETWORK,e,j);T.event=b||null,r(T),j=null},j.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const k=s.transitional||Zv;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),r(new we(b,k.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,e,j)),j=null},i===void 0&&a.setContentType(null),"setRequestHeader"in j&&M.forEach(a.toJSON(),function(b,k){j.setRequestHeader(k,b)}),M.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),l&&l!=="json"&&(j.responseType=s.responseType),u&&([h,y]=wc(u,!0),j.addEventListener("progress",h)),c&&j.upload&&([f,m]=wc(c),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",m)),(s.cancelToken||s.signal)&&(d=x=>{j&&(r(!x||x.type?new go(null,e,j):x),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=wC(s.url);if(g&&Nt.protocols.indexOf(g)===-1){r(new we("Unsupported protocol "+g+":",we.ERR_BAD_REQUEST,e));return}j.send(i||null)})},TC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof we?d:new go(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,i(new we(`timeout ${t} of ms exceeded`,we.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>M.asap(l),c}},_C=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},MC=async function*(e,t){for await(const n of RC(e))yield*_C(n,t)},RC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},fx=(e,t,n,r)=>{const s=MC(e,t);let i=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(n){let h=i+=f;n(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},hx=64*1024,{isFunction:ml}=M,AC=(({Request:e,Response:t})=>({Request:e,Response:t}))(M.global),{ReadableStream:mx,TextEncoder:px}=M.global,xx=(e,...t)=>{try{return!!e(...t)}catch{return!1}},FC=e=>{e=M.merge.call({skipUndefined:!0},AC,e);const{fetch:t,Request:n,Response:r}=e,s=t?ml(t):typeof fetch=="function",i=ml(n),a=ml(r);if(!s)return!1;const l=s&&ml(mx),c=s&&(typeof px=="function"?(y=>v=>y.encode(v))(new px):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=i&&l&&xx(()=>{let y=!1;const v=new n(Nt.origin,{body:new mx,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!v}),d=a&&l&&xx(()=>M.isReadableStream(new r("").body)),f={stream:d&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(v,j)=>{let w=v&&v[y];if(w)return w.call(v);throw new we(`Response type '${y}' is not supported`,we.ERR_NOT_SUPPORT,j)})});const h=async y=>{if(y==null)return 0;if(M.isBlob(y))return y.size;if(M.isSpecCompliantForm(y))return(await new n(Nt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(M.isArrayBufferView(y)||M.isArrayBuffer(y))return y.byteLength;if(M.isURLSearchParams(y)&&(y=y+""),M.isString(y))return(await c(y)).byteLength},m=async(y,v)=>{const j=M.toFiniteNumber(y.getContentLength());return j??h(v)};return async y=>{let{url:v,method:j,data:w,signal:g,cancelToken:x,timeout:b,onDownloadProgress:k,onUploadProgress:T,responseType:R,headers:_,withCredentials:L="same-origin",fetchOptions:F}=r1(y),q=t||fetch;R=R?(R+"").toLowerCase():"text";let Q=TC([g,x&&x.toAbortSignal()],b),P=null;const B=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let de;try{if(T&&u&&j!=="get"&&j!=="head"&&(de=await m(_,w))!==0){let E=new n(v,{method:"POST",body:w,duplex:"half"}),A;if(M.isFormData(w)&&(A=E.headers.get("content-type"))&&_.setContentType(A),E.body){const[U,O]=cx(de,wc(ux(T)));w=fx(E.body,hx,U,O)}}M.isString(L)||(L=L?"include":"omit");const I=i&&"credentials"in n.prototype,ie={...F,signal:Q,method:j.toUpperCase(),headers:_.normalize().toJSON(),body:w,duplex:"half",credentials:I?L:void 0};P=i&&new n(v,ie);let D=await(i?q(P,F):q(v,ie));const G=d&&(R==="stream"||R==="response");if(d&&(k||G&&B)){const E={};["status","statusText","headers"].forEach(Z=>{E[Z]=D[Z]});const A=M.toFiniteNumber(D.headers.get("content-length")),[U,O]=k&&cx(A,wc(ux(k),!0))||[];D=new r(fx(D.body,hx,U,()=>{O&&O(),B&&B()}),E)}R=R||"text";let se=await f[M.findKey(f,R)||"text"](D,y);return!G&&B&&B(),await new Promise((E,A)=>{t1(E,A,{data:se,headers:Kt.from(D.headers),status:D.status,statusText:D.statusText,config:y,request:P})})}catch(I){throw B&&B(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,y,P),{cause:I.cause||I}):we.from(I,I&&I.code,y,P)}}},OC=new Map,s1=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let a=i.length,l=a,c,u,d=OC;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:FC(t)),d=u;return u};s1();const qh={http:Zk,xhr:PC,fetch:{get:s1}};M.forEach(qh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const gx=e=>`- ${e}`,LC=e=>M.isFunction(e)||e===null||e===!1;function DC(e,t){e=M.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let a=0;a<n;a++){r=e[a];let l;if(s=r,!LC(r)&&(s=qh[(l=String(r)).toLowerCase()],s===void 0))throw new we(`Unknown adapter '${l}'`);if(s&&(M.isFunction(s)||(s=s.get(t))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(gx).join(`
`):" "+gx(a[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const i1={getAdapter:DC,adapters:qh};function zu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new go(null,e)}function yx(e){return zu(e),e.headers=Kt.from(e.headers),e.data=$u.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),i1.getAdapter(e.adapter||Ia.adapter,e)(e).then(function(r){return zu(e),r.data=$u.call(e,e.transformResponse,r),r.headers=Kt.from(r.headers),r},function(r){return e1(r)||(zu(e),r&&r.response&&(r.response.data=$u.call(e,e.transformResponse,r.response),r.response.headers=Kt.from(r.response.headers))),Promise.reject(r)})}const o1="1.13.2",eu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const vx={};eu.transitional=function(t,n,r){function s(i,a){return"[Axios v"+o1+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(t===!1)throw new we(s(a," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!vx[a]&&(vx[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,a,l):!0}};eu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function VC(e,t,n){if(typeof e!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],a=t[i];if(a){const l=e[i],c=l===void 0||a(l,i,e);if(c!==!0)throw new we("option "+i+" must be "+c,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}const Dl={assertOptions:VC,validators:eu},On=Dl.validators;let Xs=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ax,response:new ax}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ai(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Dl.assertOptions(r,{silentJSONParsing:On.transitional(On.boolean),forcedJSONParsing:On.transitional(On.boolean),clarifyTimeoutError:On.transitional(On.boolean)},!1),s!=null&&(M.isFunction(s)?n.paramsSerializer={serialize:s}:Dl.assertOptions(s,{encode:On.function,serialize:On.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Dl.assertOptions(n,{baseUrl:On.spelling("baseURL"),withXsrfToken:On.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&M.merge(i.common,i[n.method]);i&&M.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),n.headers=Kt.concat(a,i);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!c){const y=[yx.bind(this),void 0];for(y.unshift(...l),y.push(...u),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let m=n;for(;f<h;){const y=l[f++],v=l[f++];try{m=y(m)}catch(j){v.call(this,j);break}}try{d=yx.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=ai(this.defaults,t);const n=n1(t.baseURL,t.url,t.allowAbsoluteUrls);return Yv(n,t.params,t.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(t){Xs.prototype[t]=function(n,r){return this.request(ai(r||{},{method:t,url:n,data:(r||{}).data}))}});M.forEach(["post","put","patch"],function(t){function n(r){return function(i,a,l){return this.request(ai(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Xs.prototype[t]=n(),Xs.prototype[t+"Form"]=n(!0)});let IC=class a1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,l){r.reason||(r.reason=new go(i,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new a1(function(s){t=s}),cancel:t}}};function $C(e){return function(n){return e.apply(null,n)}}function zC(e){return M.isObject(e)&&e.isAxiosError===!0}const kf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kf).forEach(([e,t])=>{kf[t]=e});function l1(e){const t=new Xs(e),n=Iv(Xs.prototype.request,t);return M.extend(n,Xs.prototype,t,{allOwnKeys:!0}),M.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return l1(ai(e,s))},n}const Ye=l1(Ia);Ye.Axios=Xs;Ye.CanceledError=go;Ye.CancelToken=IC;Ye.isCancel=e1;Ye.VERSION=o1;Ye.toFormData=Jc;Ye.AxiosError=we;Ye.Cancel=Ye.CanceledError;Ye.all=function(t){return Promise.all(t)};Ye.spread=$C;Ye.isAxiosError=zC;Ye.mergeConfig=ai;Ye.AxiosHeaders=Kt;Ye.formToJSON=e=>Jv(M.isHTMLForm(e)?new FormData(e):e);Ye.getAdapter=i1.getAdapter;Ye.HttpStatusCode=kf;Ye.default=Ye;const{Axios:u3,AxiosError:d3,CanceledError:f3,isCancel:h3,CancelToken:m3,VERSION:p3,all:x3,Cancel:g3,isAxiosError:y3,spread:v3,toFormData:w3,AxiosHeaders:b3,HttpStatusCode:j3,formToJSON:S3,getAdapter:N3,mergeConfig:k3}=Ye,UC="/api/v1",BC=()=>`ws://${window.location.host}`,c1=BC(),ne=Ye.create({baseURL:UC,headers:{"Content-Type":"application/json"}}),$t={list:()=>ne.get("/projects"),get:e=>ne.get(`/projects/${e}`),create:(e,t)=>ne.post("/projects",{name:e,video_paths:t}),delete:e=>ne.delete(`/projects/${e}`),addVideo:(e,t,n)=>ne.post(`/projects/${e}/videos`,{video_path:t,name:n}),removeVideo:(e,t)=>ne.delete(`/projects/${e}/videos/${t}`),reorderVideos:(e,t)=>ne.post(`/projects/${e}/videos/reorder`,{video_ids:t}),setActiveVideo:(e,t)=>ne.post(`/projects/${e}/active-video`,{video_id:t}),checkCompatibility:e=>ne.get(`/projects/${e}/compatibility`),updateSettings:(e,t)=>ne.put(`/projects/${e}/settings`,t),getBGMTracks:e=>ne.get(`/projects/${e}/bgm-tracks`),addBGMTrack:(e,t)=>ne.post(`/projects/${e}/bgm-tracks`,t),getBGMTrack:(e,t)=>ne.get(`/projects/${e}/bgm-tracks/${t}`),updateBGMTrack:(e,t,n)=>ne.put(`/projects/${e}/bgm-tracks/${t}`,n),deleteBGMTrack:(e,t)=>ne.delete(`/projects/${e}/bgm-tracks/${t}`),reorderBGMTracks:(e,t)=>ne.post(`/projects/${e}/bgm-tracks/reorder`,{track_ids:t}),updateVolumeSettings:(e,t,n)=>ne.put(`/projects/${e}/volume-settings`,{bgm_volume:t,tts_volume:n})},Qh={get:(e,t)=>ne.get(`/videos/${e}/${t}`),upload:e=>{const t=new FormData;return t.append("file",e),ne.post("/videos/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadAudio:e=>{const t=new FormData;return t.append("file",e),ne.post("/videos/upload-audio",t,{headers:{"Content-Type":"multipart/form-data"}})},getInfo:e=>ne.get("/videos/info",{params:{path:e}}),getKeyframes:(e,t,n=5)=>ne.get(`/videos/${e}/${t}/keyframes`,{params:{count:n}})},li={list:(e,t)=>ne.get(`/segments/${e}`,{params:{...t!=null&&t.videoId?{video_id:t.videoId}:{},...t!=null&&t.all?{all:!0}:{}}}),create:(e,t,n)=>ne.post(`/segments/${e}`,t,{params:n?{video_id:n}:{}}),update:(e,t,n)=>ne.put(`/segments/${e}/${t}`,n),delete:(e,t)=>ne.delete(`/segments/${e}/${t}`),analyze:(e,t)=>ne.get(`/segments/${e}/${t}/analyze`),createBatch:(e,t,n)=>ne.post(`/segments/${e}/batch`,t,{params:n?{video_id:n}:{}}),validate:(e,t)=>ne.get(`/segments/${e}/validate`,{params:t?{video_id:t}:{}})},Ys={getVoices:e=>ne.get("/tts/voices",{params:e?{language:e}:{}}),getBestVoices:()=>ne.get("/tts/voices/best"),preview:(e,t,n,r,s)=>ne.post("/tts/preview",{voice_id:e,text:t,rate:n,volume:r,pitch:s}),generate:e=>ne.post("/tts/generate",e),checkConnectivity:()=>ne.get("/tts/connectivity"),estimateDuration:(e,t="en")=>ne.post("/tts/estimate-duration",{text:e,language:t}),getLanguages:()=>ne.get("/tts/languages")},Zr={checkHealth:()=>ne.get("/llm/health"),listOllamaModels:()=>ne.get("/llm/ollama/models"),checkVisionModels:()=>ne.get("/llm/ollama/vision-models"),analyzeVideo:(e,t="qwen3-vl:8b",n=4)=>ne.post("/llm/analyze-video",null,{params:{video_path:e,vision_model:t,num_frames:n}}),generateScript:e=>ne.post("/llm/generate-script",e),refineScript:e=>ne.post("/llm/refine-script",e),estimateDuration:(e,t="en")=>ne.post("/llm/estimate-duration",{text:e,language:t}),getProviders:()=>ne.get("/llm/providers"),getPromptTemplates:()=>ne.get("/llm/prompt-templates"),autoSegment:e=>ne.post("/llm/auto-segment",e),intelligentAutoSegment:e=>ne.post("/llm/intelligent-auto-segment",e),intelligentAutoSegmentStream:e=>{const t="/api/v1/llm/intelligent-auto-segment";return new EventSource(t)}},Vl={start:e=>ne.post("/export/start",e),getStatus:e=>ne.get(`/export/status/${e}`),getQueue:()=>ne.get("/export/queue"),cancel:e=>ne.delete(`/export/cancel/${e}`),preview:(e,t)=>ne.post("/export/preview",{project_name:e,segment_index:t}),getOutputDir:()=>ne.get("/export/output-dir"),browseDirectories:e=>ne.post("/export/browse-directories",{path:e}),setOutputDir:e=>ne.post("/export/set-output-dir",{path:e}),generateSegmentAudio:(e,t)=>ne.post("/export/segment-audio",{project_name:e,segment_id:t}),previewSegmentAudio:e=>ne.post("/export/preview-segment-audio",e)},xi={get:()=>ne.get("/settings"),update:e=>ne.put("/settings",e),getLLM:()=>ne.get("/settings/llm"),updateLLM:e=>ne.put("/settings/llm",e),getSystem:()=>ne.get("/settings/system"),clearCache:()=>ne.post("/settings/clear-cache"),clearTemp:()=>ne.post("/settings/clear-temp")},HC={getGoogleFonts:()=>ne.get("/fonts/google"),checkFont:e=>ne.get("/fonts/check",{params:{font_name:e}})};function u1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=u1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function J(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=u1(e))&&(r&&(r+=" "),r+=t);return r}function wx({status:e,label:t}){return o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx("div",{className:J("status-dot",e===!0&&"status-dot-success",e===!1&&"status-dot-error",e===null&&"status-dot-idle animate-pulse")}),o.jsx("span",{className:"text-text-muted",children:t})]})}function WC(){var i,a,l;const e=Fa(),{data:t}=St({queryKey:["llm-health"],queryFn:()=>Zr.checkHealth(),refetchInterval:3e4}),{data:n}=St({queryKey:["tts-status"],queryFn:()=>Ys.checkConnectivity(),refetchInterval:3e4}),r=((i=t==null?void 0:t.data)==null?void 0:i.ollama_available)??null,s=((a=n==null?void 0:n.data)==null?void 0:a.direct_connection)||((l=n==null?void 0:n.data)==null?void 0:l.proxy_connection);return o.jsxs("div",{className:"min-h-screen bg-terminal-bg flex flex-col",children:[o.jsxs("header",{className:"h-14 border-b border-terminal-border bg-terminal-surface flex items-center px-4 sticky top-0 z-50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded bg-accent-red flex items-center justify-center shadow-glow-red-sm",children:o.jsx(yf,{className:"w-5 h-5 text-white"})}),o.jsxs("span",{className:"font-mono font-bold text-lg tracking-tight",children:[o.jsx("span",{className:"text-accent-red",children:"Termi"}),o.jsx("span",{className:"text-white",children:"Voxed"})]})]}),o.jsx("span",{className:"text-[10px] font-mono bg-terminal-elevated px-1.5 py-0.5 rounded text-text-muted border border-terminal-border",children:"v1.0.0"})]}),o.jsxs("nav",{className:"ml-8 flex items-center gap-1",children:[o.jsxs(Kp,{to:"/",className:J("flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-all",e.pathname==="/"?"bg-accent-red/10 text-accent-red border border-accent-red/30":"text-text-secondary hover:text-text-primary hover:bg-terminal-elevated"),children:[o.jsx(JN,{className:"w-4 h-4"}),o.jsx("span",{children:"Projects"})]}),o.jsxs(Kp,{to:"/settings",className:J("flex items-center gap-2 px-3 py-1.5 rounded-md text-sm transition-all",e.pathname==="/settings"?"bg-accent-red/10 text-accent-red border border-accent-red/30":"text-text-secondary hover:text-text-primary hover:bg-terminal-elevated"),children:[o.jsx(Gc,{className:"w-4 h-4"}),o.jsx("span",{children:"Settings"})]})]}),o.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[o.jsx(wx,{status:r,label:"Ollama"}),o.jsx(wx,{status:s??null,label:"TTS"}),o.jsx("div",{className:"h-4 w-px bg-terminal-border"}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-text-muted",children:[o.jsx(WN,{className:"w-3.5 h-3.5 text-accent-red"}),o.jsx("span",{className:"font-mono",children:"READY"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto",children:o.jsx(U2,{})}),o.jsxs("footer",{className:"h-6 border-t border-terminal-border bg-terminal-surface flex items-center px-4 text-[10px] font-mono text-text-muted",children:[o.jsx("span",{children:"TermiVoxed Web UI"}),o.jsx("span",{className:"mx-2 text-terminal-border",children:"|"}),o.jsx("span",{children:"AI Voice-Over Studio"}),o.jsxs("span",{className:"ml-auto flex items-center gap-2",children:[o.jsx("span",{className:"text-accent-red",children:""}),o.jsx("span",{children:"Connected"})]})]})]})}const d1=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),tu=p.createContext({}),nu=p.createContext(null),ru=typeof document<"u",Gh=ru?p.useLayoutEffect:p.useEffect,f1=p.createContext({strict:!1}),Xh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),KC="framerAppearId",h1="data-"+Xh(KC);function qC(e,t,n,r){const{visualElement:s}=p.useContext(tu),i=p.useContext(f1),a=p.useContext(nu),l=p.useContext(d1).reducedMotion,c=p.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(n,a)});const d=p.useRef(!!(n[h1]&&!window.HandoffComplete));return Gh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Ti(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QC(e,t,n){return p.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ti(n)&&(n.current=r))},[t])}function va(e){return typeof e=="string"||Array.isArray(e)}function su(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Yh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zh=["initial",...Yh];function iu(e){return su(e.animate)||Zh.some(t=>va(e[t]))}function m1(e){return!!(iu(e)||e.variants)}function GC(e,t){if(iu(e)){const{initial:n,animate:r}=e;return{initial:n===!1||va(n)?n:void 0,animate:va(r)?r:void 0}}return e.inherit!==!1?t:{}}function XC(e){const{initial:t,animate:n}=GC(e,p.useContext(tu));return p.useMemo(()=>({initial:t,animate:n}),[bx(t),bx(n)])}function bx(e){return Array.isArray(e)?e.join(" "):e}const jx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wa={};for(const e in jx)wa[e]={isEnabled:t=>jx[e].some(n=>!!t[n])};function YC(e){for(const t in e)wa[t]={...wa[t],...e[t]}}const Jh=p.createContext({}),p1=p.createContext({}),ZC=Symbol.for("motionComponentSymbol");function JC({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&YC(e);function i(l,c){let u;const d={...p.useContext(d1),...l,layoutId:eE(l)},{isStatic:f}=d,h=XC(l),m=r(l,f);if(!f&&ru){h.visualElement=qC(s,m,d,t);const y=p.useContext(p1),v=p.useContext(f1).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,e,y))}return p.createElement(tu.Provider,{value:h},u&&h.visualElement?p.createElement(u,{visualElement:h.visualElement,...d}):null,n(s,l,QC(m,h.visualElement,c),m,f,h.visualElement))}const a=p.forwardRef(i);return a[ZC]=s,a}function eE({layoutId:e}){const t=p.useContext(Jh).id;return t&&e!==void 0?t+"-"+e:e}function tE(e){function t(r,s={}){return JC(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const nE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function em(e){return typeof e!="string"||e.includes("-")?!1:!!(nE.indexOf(e)>-1||/[A-Z]/.test(e))}const bc={};function rE(e){Object.assign(bc,e)}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fi=new Set($a);function x1(e,{layout:t,layoutId:n}){return fi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!bc[e]||e==="opacity")}const qt=e=>!!(e&&e.getVelocity),sE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iE=$a.length;function oE(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let a=0;a<iE;a++){const l=$a[a];if(e[l]!==void 0){const c=sE[l]||l;i+=`${c}(${e[l]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const g1=e=>t=>typeof t=="string"&&t.startsWith(e),y1=g1("--"),Cf=g1("var(--"),aE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,lE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,fs=(e,t,n)=>Math.min(Math.max(n,e),t),hi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qo={...hi,transform:e=>fs(0,1,e)},pl={...hi,default:1},Go=e=>Math.round(e*1e5)/1e5,ou=/(-)?([\d]*\.?[\d])+/g,v1=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,cE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function za(e){return typeof e=="string"}const Ua=e=>({test:t=>za(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ar=Ua("deg"),Hn=Ua("%"),pe=Ua("px"),uE=Ua("vh"),dE=Ua("vw"),Sx={...Hn,parse:e=>Hn.parse(e)/100,transform:e=>Hn.transform(e*100)},Nx={...hi,transform:Math.round},w1={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:Ar,rotateX:Ar,rotateY:Ar,rotateZ:Ar,scale:pl,scaleX:pl,scaleY:pl,scaleZ:pl,skew:Ar,skewX:Ar,skewY:Ar,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Qo,originX:Sx,originY:Sx,originZ:pe,zIndex:Nx,fillOpacity:Qo,strokeOpacity:Qo,numOctaves:Nx};function tm(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:l}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(y1(f)){i[f]=h;continue}const m=w1[f],y=lE(h,m);if(fi.has(f)){if(c=!0,a[f]=y,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=y):s[f]=y}if(t.transform||(c||r?s.transform=oE(e.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${h} ${m}`}}const nm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function b1(e,t,n){for(const r in t)!qt(t[r])&&!x1(r,n)&&(e[r]=t[r])}function fE({transformTemplate:e},t,n){return p.useMemo(()=>{const r=nm();return tm(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function hE(e,t,n){const r=e.style||{},s={};return b1(s,r,e),Object.assign(s,fE(e,t,n)),e.transformValues?e.transformValues(s):s}function mE(e,t,n){const r={},s=hE(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const pE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pE.has(e)}let j1=e=>!jc(e);function xE(e){e&&(j1=t=>t.startsWith("on")?!jc(t):e(t))}try{xE(require("@emotion/is-prop-valid").default)}catch{}function gE(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(j1(s)||n===!0&&jc(s)||!t&&!jc(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function kx(e,t,n){return typeof e=="string"?e:pe.transform(t+n*e)}function yE(e,t,n){const r=kx(t,e.x,e.width),s=kx(n,e.y,e.height);return`${r} ${s}`}const vE={offset:"stroke-dashoffset",array:"stroke-dasharray"},wE={offset:"strokeDashoffset",array:"strokeDasharray"};function bE(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?vE:wE;e[i.offset]=pe.transform(-r);const a=pe.transform(t),l=pe.transform(n);e[i.array]=`${a} ${l}`}function rm(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(tm(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y,dimensions:v}=e;m.transform&&(v&&(y.transform=m.transform),delete m.transform),v&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=yE(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),a!==void 0&&bE(m,a,l,c,!1)}const S1=()=>({...nm(),attrs:{}}),sm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function jE(e,t,n,r){const s=p.useMemo(()=>{const i=S1();return rm(i,t,{enableHardwareAcceleration:!1},sm(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};b1(i,e.style,e),s.style={...i,...s.style}}return s}function SE(e=!1){return(n,r,s,{latestValues:i},a)=>{const c=(em(n)?jE:mE)(r,i,a,n),d={...gE(r,typeof n=="string",e),...c,ref:s},{children:f}=r,h=p.useMemo(()=>qt(f)?f.get():f,[f]);return p.createElement(n,{...d,children:h})}}function N1(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const k1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C1(e,t,n,r){N1(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(k1.has(s)?s:Xh(s),t.attrs[s])}function im(e,t){const{style:n}=e,r={};for(const s in n)(qt(n[s])||t.style&&qt(t.style[s])||x1(s,e))&&(r[s]=n[s]);return r}function E1(e,t){const n=im(e,t);for(const r in e)if(qt(e[r])||qt(t[r])){const s=$a.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function om(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function P1(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sc=e=>Array.isArray(e),NE=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kE=e=>Sc(e)?e[e.length-1]||0:e;function Il(e){const t=qt(e)?e.get():e;return NE(t)?t.toValue():t}function CE({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const a={latestValues:EE(r,s,i,e),renderState:t()};return n&&(a.mount=l=>n(r,l,a)),a}const T1=e=>(t,n)=>{const r=p.useContext(tu),s=p.useContext(nu),i=()=>CE(e,t,r,s);return n?i():P1(i)};function EE(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Il(i[h]);let{initial:a,animate:l}=e;const c=iu(e),u=m1(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!su(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const y=om(e,m);if(!y)return;const{transitionEnd:v,transition:j,...w}=y;for(const g in w){let x=w[g];if(Array.isArray(x)){const b=d?x.length-1:0;x=x[b]}x!==null&&(s[g]=x)}for(const g in v)s[g]=v[g]}),s}const Xe=e=>e;class Cx{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function PE(e){let t=new Cx,n=new Cx,r=0,s=!1,i=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:n;return u&&a.add(c),h.add(c)&&f&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),a.has(d)&&(l.schedule(d),e())}s=!1,i&&(i=!1,l.process(c))}};return l}const xl=["prepare","read","update","preRender","render","postRender"],TE=40;function _E(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=xl.reduce((f,h)=>(f[h]=PE(()=>n=!0),f),{}),a=f=>i[f].process(s),l=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,TE),1),s.timestamp=f,s.isProcessing=!0,xl.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(l))},c=()=>{n=!0,r=!0,s.isProcessing||e(l)};return{schedule:xl.reduce((f,h)=>{const m=i[h];return f[h]=(y,v=!1,j=!1)=>(n||c(),m.schedule(y,v,j)),f},{}),cancel:f=>xl.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:Le,cancel:vr,state:bt,steps:Uu}=_E(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xe,!0),ME={useVisualState:T1({scrapeMotionValuesFromProps:E1,createRenderState:S1,onMount:(e,t,{renderState:n,latestValues:r})=>{Le.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Le.render(()=>{rm(n,r,{enableHardwareAcceleration:!1},sm(t.tagName),e.transformTemplate),C1(t,n)})}})},RE={useVisualState:T1({scrapeMotionValuesFromProps:im,createRenderState:nm})};function AE(e,{forwardMotionProps:t=!1},n,r){return{...em(e)?ME:RE,preloadedFeatures:n,useRender:SE(t),createVisualElement:r,Component:e}}function ar(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const _1=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function au(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const FE=e=>t=>_1(t)&&e(t,au(t));function ur(e,t,n,r){return ar(e,t,FE(n),r)}const OE=(e,t)=>n=>t(e(n)),cs=(...e)=>e.reduce(OE);function M1(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Ex=M1("dragHorizontal"),Px=M1("dragVertical");function R1(e){let t=!1;if(e==="y")t=Px();else if(e==="x")t=Ex();else{const n=Ex(),r=Px();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function A1(){const e=R1(!0);return e?(e(),!1):!0}class ys{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Tx(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||A1())return;const l=e.getProps();e.animationState&&l.whileHover&&e.animationState.setActive("whileHover",t),l[r]&&Le.update(()=>l[r](i,a))};return ur(e.current,n,s,{passive:!e.getProps()[r]})}class LE extends ys{mount(){this.unmount=cs(Tx(this.node,!0),Tx(this.node,!1))}unmount(){}}class DE extends ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cs(ar(this.node.current,"focus",()=>this.onFocus()),ar(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const F1=(e,t)=>t?e===t?!0:F1(e,t.parentElement):!1;function Bu(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,au(n))}class VE extends ys{constructor(){super(...arguments),this.removeStartListeners=Xe,this.removeEndListeners=Xe,this.removeAccessibleListeners=Xe,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=ur(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Le.update(()=>{!f&&!F1(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),a=ur(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=cs(i,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Bu("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Le.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=ar(this.node.current,"keyup",a),Bu("down",(l,c)=>{this.startPress(l,c)})},n=ar(this.node.current,"keydown",t),r=()=>{this.isPressing&&Bu("cancel",(i,a)=>this.cancelPress(i,a))},s=ar(this.node.current,"blur",r);this.removeAccessibleListeners=cs(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Le.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!A1()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Le.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=ur(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ar(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=cs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ef=new WeakMap,Hu=new WeakMap,IE=e=>{const t=Ef.get(e.target);t&&t(e)},$E=e=>{e.forEach(IE)};function zE({root:e,...t}){const n=e||document;Hu.has(n)||Hu.set(n,{});const r=Hu.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver($E,{root:e,...t})),r[s]}function UE(e,t,n){const r=zE(t);return Ef.set(e,n),r.observe(e),()=>{Ef.delete(e),r.unobserve(e)}}const BE={some:0,all:1};class HE extends ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:BE[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return UE(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(WE(t,n))&&this.startObserver()}unmount(){}}function WE({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const KE={inView:{Feature:HE},tap:{Feature:VE},focus:{Feature:DE},hover:{Feature:LE}};function O1(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function qE(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function QE(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function lu(e,t,n){const r=e.getProps();return om(r,t,n!==void 0?n:r.custom,qE(e),QE(e))}let am=Xe;const Zs=e=>e*1e3,dr=e=>e/1e3,GE={current:!1},L1=e=>Array.isArray(e)&&typeof e[0]=="number";function D1(e){return!!(!e||typeof e=="string"&&V1[e]||L1(e)||Array.isArray(e)&&e.every(D1))}const Vo=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,V1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vo([0,.65,.55,1]),circOut:Vo([.55,0,1,.45]),backIn:Vo([.31,.01,.66,-.59]),backOut:Vo([.33,1.53,.69,.99])};function I1(e){if(e)return L1(e)?Vo(e):Array.isArray(e)?e.map(I1):V1[e]}function XE(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:l,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=I1(l);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function YE(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const $1=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ZE=1e-7,JE=12;function eP(e,t,n,r,s){let i,a,l=0;do a=t+(n-t)/2,i=$1(a,r,s)-e,i>0?n=a:t=a;while(Math.abs(i)>ZE&&++l<JE);return a}function Ba(e,t,n,r){if(e===t&&n===r)return Xe;const s=i=>eP(i,0,1,e,n);return i=>i===0||i===1?i:$1(s(i),t,r)}const tP=Ba(.42,0,1,1),nP=Ba(0,0,.58,1),z1=Ba(.42,0,.58,1),rP=e=>Array.isArray(e)&&typeof e[0]!="number",U1=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B1=e=>t=>1-e(1-t),lm=e=>1-Math.sin(Math.acos(e)),H1=B1(lm),sP=U1(lm),W1=Ba(.33,1.53,.69,.99),cm=B1(W1),iP=U1(cm),oP=e=>(e*=2)<1?.5*cm(e):.5*(2-Math.pow(2,-10*(e-1))),aP={linear:Xe,easeIn:tP,easeInOut:z1,easeOut:nP,circIn:lm,circInOut:sP,circOut:H1,backIn:cm,backInOut:iP,backOut:W1,anticipate:oP},_x=e=>{if(Array.isArray(e)){am(e.length===4);const[t,n,r,s]=e;return Ba(t,n,r,s)}else if(typeof e=="string")return aP[e];return e},um=(e,t)=>n=>!!(za(n)&&cE.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),K1=(e,t,n)=>r=>{if(!za(r))return r;const[s,i,a,l]=r.match(ou);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},lP=e=>fs(0,255,e),Wu={...hi,transform:e=>Math.round(lP(e))},Vs={test:um("rgb","red"),parse:K1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Wu.transform(e)+", "+Wu.transform(t)+", "+Wu.transform(n)+", "+Go(Qo.transform(r))+")"};function cP(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Pf={test:um("#"),parse:cP,transform:Vs.transform},_i={test:um("hsl","hue"),parse:K1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hn.transform(Go(t))+", "+Hn.transform(Go(n))+", "+Go(Qo.transform(r))+")"},Tt={test:e=>Vs.test(e)||Pf.test(e)||_i.test(e),parse:e=>Vs.test(e)?Vs.parse(e):_i.test(e)?_i.parse(e):Pf.parse(e),transform:e=>za(e)?e:e.hasOwnProperty("red")?Vs.transform(e):_i.transform(e)},Ue=(e,t,n)=>-n*e+n*t+e;function Ku(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function uP({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,a=0;if(!t)s=i=a=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Ku(c,l,e+1/3),i=Ku(c,l,e),a=Ku(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}const qu=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},dP=[Pf,Vs,_i],fP=e=>dP.find(t=>t.test(e));function Mx(e){const t=fP(e);let n=t.parse(e);return t===_i&&(n=uP(n)),n}const q1=(e,t)=>{const n=Mx(e),r=Mx(t),s={...n};return i=>(s.red=qu(n.red,r.red,i),s.green=qu(n.green,r.green,i),s.blue=qu(n.blue,r.blue,i),s.alpha=Ue(n.alpha,r.alpha,i),Vs.transform(s))};function hP(e){var t,n;return isNaN(e)&&za(e)&&(((t=e.match(ou))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(v1))===null||n===void 0?void 0:n.length)||0)>0}const Q1={regex:aE,countKey:"Vars",token:"${v}",parse:Xe},G1={regex:v1,countKey:"Colors",token:"${c}",parse:Tt.parse},X1={regex:ou,countKey:"Numbers",token:"${n}",parse:hi.parse};function Qu(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Nc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Qu(n,Q1),Qu(n,G1),Qu(n,X1),n}function Y1(e){return Nc(e).values}function Z1(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Nc(e),i=t.length;return a=>{let l=s;for(let c=0;c<i;c++)c<r?l=l.replace(Q1.token,a[c]):c<r+n?l=l.replace(G1.token,Tt.transform(a[c])):l=l.replace(X1.token,Go(a[c]));return l}}const mP=e=>typeof e=="number"?0:e;function pP(e){const t=Y1(e);return Z1(e)(t.map(mP))}const hs={test:hP,parse:Y1,createTransformer:Z1,getAnimatableNone:pP},J1=(e,t)=>n=>`${n>0?t:e}`;function ew(e,t){return typeof e=="number"?n=>Ue(e,t,n):Tt.test(e)?q1(e,t):e.startsWith("var(")?J1(e,t):nw(e,t)}const tw=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,a)=>ew(i,t[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}},xP=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=ew(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},nw=(e,t)=>{const n=hs.createTransformer(t),r=Nc(e),s=Nc(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?cs(tw(r.values,s.values),n):J1(e,t)},ba=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Rx=(e,t)=>n=>Ue(e,t,n);function gP(e){return typeof e=="number"?Rx:typeof e=="string"?Tt.test(e)?q1:nw:Array.isArray(e)?tw:typeof e=="object"?xP:Rx}function yP(e,t,n){const r=[],s=n||gP(e[0]),i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Xe:t;l=cs(c,l)}r.push(l)}return r}function rw(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(am(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=yP(t,r,s),l=a.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=ba(e[d],e[d+1],u);return a[d](f)};return n?u=>c(fs(e[0],e[i-1],u)):c}function vP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=ba(0,t,r);e.push(Ue(n,1,s))}}function wP(e){const t=[0];return vP(t,e.length-1),t}function bP(e,t){return e.map(n=>n*t)}function jP(e,t){return e.map(()=>t||z1).splice(0,e.length-1)}function kc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=rP(r)?r.map(_x):_x(r),i={done:!1,value:t[0]},a=bP(n&&n.length===t.length?n:wP(t),e),l=rw(a,t,{ease:Array.isArray(s)?s:jP(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}function sw(e,t){return t?e*(1e3/t):0}const SP=5;function iw(e,t,n){const r=Math.max(t-SP,0);return sw(n-e(r),t-r)}const Gu=.001,NP=.01,kP=10,CP=.05,EP=1;function PP({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,a=1-t;a=fs(CP,EP,a),e=fs(NP,kP,dr(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-n,m=Tf(u,a),y=Math.exp(-f);return Gu-h/m*y},i=u=>{const f=u*a*e,h=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-f),v=Tf(Math.pow(u,2),a);return(-s(u)+Gu>0?-1:1)*((h-m)*y)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-Gu+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=_P(s,i,l);if(e=Zs(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:e}}}const TP=12;function _P(e,t,n){let r=n;for(let s=1;s<TP;s++)r=r-e(r)/t(r);return r}function Tf(e,t){return e*Math.sqrt(1-t*t)}const MP=["duration","bounce"],RP=["stiffness","damping","mass"];function Ax(e,t){return t.some(n=>e[n]!==void 0)}function AP(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ax(e,RP)&&Ax(e,MP)){const n=PP(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function ow({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=AP({...r,velocity:-dr(r.velocity||0)}),m=f||0,y=c/(2*Math.sqrt(l*u)),v=i-s,j=dr(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?.01:2),t||(t=w?.005:.5);let g;if(y<1){const x=Tf(j,y);g=b=>{const k=Math.exp(-y*j*b);return i-k*((m+y*j*v)/x*Math.sin(x*b)+v*Math.cos(x*b))}}else if(y===1)g=x=>i-Math.exp(-j*x)*(v+(m+j*v)*x);else{const x=j*Math.sqrt(y*y-1);g=b=>{const k=Math.exp(-y*j*b),T=Math.min(x*b,300);return i-k*((m+y*j*v)*Math.sinh(T)+x*v*Math.cosh(T))/x}}return{calculatedDuration:h&&d||null,next:x=>{const b=g(x);if(h)a.done=x>=d;else{let k=m;x!==0&&(y<1?k=iw(g,x,b):k=0);const T=Math.abs(k)<=n,R=Math.abs(i-b)<=t;a.done=T&&R}return a.value=a.done?i:b,a}}}function Fx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,y=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let v=n*t;const j=f+v,w=a===void 0?j:a(j);w!==j&&(v=w-f);const g=_=>-v*Math.exp(-_/r),x=_=>w+g(_),b=_=>{const L=g(_),F=x(_);h.done=Math.abs(L)<=u,h.value=h.done?w:F};let k,T;const R=_=>{m(h.value)&&(k=_,T=ow({keyframes:[h.value,y(h.value)],velocity:iw(x,_,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return R(0),{calculatedDuration:null,next:_=>{let L=!1;return!T&&k===void 0&&(L=!0,b(_),R(_)),k!==void 0&&_>k?T.next(_-k):(!L&&b(_),h)}}}const FP=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Le.update(t,!0),stop:()=>vr(t),now:()=>bt.isProcessing?bt.timestamp:performance.now()}},Ox=2e4;function Lx(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ox;)t+=n,r=e.next(t);return t>=Ox?1/0:t}const OP={decay:Fx,inertia:Fx,tween:kc,keyframes:kc,spring:ow};function Cc({autoplay:e=!0,delay:t=0,driver:n=FP,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,y=!1,v,j;const w=()=>{j=new Promise(E=>{v=E})};w();let g;const x=OP[s]||kc;let b;x!==kc&&typeof r[0]!="number"&&(b=rw([0,100],r,{clamp:!1}),r=[0,100]);const k=x({...h,keyframes:r});let T;l==="mirror"&&(T=x({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let R="idle",_=null,L=null,F=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=Lx(k));const{calculatedDuration:q}=k;let Q=1/0,P=1/0;q!==null&&(Q=q+a,P=Q*(i+1)-a);let B=0;const de=E=>{if(L===null)return;m>0&&(L=Math.min(L,E)),m<0&&(L=Math.min(E-P/m,L)),_!==null?B=_:B=Math.round(E-L)*m;const A=B-t*(m>=0?1:-1),U=m>=0?A<0:A>P;B=Math.max(A,0),R==="finished"&&_===null&&(B=P);let O=B,Z=k;if(i){const ge=Math.min(B,P)/Q;let ve=Math.floor(ge),Me=ge%1;!Me&&ge>=1&&(Me=1),Me===1&&ve--,ve=Math.min(ve,i+1),!!(ve%2)&&(l==="reverse"?(Me=1-Me,a&&(Me-=a/Q)):l==="mirror"&&(Z=T)),O=fs(0,1,Me)*Q}const le=U?{done:!1,value:r[0]}:Z.next(O);b&&(le.value=b(le.value));let{done:me}=le;!U&&q!==null&&(me=m>=0?B>=P:B<=0);const H=_===null&&(R==="finished"||R==="running"&&me);return f&&f(le.value),H&&D(),le},I=()=>{g&&g.stop(),g=void 0},ie=()=>{R="idle",I(),v(),w(),L=F=null},D=()=>{R="finished",d&&d(),I(),v()},G=()=>{if(y)return;g||(g=n(de));const E=g.now();c&&c(),_!==null?L=E-_:(!L||R==="finished")&&(L=E),R==="finished"&&w(),F=L,_=null,R="running",g.start()};e&&G();const se={then(E,A){return j.then(E,A)},get time(){return dr(B)},set time(E){E=Zs(E),B=E,_!==null||!g||m===0?_=E:L=g.now()-E/m},get duration(){const E=k.calculatedDuration===null?Lx(k):k.calculatedDuration;return dr(E)},get speed(){return m},set speed(E){E===m||!g||(m=E,se.time=dr(B))},get state(){return R},play:G,pause:()=>{R="paused",_=B},stop:()=>{y=!0,R!=="idle"&&(R="idle",u&&u(),ie())},cancel:()=>{F!==null&&de(F),ie()},complete:()=>{R="finished"},sample:E=>(L=0,de(E))};return se}function LP(e){let t;return()=>(t===void 0&&(t=e()),t)}const DP=LP(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),VP=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),gl=10,IP=2e4,$P=(e,t)=>t.type==="spring"||e==="backgroundColor"||!D1(t.ease);function zP(e,t,{onUpdate:n,onComplete:r,...s}){if(!(DP()&&VP.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(x=>{l=x})};d();let{keyframes:f,duration:h=300,ease:m,times:y}=s;if($P(t,s)){const x=Cc({...s,repeat:0,delay:0});let b={done:!1,value:f[0]};const k=[];let T=0;for(;!b.done&&T<IP;)b=x.sample(T),k.push(b.value),T+=gl;y=void 0,f=k,h=T-gl,m="linear"}const v=XE(e.owner.current,t,f,{...s,duration:h,ease:m,times:y}),j=()=>{u=!1,v.cancel()},w=()=>{u=!0,Le.update(j),l(),d()};return v.onfinish=()=>{u||(e.set(YE(f,s)),r&&r(),w())},{then(x,b){return c.then(x,b)},attachTimeline(x){return v.timeline=x,v.onfinish=null,Xe},get time(){return dr(v.currentTime||0)},set time(x){v.currentTime=Zs(x)},get speed(){return v.playbackRate},set speed(x){v.playbackRate=x},get duration(){return dr(h)},play:()=>{a||(v.play(),vr(j))},pause:()=>v.pause(),stop:()=>{if(a=!0,v.playState==="idle")return;const{currentTime:x}=v;if(x){const b=Cc({...s,autoplay:!1});e.setWithVelocity(b.sample(x-gl).value,b.sample(x).value,gl)}w()},complete:()=>{u||v.finish()},cancel:w}}function UP({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Xe,pause:Xe,stop:Xe,then:i=>(i(),Promise.resolve()),cancel:Xe,complete:Xe});return t?Cc({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const BP={type:"spring",stiffness:500,damping:25,restSpeed:10},HP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),WP={type:"keyframes",duration:.8},KP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qP=(e,{keyframes:t})=>t.length>2?WP:fi.has(e)?e.startsWith("scale")?HP(t[1]):BP:KP,_f=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url(")),QP=new Set(["brightness","contrast","saturate","opacity"]);function GP(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ou)||[];if(!r)return e;const s=n.replace(r,"");let i=QP.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const XP=/([a-z-]*)\(.*?\)/g,Mf={...hs,getAnimatableNone:e=>{const t=e.match(XP);return t?t.map(GP).join(" "):e}},YP={...w1,color:Tt,backgroundColor:Tt,outlineColor:Tt,fill:Tt,stroke:Tt,borderColor:Tt,borderTopColor:Tt,borderRightColor:Tt,borderBottomColor:Tt,borderLeftColor:Tt,filter:Mf,WebkitFilter:Mf},dm=e=>YP[e];function aw(e,t){let n=dm(e);return n!==Mf&&(n=hs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const lw=e=>/^0[^.\s]+$/.test(e);function ZP(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||lw(e)}function JP(e,t,n,r){const s=_f(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const a=r.from!==void 0?r.from:e.get();let l;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),ZP(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(l=i[u]);if(s&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];i[d]=aw(t,l)}return i}function eT({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function fm(e,t){return e[t]||e.default||e}const tT={skipAnimations:!1},hm=(e,t,n,r={})=>s=>{const i=fm(r,e)||{},a=i.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Zs(a);const c=JP(t,e,n,i),u=c[0],d=c[c.length-1],f=_f(e,u),h=_f(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-l,onUpdate:y=>{t.set(y),i.onUpdate&&i.onUpdate(y)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(eT(i)||(m={...m,...qP(e,m)}),m.duration&&(m.duration=Zs(m.duration)),m.repeatDelay&&(m.repeatDelay=Zs(m.repeatDelay)),!f||!h||GE.current||i.type===!1||tT.skipAnimations)return UP(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const y=zP(t,e,m);if(y)return y}return Cc(m)};function Ec(e){return!!(qt(e)&&e.add)}const cw=e=>/^\-?\d*\.?\d+$/.test(e);function mm(e,t){e.indexOf(t)===-1&&e.push(t)}function pm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xm{constructor(){this.subscriptions=[]}add(t){return mm(this.subscriptions,t),()=>pm(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nT=e=>!isNaN(parseFloat(e));class rT{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:a}=bt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,Le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=nT(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xm);const r=this.events[t].add(n);return t==="change"?()=>{r(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ao(e,t){return new rT(e,t)}const uw=e=>t=>t.test(e),sT={test:e=>e==="auto",parse:e=>e},dw=[hi,pe,Hn,Ar,dE,uE,sT],To=e=>dw.find(uw(e)),iT=[...dw,Tt,hs],oT=e=>iT.find(uw(e));function aT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ao(n))}function lT(e,t){const n=lu(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const a in i){const l=kE(i[a]);aT(e,a,l)}}function cT(e,t,n){var r,s;const i=Object.keys(t).filter(l=>!e.hasValue(l)),a=i.length;if(a)for(let l=0;l<a;l++){const c=i[l],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(cw(d)||lw(d))?d=parseFloat(d):!oT(d)&&hs.test(u)&&(d=aw(c,u)),e.addValue(c,ao(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function uT(e,t){return t?(t[e]||t.default||t).from:void 0}function dT(e,t,n){const r={};for(const s in e){const i=uT(s,t);if(i!==void 0)r[s]=i;else{const a=n.getValue(s);a&&(r[s]=a.get())}}return r}function fT({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function hT(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function fw(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in l){const h=e.getValue(f),m=l[f];if(!h||m===void 0||d&&fT(d,f))continue;const y={delay:n,elapsed:0,...fm(i||{},f)};if(window.HandoffAppearAnimations){const w=e.getProps()[h1];if(w){const g=window.HandoffAppearAnimations(w,f,h,Le);g!==null&&(y.elapsed=g,y.isHandoff=!0)}}let v=!y.isHandoff&&!hT(h,m);if(y.type==="spring"&&(h.getVelocity()||y.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(hm(f,h,m,e.shouldReduceMotion&&fi.has(f)?{type:!1}:y));const j=h.animation;Ec(c)&&(c.add(f),j.then(()=>c.remove(f))),u.push(j)}return a&&Promise.all(u).then(()=>{a&&lT(e,a)}),u}function Rf(e,t,n={}){const r=lu(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(fw(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return mT(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(n.delay)])}function mT(e,t,n=0,r=0,s=1,i){const a=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(pT).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Rf(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function pT(e,t){return e.sortNodePosition(t)}function xT(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Rf(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Rf(e,t,n);else{const s=typeof t=="function"?lu(e,t,n.custom):t;r=Promise.all(fw(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const gT=[...Yh].reverse(),yT=Yh.length;function vT(e){return t=>Promise.all(t.map(({animation:n,options:r})=>xT(e,n,r)))}function wT(e){let t=vT(e);const n=jT();let r=!0;const s=(c,u)=>{const d=lu(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function i(c){t=c(e)}function a(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let y={},v=1/0;for(let w=0;w<yT;w++){const g=gT[w],x=n[g],b=d[g]!==void 0?d[g]:f[g],k=va(b),T=g===u?x.isActive:null;T===!1&&(v=w);let R=b===f[g]&&b!==d[g]&&k;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),x.protectedKeys={...y},!x.isActive&&T===null||!b&&!x.prevProp||su(b)||typeof b=="boolean")continue;let L=bT(x.prevProp,b)||g===u&&x.isActive&&!R&&k||w>v&&k,F=!1;const q=Array.isArray(b)?b:[b];let Q=q.reduce(s,{});T===!1&&(Q={});const{prevResolvedValues:P={}}=x,B={...P,...Q},de=I=>{L=!0,m.has(I)&&(F=!0,m.delete(I)),x.needsAnimating[I]=!0};for(const I in B){const ie=Q[I],D=P[I];if(y.hasOwnProperty(I))continue;let G=!1;Sc(ie)&&Sc(D)?G=!O1(ie,D):G=ie!==D,G?ie!==void 0?de(I):m.add(I):ie!==void 0&&m.has(I)?de(I):x.protectedKeys[I]=!0}x.prevProp=b,x.prevResolvedValues=Q,x.isActive&&(y={...y,...Q}),r&&e.blockInitialAnimation&&(L=!1),L&&(!R||F)&&h.push(...q.map(I=>({animation:I,options:{type:g,...c}})))}if(m.size){const w={};m.forEach(g=>{const x=e.getBaseTarget(g);x!==void 0&&(w[g]=x)}),h.push({animation:w})}let j=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(h):Promise.resolve()}function l(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const h=a(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n}}function bT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O1(t,e):!1}function Es(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jT(){return{animate:Es(!0),whileInView:Es(),whileHover:Es(),whileTap:Es(),whileDrag:Es(),whileFocus:Es(),exit:Es()}}class ST extends ys{constructor(t){super(t),t.animationState||(t.animationState=wT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),su(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let NT=0;class kT extends ys{constructor(){super(...arguments),this.id=NT++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const CT={animation:{Feature:ST},exit:{Feature:kT}},Dx=(e,t)=>Math.abs(e-t);function ET(e,t){const n=Dx(e.x,t.x),r=Dx(e.y,t.y);return Math.sqrt(n**2+r**2)}class hw{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Yu(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=ET(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:y}=f,{timestamp:v}=bt;this.history.push({...y,timestamp:v});const{onStart:j,onMove:w}=this.handlers;h||(j&&j(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Xu(h,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Yu(f.type==="pointercancel"?this.lastMoveEventInfo:Xu(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,j),y&&y(f,j)},!_1(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const a=au(t),l=Xu(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=bt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Yu(l,this.history)),this.removeListeners=cs(ur(this.contextWindow,"pointermove",this.handlePointerMove),ur(this.contextWindow,"pointerup",this.handlePointerUp),ur(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function Xu(e,t){return t?{point:t(e.point)}:e}function Vx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yu({point:e},t){return{point:e,delta:Vx(e,mw(t)),offset:Vx(e,PT(t)),velocity:TT(t,.1)}}function PT(e){return e[0]}function mw(e){return e[e.length-1]}function TT(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=mw(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Zs(t)));)n--;if(!r)return{x:0,y:0};const i=dr(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function rn(e){return e.max-e.min}function Af(e,t=0,n=.01){return Math.abs(e-t)<=n}function Ix(e,t,n,r=.5){e.origin=r,e.originPoint=Ue(t.min,t.max,e.origin),e.scale=rn(n)/rn(t),(Af(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Ue(n.min,n.max,e.origin)-e.originPoint,(Af(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xo(e,t,n,r){Ix(e.x,t.x,n.x,r?r.originX:void 0),Ix(e.y,t.y,n.y,r?r.originY:void 0)}function $x(e,t,n){e.min=n.min+t.min,e.max=e.min+rn(t)}function _T(e,t,n){$x(e.x,t.x,n.x),$x(e.y,t.y,n.y)}function zx(e,t,n){e.min=t.min-n.min,e.max=e.min+rn(t)}function Yo(e,t,n){zx(e.x,t.x,n.x),zx(e.y,t.y,n.y)}function MT(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ue(n,e,r.max):Math.min(e,n)),e}function Ux(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function RT(e,{top:t,left:n,bottom:r,right:s}){return{x:Ux(e.x,n,s),y:Ux(e.y,t,r)}}function Bx(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function AT(e,t){return{x:Bx(e.x,t.x),y:Bx(e.y,t.y)}}function FT(e,t){let n=.5;const r=rn(e),s=rn(t);return s>r?n=ba(t.min,t.max-r,e.min):r>s&&(n=ba(e.min,e.max-s,t.min)),fs(0,1,n)}function OT(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Ff=.35;function LT(e=Ff){return e===!1?e=0:e===!0&&(e=Ff),{x:Hx(e,"left","right"),y:Hx(e,"top","bottom")}}function Hx(e,t,n){return{min:Wx(e,t),max:Wx(e,n)}}function Wx(e,t){return typeof e=="number"?e:e[t]||0}const Kx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mi=()=>({x:Kx(),y:Kx()}),qx=()=>({min:0,max:0}),et=()=>({x:qx(),y:qx()});function cn(e){return[e("x"),e("y")]}function pw({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function DT({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VT(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zu(e){return e===void 0||e===1}function Of({scale:e,scaleX:t,scaleY:n}){return!Zu(e)||!Zu(t)||!Zu(n)}function _s(e){return Of(e)||xw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function xw(e){return Qx(e.x)||Qx(e.y)}function Qx(e){return e&&e!=="0%"}function Pc(e,t,n){const r=e-n,s=t*r;return n+s}function Gx(e,t,n,r,s){return s!==void 0&&(e=Pc(e,s,r)),Pc(e,n,r)+t}function Lf(e,t=0,n=1,r,s){e.min=Gx(e.min,t,n,r,s),e.max=Gx(e.max,t,n,r,s)}function gw(e,{x:t,y:n}){Lf(e.x,t.translate,t.scale,t.originPoint),Lf(e.y,n.translate,n.scale,n.originPoint)}function IT(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=n[l],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ri(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,gw(e,a)),r&&_s(i.latestValues)&&Ri(e,i.latestValues))}t.x=Xx(t.x),t.y=Xx(t.y)}function Xx(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Lr(e,t){e.min=e.min+t,e.max=e.max+t}function Yx(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,a=Ue(e.min,e.max,i);Lf(e,t[n],t[r],a,t.scale)}const $T=["x","scaleX","originX"],zT=["y","scaleY","originY"];function Ri(e,t){Yx(e.x,t,$T),Yx(e.y,t,zT)}function yw(e,t){return pw(VT(e.getBoundingClientRect(),t))}function UT(e,t,n){const r=yw(e,n),{scroll:s}=t;return s&&(Lr(r.x,s.offset.x),Lr(r.y,s.offset.y)),r}const vw=({current:e})=>e?e.ownerDocument.defaultView:null,BT=new WeakMap;class HT{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(au(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:y}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=R1(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(j=>{let w=this.getAxisMotionValue(j).get()||0;if(Hn.test(w)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[j];x&&(w=rn(x)*(parseFloat(w)/100))}}this.originPoint[j]=w}),y&&Le.update(()=>y(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:y,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:j}=f;if(m&&this.currentDirection===null){this.currentDirection=WT(j),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,j),this.updateAxis("y",f.point,j),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>cn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new hw(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:vw(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Le.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!yl(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=MT(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Ti(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=RT(s.layoutBox,n):this.constraints=!1,this.elastic=LT(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&cn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=OT(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ti(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=UT(r,s.root,this.visualElement.getTransformPagePoint());let a=AT(s.layout.layoutBox,i);if(n){const l=n(DT(a));this.hasMutatedConstraints=!!l,l&&(a=pw(l))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=cn(d=>{if(!yl(d,n,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,y={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(hm(t,r,0,n))}stopAnimation(){cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){cn(n=>{const{drag:r}=this.getProps();if(!yl(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[n];i.set(t[n]-Ue(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ti(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};cn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();s[a]=FT({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),cn(a=>{if(!yl(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ue(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;BT.set(this.visualElement,this);const t=this.visualElement.current,n=ur(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ti(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const a=ar(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(cn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Ff,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function yl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WT(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class KT extends ys{constructor(t){super(t),this.removeGroupControls=Xe,this.removeListeners=Xe,this.controls=new HT(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xe}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zx=e=>(t,n)=>{e&&Le.update(()=>e(t,n))};class qT extends ys{constructor(){super(...arguments),this.removePointerDownListener=Xe}onPointerDown(t){this.session=new hw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Zx(t),onStart:Zx(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Le.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=ur(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function QT(){const e=p.useContext(nu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=p.useId();return p.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const $l={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Jx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const _o={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pe.test(e))e=parseFloat(e);else return e;const n=Jx(e,t.target.x),r=Jx(e,t.target.y);return`${n}% ${r}%`}},GT={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=hs.parse(e);if(s.length>5)return r;const i=hs.createTransformer(e),a=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Ue(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class XT extends Pa.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;rE(YT),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$l.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,a=r.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||Le.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ww(e){const[t,n]=QT(),r=p.useContext(Jh);return Pa.createElement(XT,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(p1),isPresent:t,safeToRemove:n})}const YT={borderRadius:{..._o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_o,borderTopRightRadius:_o,borderBottomLeftRadius:_o,borderBottomRightRadius:_o,boxShadow:GT},bw=["TopLeft","TopRight","BottomLeft","BottomRight"],ZT=bw.length,eg=e=>typeof e=="string"?parseFloat(e):e,tg=e=>typeof e=="number"||pe.test(e);function JT(e,t,n,r,s,i){s?(e.opacity=Ue(0,n.opacity!==void 0?n.opacity:1,e4(r)),e.opacityExit=Ue(t.opacity!==void 0?t.opacity:1,0,t4(r))):i&&(e.opacity=Ue(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<ZT;a++){const l=`border${bw[a]}Radius`;let c=ng(t,l),u=ng(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||tg(c)===tg(u)?(e[l]=Math.max(Ue(eg(c),eg(u),r),0),(Hn.test(u)||Hn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ue(t.rotate||0,n.rotate||0,r))}function ng(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const e4=jw(0,.5,H1),t4=jw(.5,.95,Xe);function jw(e,t,n){return r=>r<e?0:r>t?1:n(ba(e,t,r))}function rg(e,t){e.min=t.min,e.max=t.max}function ln(e,t){rg(e.x,t.x),rg(e.y,t.y)}function sg(e,t,n,r,s){return e-=t,e=Pc(e,1/n,r),s!==void 0&&(e=Pc(e,1/s,r)),e}function n4(e,t=0,n=1,r=.5,s,i=e,a=e){if(Hn.test(t)&&(t=parseFloat(t),t=Ue(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ue(i.min,i.max,r);e===i&&(l-=t),e.min=sg(e.min,t,n,l,s),e.max=sg(e.max,t,n,l,s)}function ig(e,t,[n,r,s],i,a){n4(e,t[n],t[r],t[s],t.scale,i,a)}const r4=["x","scaleX","originX"],s4=["y","scaleY","originY"];function og(e,t,n,r){ig(e.x,t,r4,n?n.x:void 0,r?r.x:void 0),ig(e.y,t,s4,n?n.y:void 0,r?r.y:void 0)}function ag(e){return e.translate===0&&e.scale===1}function Sw(e){return ag(e.x)&&ag(e.y)}function i4(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Nw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function lg(e){return rn(e.x)/rn(e.y)}class o4{constructor(){this.members=[]}add(t){mm(this.members,t),t.scheduleRender()}remove(t){if(pm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cg(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const a4=(e,t)=>e.depth-t.depth;class l4{constructor(){this.children=[],this.isDirty=!1}add(t){mm(this.children,t),this.isDirty=!0}remove(t){pm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(a4),this.isDirty=!1,this.children.forEach(t)}}function c4(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(vr(r),e(i-t))};return Le.read(r,!0),()=>vr(r)}function u4(e){window.MotionDebug&&window.MotionDebug.record(e)}function d4(e){return e instanceof SVGElement&&e.tagName!=="svg"}function f4(e,t,n){const r=qt(e)?e:ao(e);return r.start(hm("",r,t,n)),r.animation}const ug=["","X","Y","Z"],h4={visibility:"hidden"},dg=1e3;let m4=0;const Ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function kw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=m4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ms.totalNodes=Ms.resolvedTargetDeltas=Ms.recalculatedProjection=0,this.nodes.forEach(g4),this.nodes.forEach(j4),this.nodes.forEach(S4),this.nodes.forEach(y4),u4(Ms)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new l4)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new xm),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=d4(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=c4(h,250),$l.hasAnimatedSinceResize&&($l.hasAnimatedSinceResize=!1,this.nodes.forEach(hg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||P4,{onLayoutAnimationStart:j,onLayoutAnimationComplete:w}=d.getProps(),g=!this.targetLayout||!Nw(this.targetLayout,y)||m,x=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const b={...fm(v,"layout"),onPlay:j,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||hg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N4),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fg);return}this.isUpdating||this.nodes.forEach(w4),this.isUpdating=!1,this.nodes.forEach(b4),this.nodes.forEach(p4),this.nodes.forEach(x4),this.clearAllSnapshots();const l=performance.now();bt.delta=fs(0,1e3/60,l-bt.timestamp),bt.timestamp=l,bt.isProcessing=!0,Uu.update.process(bt),Uu.preRender.process(bt),Uu.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(v4),this.sharedNodes.forEach(k4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Sw(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||_s(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),T4(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return et();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Lr(l.x,c.offset.x),Lr(l.y,c.offset.y)),l}removeElementScroll(a){const l=et();ln(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){ln(l,a);const{scroll:h}=this.root;h&&(Lr(l.x,-h.offset.x),Lr(l.y,-h.offset.y))}Lr(l.x,d.offset.x),Lr(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=et();ln(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ri(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_s(d.latestValues)&&Ri(c,d.latestValues)}return _s(this.latestValues)&&Ri(c,this.latestValues),c}removeTransform(a){const l=et();ln(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!_s(u.latestValues))continue;Of(u.latestValues)&&u.updateSnapshot();const d=et(),f=u.measurePageBox();ln(d,f),og(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _s(this.latestValues)&&og(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Yo(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_T(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),gw(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Yo(this.relativeTargetOrigin,this.target,m.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Of(this.parent.latestValues)||xw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ln(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;IT(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:y}=l;if(!y){this.projectionTransform&&(this.projectionDelta=Mi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Mi(),this.projectionDeltaWithTransform=Mi());const v=this.projectionTransform;Xo(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=cg(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Mi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=et(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,v=m!==y,j=this.getStack(),w=!j||j.members.length<=1,g=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(E4));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const k=b/1e3;mg(f.x,a.x,k),mg(f.y,a.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yo(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C4(this.relativeTarget,this.relativeTargetOrigin,h,k),x&&i4(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=et()),ln(x,this.relativeTarget)),v&&(this.animationValues=d,JT(d,u,this.latestValues,k,g,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{$l.hasAnimatedSinceResize=!0,this.currentAnimation=f4(0,dg,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Cw(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||et();const f=rn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=rn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}ln(l,c),Ri(l,d),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new o4),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<ug.length;d++){const f="rotate"+ug[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return h4;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Il(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Il(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!_s(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=cg(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in bc){if(h[v]===void 0)continue;const{correct:j,applyTo:w}=bc[v],g=u.transform==="none"?h[v]:j(h[v],f);if(w){const x=w.length;for(let b=0;b<x;b++)u[w[b]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=f===this?Il(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(fg),this.root.sharedNodes.clear()}}}function p4(e){e.updateLayout()}function x4(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,a=n.source!==e.layout.source;i==="size"?cn(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=rn(h);h.min=r[f].min,h.max=h.min+m}):Cw(i,n.layoutBox,r)&&cn(f=>{const h=a?n.measuredBox[f]:n.layoutBox[f],m=rn(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Mi();Xo(l,r,n.layoutBox);const c=Mi();a?Xo(c,e.applyTransform(s,!0),n.measuredBox):Xo(c,r,n.layoutBox);const u=!Sw(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const y=et();Yo(y,n.layoutBox,h.layoutBox);const v=et();Yo(v,r,m.layoutBox),Nw(y,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function g4(e){Ms.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function y4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function v4(e){e.clearSnapshot()}function fg(e){e.clearMeasurements()}function w4(e){e.isLayoutDirty=!1}function b4(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function j4(e){e.resolveTargetDelta()}function S4(e){e.calcProjection()}function N4(e){e.resetRotation()}function k4(e){e.removeLeadSnapshot()}function mg(e,t,n){e.translate=Ue(t.translate,0,n),e.scale=Ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function pg(e,t,n,r){e.min=Ue(t.min,n.min,r),e.max=Ue(t.max,n.max,r)}function C4(e,t,n,r){pg(e.x,t.x,n.x,r),pg(e.y,t.y,n.y,r)}function E4(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P4={duration:.45,ease:[.4,0,.1,1]},xg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),gg=xg("applewebkit/")&&!xg("chrome/")?Math.round:Xe;function yg(e){e.min=gg(e.min),e.max=gg(e.max)}function T4(e){yg(e.x),yg(e.y)}function Cw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Af(lg(t),lg(n),.2)}const _4=kw({attachResizeListener:(e,t)=>ar(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ju={current:void 0},Ew=kw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ju.current){const e=new _4({});e.mount(window),e.setOptions({layoutScroll:!0}),Ju.current=e}return Ju.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),M4={pan:{Feature:qT},drag:{Feature:KT,ProjectionNode:Ew,MeasureLayout:ww}},R4=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function A4(e){const t=R4.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Df(e,t,n=1){const[r,s]=A4(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const a=i.trim();return cw(a)?parseFloat(a):a}else return Cf(s)?Df(s,t,n+1):s}function F4(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!Cf(i))return;const a=Df(i,r);a&&s.set(a)});for(const s in t){const i=t[s];if(!Cf(i))continue;const a=Df(i,r);a&&(t[s]=a,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const O4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Pw=e=>O4.has(e),L4=e=>Object.keys(e).some(Pw),vg=e=>e===hi||e===pe,wg=(e,t)=>parseFloat(e.split(", ")[t]),bg=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return wg(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?wg(i[1],e):0}},D4=new Set(["x","y","z"]),V4=$a.filter(e=>!D4.has(e));function I4(e){const t=[];return V4.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const lo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:bg(4,13),y:bg(5,14)};lo.translateX=lo.x;lo.translateY=lo.y;const $4=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,l={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{l[u]=lo[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(l[u]),e[u]=lo[u](c,i)}),e},z4=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(Pw);let i=[],a=!1;const l=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=To(d);const h=t[c];let m;if(Sc(h)){const y=h.length,v=h[0]===null?1:0;d=h[v],f=To(d);for(let j=v;j<y&&h[j]!==null;j++)m?am(To(h[j])===m):m=To(h[j])}else m=To(h);if(f!==m)if(vg(f)&&vg(m)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===pe&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(a||(i=I4(e),a=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=$4(t,e,l);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),ru&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function U4(e,t,n,r){return L4(t)?z4(e,t,n,r):{target:t,transitionEnd:r}}const B4=(e,t,n,r)=>{const s=F4(e,t,r);return t=s.target,r=s.transitionEnd,U4(e,t,n,r)},Vf={current:null},Tw={current:!1};function H4(){if(Tw.current=!0,!!ru)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vf.current=e.matches;e.addListener(t),t()}else Vf.current=!1}function W4(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(qt(i))e.addValue(s,i),Ec(r)&&r.add(s);else if(qt(a))e.addValue(s,ao(i,{owner:e})),Ec(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const l=e.getValue(s);!l.hasAnimated&&l.set(i)}else{const l=e.getStaticValue(s);e.addValue(s,ao(l!==void 0?l:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const jg=new WeakMap,_w=Object.keys(wa),K4=_w.length,Sg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],q4=Zh.length;class Q4{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Le.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=iu(n),this.isVariantNode=m1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];l[f]!==void 0&&qt(h)&&(h.set(l[f],!1),Ec(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,jg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Tw.current||H4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jg.delete(this.current),this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=fi.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let a,l;for(let c=0;c<K4;c++){const u=_w[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=wa[u];h&&(a=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Ti(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Sg.length;r++){const s=Sg[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=W4(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<q4;r++){const s=Zh[r],i=this.props[s];(va(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ao(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=om(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!qt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xm),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Mw extends Q4{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let a=dT(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),a&&(a=s(a))),i){cT(this,r,a);const l=B4(this,r,a,n);n=l.transitionEnd,r=l.target}return{transition:t,transitionEnd:n,...r}}}function G4(e){return window.getComputedStyle(e)}class X4 extends Mw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(fi.has(n)){const r=dm(n);return r&&r.default||0}else{const r=G4(t),s=(y1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yw(t,n)}build(t,n,r,s){tm(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return im(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){N1(t,n,r,s)}}class Y4 extends Mw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fi.has(n)){const r=dm(n);return r&&r.default||0}return n=k1.has(n)?n:Xh(n),t.getAttribute(n)}measureInstanceViewportBox(){return et()}scrapeMotionValuesFromProps(t,n){return E1(t,n)}build(t,n,r,s){rm(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){C1(t,n,r,s)}mount(t){this.isSVGTag=sm(t.tagName),super.mount(t)}}const Z4=(e,t)=>em(e)?new Y4(t,{enableHardwareAcceleration:!1}):new X4(t,{enableHardwareAcceleration:!0}),J4={layout:{ProjectionNode:Ew,MeasureLayout:ww}},e_={...CT,...KE,...M4,...J4},Qe=tE((e,t)=>AE(e,t,e_,Z4));function Rw(){const e=p.useRef(!1);return Gh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function t_(){const e=Rw(),[t,n]=p.useState(0),r=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>Le.postRender(r),[r]),t]}class n_ extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r_({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(t||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.createElement(n_,{isPresent:t,childRef:r,sizeRef:s},p.cloneElement(e,{ref:r}))}const ed=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a})=>{const l=P1(s_),c=p.useId(),u=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;r&&r()},register:d=>(l.set(d,!1),()=>l.delete(d))}),i?void 0:[n]);return p.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),a==="popLayout"&&(e=p.createElement(r_,{isPresent:n},e)),p.createElement(nu.Provider,{value:u},e)};function s_(){return new Map}function i_(e){return p.useEffect(()=>()=>e(),[])}const Rs=e=>e.key||"";function o_(e,t){e.forEach(n=>{const r=Rs(n);t.set(r,n)})}function a_(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const fr=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const l=p.useContext(Jh).forceRender||t_()[0],c=Rw(),u=a_(e);let d=u;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,y=p.useRef(!0);if(Gh(()=>{y.current=!1,o_(u,m),h.current=d}),i_(()=>{y.current=!0,m.clear(),f.clear()}),y.current)return p.createElement(p.Fragment,null,d.map(g=>p.createElement(ed,{key:Rs(g),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:a},g)));d=[...d];const v=h.current.map(Rs),j=u.map(Rs),w=v.length;for(let g=0;g<w;g++){const x=v[g];j.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((g,x)=>{if(j.indexOf(x)!==-1)return;const b=m.get(x);if(!b)return;const k=v.indexOf(x);let T=g;if(!T){const R=()=>{f.delete(x);const _=Array.from(m.keys()).filter(L=>!j.includes(L));if(_.forEach(L=>m.delete(L)),h.current=u.filter(L=>{const F=Rs(L);return F===x||_.includes(F)}),!f.size){if(c.current===!1)return;l(),r&&r()}};T=p.createElement(ed,{key:Rs(b),isPresent:!1,onExitComplete:R,custom:t,presenceAffectsLayout:i,mode:a},b),f.set(x,T)}d.splice(k,0,T)}),d=d.map(g=>{const x=g.key;return f.has(x)?g:p.createElement(ed,{key:Rs(g),isPresent:!0,presenceAffectsLayout:i,mode:a},g)}),p.createElement(p.Fragment,null,f.size?d:d.map(g=>p.cloneElement(g)))};function l_(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function c_({project:e,onDelete:t}){const n=Kc(),[r,s]=p.useState(!1);return o.jsxs(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"console-card p-4 hover:border-accent-red/30 transition-all cursor-pointer group",onClick:()=>n(`/project/${e.name}`),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-red/10 flex items-center justify-center border border-accent-red/20",children:o.jsx(io,{className:"w-5 h-5 text-accent-red"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-text-primary group-hover:text-accent-red transition-colors",children:e.name}),o.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:l_(e.modified_at)})]})]}),o.jsx(fr,{children:r&&o.jsx(Qe.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},onClick:i=>{i.stopPropagation(),t()},className:"p-2 rounded-md hover:bg-accent-red/20 text-text-muted hover:text-accent-red transition-colors",children:o.jsx(oi,{className:"w-4 h-4"})})})]}),o.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(io,{className:"w-3.5 h-3.5"}),o.jsxs("span",{children:[e.video_count," video",e.video_count!==1?"s":""]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(wf,{className:"w-3.5 h-3.5"}),o.jsxs("span",{children:[e.segments_count," segment",e.segments_count!==1?"s":""]})]})]}),o.jsxs("div",{className:"mt-3 flex items-center text-xs text-accent-red opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("span",{children:"Open project"}),o.jsx(qN,{className:"w-4 h-4 ml-1"})]})]})}function u_({isOpen:e,onClose:t}){const[n,r]=p.useState(""),[s,i]=p.useState([]),[a,l]=p.useState(!1),c=br(),u=Kc(),d=kt({mutationFn:()=>$t.create(n,s.map(m=>m.path)),onSuccess:()=>{re.success("Project created successfully!"),c.invalidateQueries({queryKey:["projects"]}),u(`/project/${n}`),t()},onError:m=>{re.error(`Failed to create project: ${m.message}`)}}),f=async m=>{const y=m.target.files;if(y){l(!0);try{for(const v of Array.from(y)){const j=await Qh.upload(v);i(w=>[...w,{path:j.data.path,name:v.name}])}re.success(`${y.length} video(s) uploaded`)}catch{re.error("Failed to upload video")}finally{l(!1)}}},h=m=>{i(y=>y.filter((v,j)=>j!==m))};return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative bg-terminal-surface border border-terminal-border rounded-lg w-full max-w-lg mx-4 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bf,{className:"w-5 h-5 text-accent-red"}),o.jsx("h2",{className:"font-medium",children:"Create New Project"})]}),o.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-terminal-elevated text-text-muted hover:text-text-primary",children:o.jsx(vc,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Project Name"}),o.jsx("input",{type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"My Awesome Project",className:"input-base w-full",autoFocus:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Videos"}),o.jsxs("div",{className:J("border-2 border-dashed rounded-lg p-6 text-center transition-colors","border-terminal-border hover:border-accent-red/50"),children:[o.jsx("input",{type:"file",accept:"video/*",multiple:!0,onChange:f,className:"hidden",id:"video-upload",disabled:a}),o.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[a?o.jsx($e,{className:"w-8 h-8 text-accent-red animate-spin"}):o.jsx(Vv,{className:"w-8 h-8 text-text-muted"}),o.jsx("span",{className:"text-sm text-text-muted",children:a?"Uploading...":"Click to upload videos"}),o.jsx("span",{className:"text-xs text-text-disabled",children:"MP4, MOV, AVI, MKV, WEBM"})]})]}),s.length>0&&o.jsx("div",{className:"mt-3 space-y-2",children:s.map((m,y)=>o.jsxs("div",{className:"flex items-center justify-between bg-terminal-elevated rounded-md px-3 py-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(io,{className:"w-4 h-4 text-accent-red"}),o.jsx("span",{className:"text-sm truncate max-w-[200px]",children:m.name})]}),o.jsx("button",{onClick:()=>h(y),className:"p-1 rounded hover:bg-terminal-border text-text-muted hover:text-accent-red",children:o.jsx(vc,{className:"w-4 h-4"})})]},y))})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 border-t border-terminal-border bg-terminal-bg/50",children:[o.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),o.jsxs("button",{onClick:()=>d.mutate(),disabled:!n||s.length===0||d.isPending,className:"btn-primary flex items-center gap-2",children:[d.isPending&&o.jsx($e,{className:"w-4 h-4 animate-spin"}),"Create Project"]})]})]})]}):null}function d_(){const[e,t]=p.useState(!1),[n,r]=p.useState(null),s=br(),{data:i,isLoading:a}=St({queryKey:["projects"],queryFn:()=>$t.list()}),l=kt({mutationFn:u=>$t.delete(u),onSuccess:()=>{re.success("Project deleted"),s.invalidateQueries({queryKey:["projects"]}),r(null)},onError:()=>{re.error("Failed to delete project")}}),c=(i==null?void 0:i.data)||[];return o.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Projects"}),o.jsx("p",{className:"text-text-muted text-sm mt-1",children:"Manage your voice-over dubbing projects"})]}),o.jsxs("button",{onClick:()=>t(!0),className:"btn-primary flex items-center gap-2",children:[o.jsx(bf,{className:"w-4 h-4"}),"New Project"]})]}),a?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx($e,{className:"w-8 h-8 text-accent-red animate-spin"})}):c.length===0?o.jsxs("div",{className:"console-card p-12 text-center",children:[o.jsx(io,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No projects yet"}),o.jsx("p",{className:"text-text-muted text-sm mb-6",children:"Create your first project to start adding voice-overs to your videos"}),o.jsxs("button",{onClick:()=>t(!0),className:"btn-primary inline-flex items-center gap-2",children:[o.jsx(bf,{className:"w-4 h-4"}),"Create Your First Project"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.jsx(fr,{children:c.map(u=>o.jsx(c_,{project:u,onDelete:()=>r(u.name)},u.name))})}),o.jsx(u_,{isOpen:e,onClose:()=>t(!1)}),o.jsx(fr,{children:n&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>r(null)}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-terminal-surface border border-terminal-border rounded-lg p-6 max-w-sm mx-4",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Delete Project?"}),o.jsxs("p",{className:"text-sm text-text-muted mb-4",children:['Are you sure you want to delete "',n,'"? This action cannot be undone.']}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>r(null),className:"btn-secondary",children:"Cancel"}),o.jsx("button",{onClick:()=>l.mutate(n),disabled:l.isPending,className:"btn-primary bg-red-600 hover:bg-red-500",children:l.isPending?"Deleting...":"Delete"})]})]})]})})]})}const f_={},Ng=e=>{let t;const n=new Set,r=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const m=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(y=>y(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(f_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},h_=e=>e?Ng(e):Ng;var Aw={exports:{}},Fw={},Ow={exports:{}},Lw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var co=p;function m_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p_=typeof Object.is=="function"?Object.is:m_,x_=co.useState,g_=co.useEffect,y_=co.useLayoutEffect,v_=co.useDebugValue;function w_(e,t){var n=t(),r=x_({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return y_(function(){s.value=n,s.getSnapshot=t,td(s)&&i({inst:s})},[e,n,t]),g_(function(){return td(s)&&i({inst:s}),e(function(){td(s)&&i({inst:s})})},[e]),v_(n),n}function td(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!p_(e,n)}catch{return!0}}function b_(e,t){return t()}var j_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?b_:w_;Lw.useSyncExternalStore=co.useSyncExternalStore!==void 0?co.useSyncExternalStore:j_;Ow.exports=Lw;var S_=Ow.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=p,N_=S_;function k_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var C_=typeof Object.is=="function"?Object.is:k_,E_=N_.useSyncExternalStore,P_=cu.useRef,T_=cu.useEffect,__=cu.useMemo,M_=cu.useDebugValue;Fw.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=P_(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=__(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&a.hasValue){var y=a.value;if(s(y,m))return f=y}return f=m}if(y=f,C_(d,m))return y;var v=r(m);return s!==void 0&&s(y,v)?(d=m,y):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var l=E_(e,i[0],i[1]);return T_(function(){a.hasValue=!0,a.value=l},[l]),M_(l),l};Aw.exports=Fw;var R_=Aw.exports;const A_=Ug(R_),Dw={},{useDebugValue:F_}=Pa,{useSyncExternalStoreWithSelector:O_}=A_;let kg=!1;const L_=e=>e;function D_(e,t=L_,n){(Dw?"production":void 0)!=="production"&&n&&!kg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),kg=!0);const r=O_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return F_(r),r}const Cg=e=>{(Dw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?h_(e):e,n=(r,s)=>D_(t,r,s);return Object.assign(n,t),n},V_=e=>e?Cg(e):Cg,vs=V_(e=>({currentProject:null,setCurrentProject:t=>e({currentProject:t}),activeVideoId:null,setActiveVideoId:t=>e({activeVideoId:t}),segments:[],setSegments:t=>e({segments:t}),addSegment:t=>e(n=>({segments:[...n.segments,t]})),updateSegment:(t,n)=>e(r=>typeof t=="object"&&t!==null?{segments:r.segments.map(s=>s.id===t.id?t:s)}:{segments:r.segments.map(s=>s.id===t?{...s,...n}:s)}),removeSegment:t=>e(n=>({segments:n.segments.filter(r=>r.id!==t)})),currentTime:0,setCurrentTime:t=>e({currentTime:t}),isPlaying:!1,setIsPlaying:t=>e({isPlaying:t}),selectedSegmentId:null,setSelectedSegmentId:t=>e({selectedSegmentId:t}),exportProgress:null,setExportProgress:t=>e({exportProgress:t}),isExporting:!1,setIsExporting:t=>e({isExporting:t}),isGeneratingScript:!1,setIsGeneratingScript:t=>e({isGeneratingScript:t}),sidebarOpen:!0,setSidebarOpen:t=>e({sidebarOpen:t}),aiPanelOpen:!1,setAiPanelOpen:t=>e({aiPanelOpen:t})}));function Eg(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function I_({videoUrl:e,duration:t,videoOffset:n=0}){const r=p.useRef(null),s=p.useRef(null),i=p.useRef(null),a=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(1),[f,h]=p.useState(!1),[m,y]=p.useState(null),{currentTime:v,setCurrentTime:j,isPlaying:w,setIsPlaying:g,segments:x,selectedSegmentId:b}=vs();p.useEffect(()=>{const P=r.current;if(!P)return;const B=()=>{j(P.currentTime+n)},de=()=>g(!0),I=()=>g(!1),ie=()=>g(!1);return P.addEventListener("timeupdate",B),P.addEventListener("play",de),P.addEventListener("pause",I),P.addEventListener("ended",ie),()=>{P.removeEventListener("timeupdate",B),P.removeEventListener("play",de),P.removeEventListener("pause",I),P.removeEventListener("ended",ie)}},[j,g,n]),p.useEffect(()=>{const P=r.current;if(!P)return;const B=v-n;B>=0&&B<=t&&Math.abs(P.currentTime-B)>.1&&(P.currentTime=B)},[v,n,t]);const k=p.useCallback(()=>{i.current&&(i.current.pause(),i.current=null),y(null)},[]);p.useEffect(()=>{if(!f||!w){k(),a.current=null;return}const P=x.find(B=>v>=B.start_time&&v<=B.end_time);if(P&&P.audio_path){const B=v-P.start_time;if(a.current!==P.id||B<.5&&m!==P.id){k();let I=P.audio_path;I.includes("storage/")?I=`/storage/${I.split("storage/").pop()}`:I.startsWith("/")||(I=`/storage/${I}`),console.log("Playing segment audio:",P.name,I);const ie=new Audio(I);ie.volume=u,B>.3&&(ie.currentTime=B),i.current=ie,a.current=P.id,y(P.id),ie.play().catch(D=>{console.warn("Failed to play segment audio:",D,I),y(null)}),ie.onended=()=>{y(null)},ie.onerror=()=>{console.warn("Audio error for:",I),y(null)}}}else m&&k(),P||(a.current=null)},[v,x,f,w,u,k,m]),p.useEffect(()=>()=>{k()},[k]),p.useEffect(()=>{i.current&&(i.current.volume=u)},[u]);const T=()=>{const P=r.current;P&&(P.paused?P.play():P.pause())},R=()=>{const P=r.current;P&&(P.muted=!P.muted,c(P.muted))},_=P=>{const B=r.current;if(!B)return;const de=parseFloat(P.target.value);B.volume=de,d(de),c(de===0)},L=P=>{const B=r.current,de=s.current;if(!B||!de)return;const I=de.getBoundingClientRect(),ie=(P.clientX-I.left)/I.width;B.currentTime=ie*t},F=P=>{const B=r.current;B&&(B.currentTime=Math.max(0,Math.min(t,B.currentTime+P)))},q=()=>{const P=r.current;P&&(document.fullscreenElement?document.exitFullscreen():P.requestFullscreen())},Q=x.find(P=>v>=P.start_time&&v<=P.end_time);return o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden group",children:[o.jsx("video",{ref:r,src:e,className:"w-full aspect-video",onClick:T}),Q&&o.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2",children:[o.jsx("div",{className:"bg-accent-red/90 text-white text-xs px-2 py-1 rounded font-mono",children:Q.name}),m===Q.id&&o.jsxs("div",{className:"bg-green-500/90 text-white text-xs px-2 py-1 rounded font-mono flex items-center gap-1",children:[o.jsx(xc,{className:"w-3 h-3"}),"Playing Audio"]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsxs("div",{ref:s,onClick:L,className:"relative h-1.5 bg-white/20 rounded-full cursor-pointer mb-3",children:[x.map(P=>o.jsx("div",{className:J("absolute top-0 h-full rounded-full",P.id===b?"bg-accent-red":"bg-accent-red/50"),style:{left:`${P.start_time/t*100}%`,width:`${(P.end_time-P.start_time)/t*100}%`}},P.id)),o.jsx("div",{className:"absolute top-0 h-full bg-white rounded-full",style:{width:`${v/t*100}%`}}),o.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-lg",style:{left:`${v/t*100}%`}})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>F(-5),className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:o.jsx(Lv,{className:"w-4 h-4"})}),o.jsx("button",{onClick:T,className:"p-2 rounded-full bg-accent-red hover:bg-accent-red-light shadow-glow-red-sm",children:w?o.jsx(Ov,{className:"w-5 h-5 text-white"}):o.jsx(gc,{className:"w-5 h-5 text-white ml-0.5"})}),o.jsx("button",{onClick:()=>F(5),className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:o.jsx(Dv,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"font-mono text-sm text-white/80",children:[o.jsx("span",{children:Eg(v)}),o.jsx("span",{className:"text-white/40 mx-1",children:"/"}),o.jsx("span",{children:Eg(t)})]}),o.jsx("div",{className:"flex-1"}),o.jsx("button",{onClick:()=>h(!f),className:J("p-1.5 rounded transition-colors",f?"bg-green-500/30 text-green-400 hover:bg-green-500/40":"hover:bg-white/10 text-white/50 hover:text-white/80"),title:f?"Disable TTS audio sync":"Enable TTS audio sync",children:o.jsx(xc,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:R,className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:l?o.jsx(Bh,{className:"w-4 h-4"}):o.jsx(Uh,{className:"w-4 h-4"})}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:u,onChange:_,className:"w-20 accent-accent-red"})]}),o.jsx("button",{onClick:q,className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:o.jsx(Rv,{className:"w-4 h-4"})})]})]}),!w&&o.jsx("button",{onClick:T,className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/20 transition-colors",children:o.jsx("div",{className:"w-16 h-16 rounded-full bg-accent-red/90 flex items-center justify-center shadow-glow-red",children:o.jsx(gc,{className:"w-8 h-8 text-white ml-1"})})})]})}function Pg(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}function $_({projectName:e,videos:t,totalDuration:n}){const r=p.useRef(null),s=p.useRef(null),i=p.useRef(null),a=p.useRef(null),[l,c]=p.useState(!1),[u,d]=p.useState(1),[f,h]=p.useState(!1),[m,y]=p.useState(null),[v,j]=p.useState(null),w=p.useRef(null),g=p.useRef(!1),{currentTime:x,setCurrentTime:b,isPlaying:k,setIsPlaying:T,segments:R,selectedSegmentId:_}=vs(),L=p.useMemo(()=>{const E=[];if(t.some(U=>U.timeline_start!==null&&U.timeline_start!==void 0))for(const U of t){const O=U.duration||0,Z=U.timeline_start??0,le=U.timeline_end??Z+O;E.push({id:U.id,name:U.name,url:`/api/v1/videos/${e}/${U.id}/stream`,timelineStart:Z,timelineEnd:le,duration:O})}else{const U=[...t].sort((Z,le)=>Z.order-le.order);let O=0;for(const Z of U){const le=Z.duration||0;E.push({id:Z.id,name:Z.name,url:`/api/v1/videos/${e}/${Z.id}/stream`,timelineStart:O,timelineEnd:O+le,duration:le}),O+=le}}return E.sort((U,O)=>U.timelineStart-O.timelineStart)},[t,e]),{activeVideo:F,isInGap:q,nextVideo:Q}=p.useMemo(()=>{const E=L.filter(A=>x>=A.timelineStart&&x<A.timelineEnd);if(E.length>0){const A=E.map(U=>{const O=t.find(Z=>Z.id===U.id);return{...U,order:(O==null?void 0:O.order)??0}});return A.sort((U,O)=>U.order-O.order),{activeVideo:A[0],isInGap:!1,nextVideo:null}}if(L.length>0){const A=L[L.length-1];if(x>=A.timelineEnd)return{activeVideo:A,isInGap:!1,nextVideo:null};const U=L[0];if(x<U.timelineStart)return{activeVideo:U,isInGap:!0,nextVideo:U};const O=L.find(le=>le.timelineStart>x);return{activeVideo:[...L].reverse().find(le=>le.timelineEnd<=x)||U,isInGap:!0,nextVideo:O||null}}return{activeVideo:null,isInGap:!1,nextVideo:null}},[x,L,t]);p.useEffect(()=>{if(!(!F||!r.current)&&F.id!==w.current){console.log("[MultiVideoPlayer] Switching to video:",F.name),g.current=!0,w.current=F.id,j(F.id);const E=r.current,A=k;E.src=F.url,E.load(),E.onloadeddata=()=>{const U=x-F.timelineStart;E.currentTime=Math.max(0,Math.min(U,F.duration)),A&&E.play().catch(O=>console.warn("Failed to resume playback:",O)),g.current=!1}}},[F,k,x]),p.useEffect(()=>{const E=r.current;if(!E||!F)return;const A=()=>{if(g.current)return;const le=E.currentTime+F.timelineStart;if(b(le),E.currentTime>=F.duration-.1){const me=L.find(H=>H.timelineStart>=F.timelineEnd);me&&k&&b(me.timelineStart)}},U=()=>T(!0),O=()=>{g.current||T(!1)},Z=()=>{const le=L.find(me=>me.timelineStart>=F.timelineEnd);le?b(le.timelineStart):T(!1)};return E.addEventListener("timeupdate",A),E.addEventListener("play",U),E.addEventListener("pause",O),E.addEventListener("ended",Z),()=>{E.removeEventListener("timeupdate",A),E.removeEventListener("play",U),E.removeEventListener("pause",O),E.removeEventListener("ended",Z)}},[F,L,k,b,T]),p.useEffect(()=>{const E=r.current;if(!E||!F||g.current)return;const A=x-F.timelineStart;A>=0&&A<=F.duration&&Math.abs(E.currentTime-A)>.2&&(E.currentTime=A)},[x,F]);const P=p.useCallback(()=>{i.current&&(i.current.pause(),i.current=null),y(null)},[]);p.useEffect(()=>{if(!f||!k){P(),a.current=null;return}const E=R.find(A=>x>=A.start_time&&x<=A.end_time);if(E&&E.audio_path){const A=x-E.start_time;if(a.current!==E.id||A<.5&&m!==E.id){P();let O=E.audio_path;O.includes("storage/")?O=`/storage/${O.split("storage/").pop()}`:O.startsWith("/")||(O=`/storage/${O}`);const Z=new Audio(O);Z.volume=u,A>.3&&(Z.currentTime=A),i.current=Z,a.current=E.id,y(E.id),Z.play().catch(le=>{console.warn("Failed to play segment audio:",le),y(null)}),Z.onended=()=>y(null),Z.onerror=()=>y(null)}}else m&&P(),E||(a.current=null)},[x,R,f,k,u,P,m]),p.useEffect(()=>()=>P(),[P]),p.useEffect(()=>{i.current&&(i.current.volume=u)},[u]);const B=()=>{const E=r.current;E&&(E.paused?E.play():E.pause())},de=()=>{const E=r.current;E&&(E.muted=!E.muted,c(E.muted))},I=E=>{const A=r.current;if(!A)return;const U=parseFloat(E.target.value);A.volume=U,d(U),c(U===0)},ie=E=>{const A=s.current;if(!A)return;const U=A.getBoundingClientRect(),Z=(E.clientX-U.left)/U.width*n;b(Z)},D=E=>{const A=Math.max(0,Math.min(n,x+E));b(A)},G=()=>{const E=r.current;E&&(document.fullscreenElement?document.exitFullscreen():E.requestFullscreen())},se=R.find(E=>x>=E.start_time&&x<=E.end_time);return p.useEffect(()=>{if(L.length>0&&!v){const E=L[0];j(E.id),w.current=E.id,r.current&&(r.current.src=E.url)}},[L,v]),t.length===0?o.jsx("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video flex items-center justify-center",children:o.jsx("div",{className:"text-text-muted",children:"No videos in project"})}):o.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden group",children:[o.jsx("video",{ref:r,className:"w-full aspect-video",onClick:B}),F&&t.length>1&&o.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:o.jsxs("div",{className:"bg-purple-500/90 text-white text-xs px-2 py-1 rounded font-mono flex items-center gap-1",children:[o.jsx(rr,{className:"w-3 h-3"}),F.name]})}),se&&o.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2",children:[o.jsx("div",{className:"bg-accent-red/90 text-white text-xs px-2 py-1 rounded font-mono",children:se.name}),m===se.id&&o.jsxs("div",{className:"bg-green-500/90 text-white text-xs px-2 py-1 rounded font-mono flex items-center gap-1",children:[o.jsx(xc,{className:"w-3 h-3"}),"Playing Audio"]})]}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsxs("div",{ref:s,onClick:ie,className:"relative h-1.5 bg-white/20 rounded-full cursor-pointer mb-3",children:[L.map((E,A)=>A>0&&o.jsx("div",{className:"absolute top-0 w-0.5 h-full bg-purple-400/50",style:{left:`${E.timelineStart/n*100}%`},title:`${E.name} starts here`},`boundary-${E.id}`)),R.map(E=>o.jsx("div",{className:J("absolute top-0 h-full rounded-full",E.id===_?"bg-accent-red":"bg-accent-red/50"),style:{left:`${E.start_time/n*100}%`,width:`${(E.end_time-E.start_time)/n*100}%`}},E.id)),o.jsx("div",{className:"absolute top-0 h-full bg-white rounded-full",style:{width:`${x/n*100}%`}}),o.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-lg",style:{left:`${x/n*100}%`}})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>D(-5),className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:o.jsx(Lv,{className:"w-4 h-4"})}),o.jsx("button",{onClick:B,className:"p-2 rounded-full bg-accent-red hover:bg-accent-red-light shadow-glow-red-sm",children:k?o.jsx(Ov,{className:"w-5 h-5 text-white"}):o.jsx(gc,{className:"w-5 h-5 text-white ml-0.5"})}),o.jsx("button",{onClick:()=>D(5),className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:o.jsx(Dv,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"font-mono text-sm text-white/80",children:[o.jsx("span",{children:Pg(x)}),o.jsx("span",{className:"text-white/40 mx-1",children:"/"}),o.jsx("span",{children:Pg(n)})]}),o.jsx("div",{className:"flex-1"}),o.jsx("button",{onClick:()=>h(!f),className:J("p-1.5 rounded transition-colors",f?"bg-green-500/30 text-green-400 hover:bg-green-500/40":"hover:bg-white/10 text-white/50 hover:text-white/80"),title:f?"Disable TTS audio sync":"Enable TTS audio sync",children:o.jsx(xc,{className:"w-4 h-4"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:de,className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:l?o.jsx(Bh,{className:"w-4 h-4"}):o.jsx(Uh,{className:"w-4 h-4"})}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:u,onChange:I,className:"w-20 accent-accent-red"})]}),o.jsx("button",{onClick:G,className:"p-1.5 rounded hover:bg-white/10 text-white/80 hover:text-white",children:o.jsx(Rv,{className:"w-4 h-4"})})]})]}),!k&&o.jsx("button",{onClick:B,className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/20 transition-colors",children:o.jsx("div",{className:"w-16 h-16 rounded-full bg-accent-red/90 flex items-center justify-center shadow-glow-red",children:o.jsx(gc,{className:"w-8 h-8 text-white ml-1"})})})]})}function z_(e){return!e||e.trim().length===0?0:e.trim().split(/\s+/).length*.4}function uu(e){return e.estimated_audio_duration!==null&&e.estimated_audio_duration>0?e.estimated_audio_duration:z_(e.text)}function U_(e){const t=uu(e),n=e.end_time-e.start_time;return t>n}function B_(e){const t=uu(e),n=e.end_time-e.start_time,r=t-n;return r>0?r:0}function H_(e){const t=new Map,n=new Map;for(const r of e){const s=r.video_id??"unknown";n.has(s)||n.set(s,[]),n.get(s).push(r)}for(const[r,s]of n){const a=[...s].sort((l,c)=>l.start_time-c.start_time).map(l=>({segmentId:l.id,segmentName:l.name,videoId:r,startTime:l.start_time,segmentEndTime:l.end_time,audioEndTime:l.start_time+uu(l)}));for(let l=0;l<a.length;l++){const c=a[l],u=[];for(let d=l+1;d<a.length;d++){const f=a[d];c.audioEndTime>f.startTime&&u.push(f.segmentName)}u.length>0&&t.set(c.segmentId,u)}}return t}function W_(e){return e.text!==null&&e.text.trim().length>0}function nd(e){return e<1?`${Math.round(e*10)/10}s`:`${Math.round(e*10)/10}s`}function K_({segment:e,duration:t,videoOffset:n,isSelected:r,onClick:s,hasOvershoot:i,overshootAmount:a,overlapsWith:l}){const c=W_(e),u=uu(e),d=e.end_time-e.start_time,h=(n+e.start_time)/t*100,m=d/t*100,y=u/t*100,j=Math.max(m,1),w=Math.max(0,100-h-j),g=i?a/t*100:0,x=Math.min(g,w),b=i||l.length>0,k=()=>{const T=[];return T.push(e.name),c?(T.push(`Audio: ${u.toFixed(1)}s`),i&&T.push(`Exceeds by ${nd(a)}`),l.length>0&&T.push(`Overlaps: ${l.join(", ")}`)):T.push("No script"),T.join(" | ")};return o.jsxs("div",{className:"absolute top-1 bottom-1 group/voblock",style:{left:`${h}%`,width:`${j+x}%`},children:[o.jsxs("div",{onClick:s,title:k(),className:J("absolute top-0 bottom-0 left-0 rounded cursor-pointer transition-all","flex items-center overflow-hidden",c?r?"bg-amber-500/80 border border-amber-300 ring-2 ring-amber-400/50":"bg-amber-500/60 border border-amber-400 hover:bg-amber-500/70":"bg-amber-500/20 border border-amber-400/50 border-dashed hover:bg-amber-500/30"),style:{width:i?`${m/(j+x)*100}%`:"100%"},children:[o.jsxs("div",{className:"flex-1 px-1.5 min-w-0 flex items-center gap-1",children:[c&&e.audio_path&&o.jsx(Av,{className:"w-3 h-3 text-amber-200 flex-shrink-0"}),o.jsx("span",{className:J("text-xs truncate font-medium",c?"text-white":"text-amber-300/70"),children:c?e.name:"No script"})]}),b&&o.jsxs("div",{className:"flex items-center gap-0.5 px-1 flex-shrink-0",children:[i&&o.jsx("span",{title:`Audio exceeds segment by ${nd(a)}`,children:o.jsx(pt,{className:"w-3.5 h-3.5 text-orange-400"})}),l.length>0&&o.jsx("span",{title:`Overlaps with: ${l.join(", ")}`,children:o.jsx(pt,{className:"w-3.5 h-3.5 text-red-400"})})]})]}),i&&x>0&&o.jsx("div",{onClick:s,className:J("absolute top-0 bottom-0 rounded-r cursor-pointer","bg-red-500/30 border border-red-400/60 border-l-0","hover:bg-red-500/40 transition-colors"),style:{left:`${m/(j+x)*100}%`,width:`${x/(j+x)*100}%`},title:`Audio overshoot: ${nd(a)}`,children:o.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 3px, rgba(255,255,255,0.1) 3px, rgba(255,255,255,0.1) 6px)"}})}),c&&!i&&u>0&&o.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-amber-300/60 rounded-full",style:{width:`${Math.min(y/j*100,100)}%`},title:`Audio duration: ${u.toFixed(1)}s`})]})}function q_(e,t={}){const n=p.useRef(null),r=p.useRef(null),[s,i]=p.useState(!1),[a,l]=p.useState(null),c=p.useRef(!1),u=p.useRef(!0),d=p.useRef(t);d.current=t;const f=p.useCallback(()=>{var b;if(!e)return;if(c.current){console.log("[TimelineWS] Already connecting, skipping...");return}if(((b=n.current)==null?void 0:b.readyState)===WebSocket.OPEN){console.log("[TimelineWS] Already connected, skipping...");return}c.current=!0,n.current&&(n.current.close(1e3,"Reconnecting"),n.current=null);const g=`${c1}/ws/timeline/${encodeURIComponent(e)}`;console.log("[TimelineWS] Connecting to:",g);const x=new WebSocket(g);n.current=x,x.onopen=()=>{u.current&&(console.log("[TimelineWS] Connected"),i(!0),c.current=!1)},x.onmessage=k=>{var T,R,_,L,F,q,Q,P,B,de;if(u.current)try{const I=JSON.parse(k.data);switch(console.log("[TimelineWS] Received:",I.type),I.type){case"state":const ie=I.data;l(ie),(R=(T=d.current).onStateUpdate)==null||R.call(T,ie);break;case"video_position_update":(L=(_=d.current).onVideoPositionUpdate)==null||L.call(_,I.data);break;case"video_resize_update":(q=(F=d.current).onVideoPositionUpdate)==null||q.call(F,I.data);break;case"bgm_update":(P=(Q=d.current).onBGMUpdate)==null||P.call(Q,I.data);break;case"ack":break;case"error":console.error("[TimelineWS] Error:",I.message),(de=(B=d.current).onError)==null||de.call(B,I.message||"Unknown error");break;case"pong":break}}catch(I){console.error("[TimelineWS] Failed to parse message:",I)}},x.onclose=k=>{u.current&&(console.log("[TimelineWS] Disconnected:",k.code,k.reason),i(!1),c.current=!1,k.code!==1e3&&u.current&&(r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{u.current&&(console.log("[TimelineWS] Attempting reconnect..."),f())},3e3)))},x.onerror=k=>{var T,R;console.error("[TimelineWS] WebSocket error:",k),c.current=!1,(R=(T=d.current).onError)==null||R.call(T,"WebSocket connection error")}},[e]);p.useEffect(()=>{if(u.current=!0,e){const g=setTimeout(()=>{u.current&&f()},100);return()=>{clearTimeout(g)}}},[e,f]),p.useEffect(()=>()=>{u.current=!1,r.current&&clearTimeout(r.current),n.current&&(n.current.close(1e3,"Component unmounting"),n.current=null)},[]);const h=p.useCallback((g,x)=>{var b;return((b=n.current)==null?void 0:b.readyState)===WebSocket.OPEN?(n.current.send(JSON.stringify({type:g,data:x})),!0):(console.warn("[TimelineWS] Cannot send - not connected"),!1)},[]),m=p.useCallback((g,x,b)=>h("video_position",{video_id:g,timeline_start:x,timeline_end:b}),[h]),y=p.useCallback((g,x,b)=>h("video_resize",{video_id:g,timeline_start:x,timeline_end:b}),[h]),v=p.useCallback((g,x)=>h("bgm_update",{track_id:g,...x}),[h]),j=p.useCallback(()=>h("get_state",{}),[h]),w=p.useCallback(()=>h("ping",{}),[h]);return{isConnected:s,lastState:a,updateVideoPosition:m,updateVideoResize:y,updateBGMTrack:v,requestState:j,ping:w,reconnect:f}}function Mr(e,t=!1){const n=Math.floor(e/60),r=e%60;if(t)return`${n}:${r.toFixed(3).padStart(6,"0")}`;const s=Math.floor(r),i=Math.round((r-s)*10)/10;return i>0&&i<1?`${n}:${s.toString().padStart(2,"0")}.${Math.round(i*10)}`:`${n}:${s.toString().padStart(2,"0")}`}function Tg({segment:e,duration:t,isSelected:n,onClick:r,onDragStart:s,isDragging:i,previewTimes:a}){const l=(a==null?void 0:a.start)??e.start_time,c=(a==null?void 0:a.end)??e.end_time,u=l/t*100,d=(c-l)/t*100,f=e.audio_fits_segment===!1;return o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onClick:h=>{h.stopPropagation(),r()},className:J("absolute top-1 bottom-1 rounded transition-colors group","border-2 flex items-center overflow-hidden",i&&"opacity-80",n?"bg-accent-red/30 border-accent-red shadow-glow-red-sm z-10":"bg-terminal-elevated border-terminal-border hover:border-accent-red/50"),style:{left:`${u}%`,width:`${d}%`,minWidth:"20px",cursor:"grab"},children:[o.jsx("div",{className:J("absolute left-0 top-0 bottom-0 w-2 cursor-ew-resize z-20","flex items-center justify-center","hover:bg-accent-red/30 transition-colors"),onMouseDown:h=>{h.stopPropagation(),s(h,"resize-start")},children:o.jsx("div",{className:"w-0.5 h-4 bg-accent-red/50 rounded opacity-0 group-hover:opacity-100 transition-opacity"})}),o.jsxs("div",{className:"flex-1 h-full flex items-center justify-center cursor-grab active:cursor-grabbing px-2",onMouseDown:h=>{h.stopPropagation(),s(h,"move")},children:[d>8&&o.jsx("span",{className:"text-[10px] font-mono truncate text-text-primary select-none",children:e.name}),d<=8&&d>4&&o.jsx(Mv,{className:"w-3 h-3 text-text-muted"})]}),o.jsx("div",{className:J("absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize z-20","flex items-center justify-center","hover:bg-accent-red/30 transition-colors"),onMouseDown:h=>{h.stopPropagation(),s(h,"resize-end")},children:o.jsx("div",{className:"w-0.5 h-4 bg-accent-red/50 rounded opacity-0 group-hover:opacity-100 transition-opacity"})}),f&&o.jsx("div",{className:"absolute top-0.5 right-2",children:o.jsx(pt,{className:"w-3 h-3 text-yellow-500"})}),(n||i)&&o.jsxs("div",{className:"absolute -bottom-5 left-0 right-0 flex justify-between text-[9px] font-mono text-text-muted pointer-events-none",children:[o.jsxs("span",{children:[l.toFixed(1),"s"]}),o.jsxs("span",{children:[c.toFixed(1),"s"]})]})]})}function Q_({track:e,duration:t,isSelected:n,onClick:r,onDragStart:s,isDragging:i,previewTimes:a,onMuteToggle:l,onVolumeChange:c,onDelete:u}){const[d,f]=p.useState(!1),h=(a==null?void 0:a.start)??e.start_time,m=(a==null?void 0:a.end)??(e.end_time===0?t:e.end_time),y=h/t*100,v=(m-h)/t*100,j=e.path.split("/").pop()||e.name;return o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},onClick:w=>{w.stopPropagation(),r()},className:J("absolute top-1 bottom-1 rounded transition-colors group","border flex items-center overflow-hidden",i&&"opacity-80",e.muted&&"opacity-50",n?"bg-teal-600/30 border-teal-500 shadow-[0_0_8px_rgba(20,184,166,0.3)] z-10":"bg-gradient-to-r from-teal-600/20 to-teal-700/20 border-teal-600/40 hover:border-teal-500/60"),style:{left:`${y}%`,width:`${v}%`,minWidth:"60px",cursor:"grab"},children:[o.jsx("div",{className:J("absolute left-0 top-0 bottom-0 w-2 cursor-ew-resize z-20","flex items-center justify-center","hover:bg-teal-500/30 transition-colors"),onMouseDown:w=>{w.stopPropagation(),s(w,"resize-start")},children:o.jsx("div",{className:"w-0.5 h-4 bg-teal-500/50 rounded opacity-0 group-hover:opacity-100 transition-opacity"})}),o.jsxs("div",{className:"flex-1 h-full flex items-center cursor-grab active:cursor-grabbing px-2 gap-1",onMouseDown:w=>{w.stopPropagation(),s(w,"move")},children:[o.jsx(Fv,{className:"w-3 h-3 text-teal-400 shrink-0"}),o.jsx("span",{className:"text-[10px] text-teal-300 truncate flex-1",children:j}),o.jsxs("div",{className:"relative",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[o.jsx("button",{onClick:w=>{w.stopPropagation(),l()},className:"p-0.5 rounded hover:bg-teal-600/30 text-teal-400",children:e.muted?o.jsx(Bh,{className:"w-3 h-3"}):o.jsx(Uh,{className:"w-3 h-3"})}),d&&!e.muted&&o.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 p-2 bg-terminal-elevated border border-terminal-border rounded shadow-lg z-30",onClick:w=>w.stopPropagation(),onMouseDown:w=>w.stopPropagation(),children:o.jsxs("div",{className:"flex flex-col items-center gap-1",children:[o.jsxs("span",{className:"text-[9px] text-text-muted",children:[e.volume,"%"]}),o.jsx("input",{type:"range",min:"0",max:"200",value:e.volume,onChange:w=>c(parseInt(w.target.value)),className:"w-20 h-1 accent-teal-500",style:{writingMode:"horizontal-tb"}})]})})]}),o.jsx("button",{onClick:w=>{w.stopPropagation(),u()},className:"p-0.5 rounded hover:bg-red-600/30 text-teal-400 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(oi,{className:"w-3 h-3"})})]}),o.jsx("div",{className:J("absolute right-0 top-0 bottom-0 w-2 cursor-ew-resize z-20","flex items-center justify-center","hover:bg-teal-500/30 transition-colors"),onMouseDown:w=>{w.stopPropagation(),s(w,"resize-end")},children:o.jsx("div",{className:"w-0.5 h-4 bg-teal-500/50 rounded opacity-0 group-hover:opacity-100 transition-opacity"})}),(n||i)&&o.jsxs("div",{className:"absolute -bottom-5 left-0 right-0 flex justify-between text-[9px] font-mono text-teal-400 pointer-events-none",children:[o.jsxs("span",{children:[h.toFixed(1),"s"]}),o.jsxs("span",{children:[m.toFixed(1),"s"]})]})]})}function G_({duration:e,projectName:t,onAddSegment:n,backgroundMusicPath:r,onBackgroundMusicChange:s,bgmTracks:i=[],bgmVolume:a=100,ttsVolume:l=100,onBGMTracksChange:c,videos:u=[],activeVideoId:d,onSetActiveVideo:f,onVideoPositionChange:h}){var gm;const{segments:m,currentTime:y,setCurrentTime:v,selectedSegmentId:j,setSelectedSegmentId:w,updateSegment:g}=vs(),[x,b]=p.useState("combined"),[k,T]=p.useState(null),[R,_]=p.useState(!1),[L,F]=p.useState(!1),q=u.length>1,[Q,P]=p.useState({}),B=p.useMemo(()=>[...u].sort((N,z)=>N.order-z.order),[u]),de=1,I=p.useMemo(()=>{const N={};if(B.some(V=>Q[V.id]||V.timeline_start!==null&&V.timeline_start!==void 0))for(const V of B){const K=V.duration||0,ee=Q[V.id];let xe=(ee==null?void 0:ee.timeline_start)??V.timeline_start??0,fe=(ee==null?void 0:ee.timeline_end)??V.timeline_end??xe+K;const ae=fe-xe;(ae<de||ae>K*2)&&(console.warn(`[Timeline] Corrupted video position detected for ${V.name}: start=${xe}, end=${fe}, duration=${K}. Resetting.`),fe=xe+K),N[V.id]={start:xe,end:fe,duration:K}}else{let V=0;for(const K of B){const ee=K.duration||0;N[K.id]={start:V,end:V+ee,duration:ee},V+=ee}}return N},[B,Q]),ie=p.useMemo(()=>{let N=0;for(const z in I){const V=I[z];V.end>N&&(N=V.end)}return N===0?u.reduce((z,V)=>z+(V.duration||0),0):N},[I,u]),D=k||d||((gm=u[0])==null?void 0:gm.id),G=u.find(N=>N.id===D),se=(G==null?void 0:G.duration)||e,E=q&&x==="combined"?ie:se,[A,U]=p.useState(!1),O=p.useRef(null),[Z,le]=p.useState(null),[me,H]=p.useState(null),[ge,ve]=p.useState({}),[Me,yt]=p.useState({}),Qt=p.useRef(null),Gt=p.useMemo(()=>i.map(N=>{const z=Me[N.id];return z?{...N,start_time:z.start_time,end_time:z.end_time}:N}),[i,Me]),[Ot,We]=p.useState(!1),ht=p.useRef(null),[yn,Sr]=p.useState(null),[ue,ct]=p.useState(null),[vn,Nr]=p.useState({}),Pe=p.useRef({}),Ze=p.useRef(null),Xt=p.useRef(null),kr=5,{updateVideoPosition:Yt,updateVideoResize:wn,updateBGMTrack:Cr}=q_(t,{onVideoPositionUpdate:p.useCallback(N=>{console.log("[Timeline] External video position update received, triggering refetch"),h==null||h()},[h]),onBGMUpdate:p.useCallback(N=>{console.log("[Timeline] External BGM update received, triggering refetch"),c==null||c()},[c]),onError:p.useCallback(N=>{console.error("[Timeline] WebSocket error:",N)},[])}),ye=p.useMemo(()=>{let N=E;for(const z of Gt){const V=z.end_time===0?E:z.end_time;V>N&&(N=V)}for(const z in vn){const V=vn[z];V.end>N&&(N=V.end)}for(const z in ge){const V=ge[z];V.end>N&&(N=V.end)}return Math.max(E,N)},[E,Gt,vn,ge]),[Je,Rn]=p.useState(1),an=p.useRef(null),Er=.5,bn=10,ws=p.useCallback(()=>{Rn(N=>Math.min(bn,N*1.25))},[]),bs=p.useCallback(()=>{Rn(N=>Math.max(Er,N/1.25))},[]),js=p.useCallback(()=>{Rn(1),an.current&&(an.current.scrollLeft=0)},[]);p.useEffect(()=>{const N=an.current;if(!N)return;const z=V=>{if(V.ctrlKey||V.metaKey){V.preventDefault();const K=V.deltaY>0?.9:1.1;Rn(ee=>Math.max(Er,Math.min(bn,ee*K)))}};return N.addEventListener("wheel",z,{passive:!1}),()=>N.removeEventListener("wheel",z)},[]),p.useEffect(()=>{if(!an.current||Je<=1)return;const N=an.current,z=N.clientWidth,V=z*Je,K=y/ye*V,ee=N.scrollLeft,xe=ee,fe=ee+z;(K<xe+50||K>fe-50)&&(N.scrollLeft=K-z/2)},[y,Je,ye]);const Ss=p.useCallback(async N=>{var V;const z=(V=N.target.files)==null?void 0:V[0];if(z){U(!0);try{const K=await Qh.uploadAudio(z);await $t.addBGMTrack(t,{path:K.data.path,name:z.name.replace(/\.[^/.]+$/,""),start_time:0,end_time:0,volume:100}),c==null||c(),re.success(`Background music track added: ${z.name}`)}catch(K){console.error("Failed to upload audio:",K),re.error("Failed to upload audio file")}finally{U(!1),O.current&&(O.current.value="")}}},[t,c]),Wn=p.useCallback(async N=>{const z=i.find(V=>V.id===N);if(z)try{await $t.updateBGMTrack(t,N,{muted:!z.muted}),c==null||c()}catch{re.error("Failed to update track")}},[t,i,c]),Pr=p.useCallback(async(N,z)=>{try{await $t.updateBGMTrack(t,N,{volume:z}),c==null||c()}catch{re.error("Failed to update volume")}},[t,c]),Ns=p.useCallback(async N=>{try{await $t.deleteBGMTrack(t,N),c==null||c(),re.success("Track removed")}catch{re.error("Failed to remove track")}},[t,c]),Tr=p.useCallback((N,z,V)=>{const K=i.find(ee=>ee.id===N);K&&(H({segmentId:N,mode:V,initialMouseX:z.clientX,initialStartTime:K.start_time,initialEndTime:K.end_time===0?ye:K.end_time}),le(N),w(null))},[i,ye,w]);p.useEffect(()=>{if(!me)return;const N=V=>{if(!Qt.current)return;const K=Qt.current.getBoundingClientRect(),xe=(V.clientX-me.initialMouseX)/K.width*ye;let fe=me.initialStartTime,ae=me.initialEndTime;if(me.mode==="move"){const Ee=me.initialEndTime-me.initialStartTime;fe=me.initialStartTime+xe,ae=fe+Ee,fe<0&&(fe=0,ae=Ee)}else me.mode==="resize-start"?(fe=me.initialStartTime+xe,fe=Math.min(fe,me.initialEndTime-1),fe=Math.max(0,fe)):me.mode==="resize-end"&&(ae=me.initialEndTime+xe,ae=Math.max(ae,me.initialStartTime+1));fe=Math.round(fe*10)/10,ae=Math.round(ae*10)/10,ve(Ee=>({...Ee,[me.segmentId]:{start:fe,end:ae}}))},z=()=>{if(!me)return;const V=ge[me.segmentId];if(V){const K=me.segmentId,ee=V.start,xe=V.end;yt(fe=>({...fe,[K]:{start_time:ee,end_time:xe}})),H(null),ve(fe=>{const ae={...fe};return delete ae[K],ae}),Cr(K,{start_time:ee,end_time:xe}),console.log(`[Timeline] BGM track updated via WebSocket: ${ee.toFixed(1)}s - ${xe.toFixed(1)}s`),$t.updateBGMTrack(t,K,{start_time:ee,end_time:xe}).then(()=>{yt(fe=>{const ae={...fe};return delete ae[K],ae}),c==null||c()}).catch(()=>{yt(fe=>{const ae={...fe};return delete ae[K],ae}),re.error("Failed to update track timing"),c==null||c()})}else H(null)};return window.addEventListener("mousemove",N),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",z)}},[me,e,ge,t,c,Cr]);const An=p.useCallback((N,z,V)=>{const K=u.find(ee=>ee.id===N);if(K){if(Sr(N),w(null),le(null),V==="resize-start"||V==="resize-end"){const ee=I[N];ct({segmentId:N,mode:V,initialMouseX:z.clientX,initialStartTime:(ee==null?void 0:ee.start)||0,initialEndTime:(ee==null?void 0:ee.end)||K.duration||0});return}Xt.current={videoId:N,mode:V,initialX:z.clientX,initialY:z.clientY}}},[u,I,w]),W=p.useCallback(()=>{const N=Xt.current;if(!N)return;const z=u.find(K=>K.id===N.videoId);if(!z)return;const V=I[N.videoId];ct({segmentId:N.videoId,mode:N.mode,initialMouseX:N.initialX,initialStartTime:(V==null?void 0:V.start)||0,initialEndTime:(V==null?void 0:V.end)||z.duration||0}),Xt.current=null},[u,I]);p.useEffect(()=>{const N=V=>{const K=Xt.current;if(!K)return;const ee=Math.abs(V.clientX-K.initialX),xe=Math.abs(V.clientY-K.initialY);(ee>kr||xe>kr)&&W()},z=()=>{Xt.current=null};return window.addEventListener("mousemove",N),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",z)}},[W]),p.useEffect(()=>{if(!ue)return;const N=V=>{if(!Ze.current)return;const K=Ze.current.getBoundingClientRect(),ee=V.clientX-ue.initialMouseX,xe=K.width*Je,fe=ee/xe*ye,ae=u.find(Qn=>Qn.id===ue.segmentId);if(!ae)return;const Ee=ae.duration||0;let Te=ue.initialStartTime,Zt=ue.initialEndTime;const qa=ue.initialEndTime-ue.initialStartTime;if(ue.mode==="move")Te=ue.initialStartTime+fe,Zt=Te+qa,Te<0&&(Te=0,Zt=qa);else if(ue.mode==="resize-start")Te=ue.initialStartTime+fe,Te=Math.max(0,Te),Te=Math.min(Te,ue.initialEndTime-de);else if(ue.mode==="resize-end"){Zt=ue.initialEndTime+fe,Zt=Math.max(Zt,ue.initialStartTime+de);const Qn=ue.initialStartTime+Ee;Zt=Math.min(Zt,Qn)}Te=Math.round(Te*1e3)/1e3,Zt=Math.round(Zt*1e3)/1e3;const vo={start:Te,end:Zt};Pe.current={...Pe.current,[ue.segmentId]:vo},Nr(Qn=>({...Qn,[ue.segmentId]:vo}))},z=()=>{if(!ue)return;const V=Pe.current[ue.segmentId];if(V){const K=ue.segmentId,ee=V.start,xe=V.end;P(Ee=>({...Ee,[K]:{timeline_start:ee,timeline_end:xe}})),ct(null);const fe={...Pe.current};delete fe[K],Pe.current=fe,Nr(Ee=>{const Te={...Ee};return delete Te[K],Te}),ue.mode==="resize-start"||ue.mode==="resize-end"?(wn(K,ee,xe),console.log(`[Timeline] Video resized via WebSocket: ${ee.toFixed(1)}s - ${xe.toFixed(1)}s`)):(Yt(K,ee,xe),console.log(`[Timeline] Video moved via WebSocket: ${ee.toFixed(1)}s - ${xe.toFixed(1)}s`)),setTimeout(()=>{h==null||h()},100),setTimeout(()=>{P(Ee=>{const Te={...Ee};return delete Te[K],Te})},800)}else ct(null)};return window.addEventListener("mousemove",N),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",z)}},[ue,ye,u,Yt,wn,h,Je]);const be=p.useRef(null),[Se,mi]=p.useState(null),[ks,Cs]=p.useState({}),Kn=p.useMemo(()=>{const N=ye>300?60:ye>60?10:5,z=Math.floor(ye/N);return Array.from({length:z+1},(V,K)=>K*N)},[ye]),yo=p.useCallback((N,z,V)=>{const K=m.find(ee=>ee.id===N);K&&(mi({segmentId:N,mode:V,initialMouseX:z.clientX,initialStartTime:K.start_time,initialEndTime:K.end_time}),w(N))},[m,w]);p.useEffect(()=>{if(!Se)return;const N=V=>{if(!m.find(Te=>Te.id===Se.segmentId)||!be.current)return;const ee=be.current.getBoundingClientRect(),fe=(V.clientX-Se.initialMouseX)/ee.width*e;let ae=Se.initialStartTime,Ee=Se.initialEndTime;if(Se.mode==="move"){const Te=Se.initialEndTime-Se.initialStartTime;ae=Se.initialStartTime+fe,Ee=ae+Te,ae<0&&(ae=0,Ee=Te),Ee>e&&(Ee=e,ae=e-Te)}else Se.mode==="resize-start"?(ae=Se.initialStartTime+fe,ae=Math.min(ae,Se.initialEndTime-1),ae=Math.max(0,ae)):Se.mode==="resize-end"&&(Ee=Se.initialEndTime+fe,Ee=Math.max(Ee,Se.initialStartTime+1),Ee=Math.min(e,Ee));ae=Math.round(ae*10)/10,Ee=Math.round(Ee*10)/10,Cs(Te=>({...Te,[Se.segmentId]:{start:ae,end:Ee}}))},z=async()=>{if(!Se)return;const V=ks[Se.segmentId],K=m.find(ee=>ee.id===Se.segmentId);if(V&&K){if(m.some(xe=>xe.id===Se.segmentId||xe.video_id!==K.video_id?!1:V.start<xe.end_time&&V.end>xe.start_time)){re.error("Segment overlaps with another segment"),Cs(xe=>{const fe={...xe};return delete fe[Se.segmentId],fe}),mi(null);return}try{const xe=await li.update(t,Se.segmentId,{start_time:V.start,end_time:V.end});g(xe.data),Cs(fe=>{const ae={...fe};return delete ae[Se.segmentId],ae})}catch{re.error("Failed to update segment timing"),Cs(fe=>{const ae={...fe};return delete ae[Se.segmentId],ae})}}mi(null)};return window.addEventListener("mousemove",N),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",z)}},[Se,e,m,ks,t,g]);const C=p.useCallback(N=>{N.preventDefault(),N.stopPropagation(),We(!0)},[]);p.useEffect(()=>{if(!Ot)return;const N=V=>{if(!ht.current)return;const K=ht.current.getBoundingClientRect(),xe=Math.max(0,Math.min(1,(V.clientX-K.left)/K.width))*ye;v(xe)},z=()=>{We(!1)};return window.addEventListener("mousemove",N),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",z)}},[Ot,ye,v]);const X=p.useCallback(N=>{const z=N.currentTarget.getBoundingClientRect(),K=Math.max(0,Math.min(1,(N.clientX-z.left)/z.width))*ye;v(K)},[ye,v]),he=p.useCallback(N=>{N.preventDefault(),X(N),We(!0)},[X]),Fe=(N,z)=>{if(Se)return;const V=N.currentTarget.getBoundingClientRect(),K=(N.clientX-V.left)/V.width;if(q&&x==="combined"&&z){const ee=I[z],xe=(ee==null?void 0:ee.duration)||e,fe=K*xe,ae=((ee==null?void 0:ee.start)||0)+fe;v(ae)}else{const ee=K*ye;v(ee)}},rt=y/ye*100,st=p.useCallback(N=>m.filter(z=>z.video_id===N),[m]),Lt=p.useMemo(()=>{var z;if(!q||x==="single")return D?[{id:D,name:((z=u.find(V=>V.id===D))==null?void 0:z.name)||"Video"}]:[];const N=[];for(const V of u){const K=I[V.id];if(K&&y>=K.start&&y<K.end){const ee=Math.max(0,Math.min(y-K.start,K.duration));N.push({id:V.id,name:V.name,localTime:ee})}}return N},[q,x,D,u,I,y]),qn=p.useCallback(N=>{const z=I[N];let V=y;z&&(V=Math.max(0,y-z.start),V=Math.min(V,z.duration)),n(V,N),F(!1)},[y,I,n]),Ha=[{bg:"bg-purple-600/20",border:"border-purple-500",accent:"purple"},{bg:"bg-blue-600/20",border:"border-blue-500",accent:"blue"},{bg:"bg-emerald-600/20",border:"border-emerald-500",accent:"emerald"},{bg:"bg-orange-600/20",border:"border-orange-500",accent:"orange"},{bg:"bg-pink-600/20",border:"border-pink-500",accent:"pink"}],Wa=p.useMemo(()=>H_(m),[m]),Ka=p.useMemo(()=>q&&x==="single"?m.filter(N=>N.video_id===D):m,[m,q,x,D]);return o.jsxs("div",{className:"console-card p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"section-header",children:"Timeline"}),q&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>_(!R),className:J("flex items-center gap-1.5 px-2 py-1 rounded text-xs transition-colors",x==="combined"?"bg-purple-600/20 text-purple-400 border border-purple-500/50":"bg-terminal-elevated text-text-muted border border-terminal-border hover:border-purple-500/50"),children:[x==="combined"?o.jsxs(o.Fragment,{children:[o.jsx(ex,{className:"w-3 h-3"}),"All Videos (Sequential)"]}):o.jsxs(o.Fragment,{children:[o.jsx(rr,{className:"w-3 h-3"}),(G==null?void 0:G.name)||"Single Video"]}),o.jsx(so,{className:J("w-3 h-3 transition-transform",R&&"rotate-180")})]}),R&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>_(!1)}),o.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-terminal-elevated border border-terminal-border rounded shadow-lg z-40 min-w-[180px]",children:[o.jsxs("button",{onClick:()=>{b("combined"),_(!1)},className:J("w-full flex items-center gap-2 px-3 py-2 text-xs text-left transition-colors",x==="combined"?"bg-purple-600/20 text-purple-400":"hover:bg-terminal-border text-text-primary"),children:[o.jsx(ex,{className:"w-3 h-3"}),"All Videos (Sequential)"]}),o.jsx("div",{className:"border-t border-terminal-border my-1"}),o.jsx("div",{className:"px-3 py-1 text-[10px] text-text-muted",children:"Single Video"}),u.map(N=>o.jsxs("button",{onClick:()=>{b("single"),T(N.id),_(!1)},className:J("w-full flex items-center gap-2 px-3 py-2 text-xs text-left transition-colors",x==="single"&&D===N.id?"bg-purple-600/20 text-purple-400":"hover:bg-terminal-border text-text-primary"),children:[o.jsx(rr,{className:"w-3 h-3"}),o.jsx("span",{className:"truncate flex-1",children:N.name}),!N.file_exists&&o.jsx("span",{title:"File missing",children:o.jsx(Xp,{className:"w-3 h-3 text-red-500 shrink-0"})})]},N.id))]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-1 border-r border-terminal-border pr-3",children:[o.jsx("button",{onClick:bs,className:"p-1 rounded hover:bg-terminal-elevated text-text-muted hover:text-text-primary transition-colors",title:"Zoom out (Ctrl+Scroll)",children:o.jsx(fk,{className:"w-3.5 h-3.5"})}),o.jsxs("span",{className:"text-[10px] font-mono text-text-muted w-8 text-center",children:[Math.round(Je*100),"%"]}),o.jsx("button",{onClick:ws,className:"p-1 rounded hover:bg-terminal-elevated text-text-muted hover:text-text-primary transition-colors",title:"Zoom in (Ctrl+Scroll)",children:o.jsx(dk,{className:"w-3.5 h-3.5"})}),o.jsx("button",{onClick:js,className:"p-1 rounded hover:bg-terminal-elevated text-text-muted hover:text-text-primary transition-colors ml-0.5",title:"Fit to view",children:o.jsx(nk,{className:"w-3.5 h-3.5"})})]}),o.jsxs("span",{className:"text-xs font-mono text-text-muted",children:[Mr(y)," / ",Mr(ye)]}),o.jsx("div",{className:"relative",children:Lt.length===0?o.jsxs("button",{disabled:!0,className:"btn-secondary text-xs py-1 px-2 flex items-center gap-1 opacity-50 cursor-not-allowed",title:"Move playhead to a video to add segment",children:[o.jsx(or,{className:"w-3 h-3"}),"Add"]}):Lt.length===1?o.jsxs("button",{onClick:()=>qn(Lt[0].id),className:"btn-secondary text-xs py-1 px-2 flex items-center gap-1",title:`Add segment to ${Lt[0].name}`,children:[o.jsx(or,{className:"w-3 h-3"}),"Add"]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>F(!L),className:J("btn-secondary text-xs py-1 px-2 flex items-center gap-1",L&&"ring-1 ring-accent-red/50"),title:`${Lt.length} videos at playhead`,children:[o.jsx(or,{className:"w-3 h-3"}),"Add",o.jsx(so,{className:J("w-3 h-3 transition-transform",L&&"rotate-180")})]}),L&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>F(!1)}),o.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-terminal-elevated border border-terminal-border rounded shadow-lg z-40 min-w-[160px]",children:[o.jsx("div",{className:"px-3 py-1.5 text-[10px] text-text-muted border-b border-terminal-border",children:"Add segment to:"}),Lt.map((N,z)=>o.jsxs("button",{onClick:()=>qn(N.id),className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-left hover:bg-terminal-border text-text-primary transition-colors",children:[o.jsx(rr,{className:J("w-3 h-3",Ha[z%Ha.length].border.replace("border-","text-"))}),o.jsx("span",{className:"truncate flex-1",children:N.name})]},N.id))]})]})]})})]})]}),m.length>0&&o.jsx("div",{className:"text-[10px] text-text-muted mb-2",children:"Drag edges to resize  Drag center to move  Ctrl+Scroll to zoom"}),o.jsx("div",{ref:an,className:"overflow-x-auto overflow-y-hidden scrollbar-thin scrollbar-track-terminal-bg scrollbar-thumb-terminal-border hover:scrollbar-thumb-terminal-border-hover",children:o.jsxs("div",{style:{width:`${100*Je}%`,minWidth:"100%"},children:[o.jsxs("div",{ref:ht,className:J("relative h-7 mb-1 bg-terminal-bg rounded-t border border-b-0 border-terminal-border select-none",Ot?"cursor-grabbing":"cursor-pointer"),onMouseDown:he,children:[Kn.map(N=>o.jsx("div",{className:"absolute top-1 text-[10px] font-mono text-text-muted transform -translate-x-1/2 pointer-events-none",style:{left:`${N/ye*100}%`},children:Mr(N)},N)),Kn.map(N=>o.jsx("div",{className:"absolute bottom-0 w-px h-2 bg-terminal-border pointer-events-none",style:{left:`${N/ye*100}%`}},`tick-${N}`)),o.jsxs("div",{className:J("absolute top-0 bottom-0 w-4 -translate-x-1/2 z-30 group",Ot?"cursor-grabbing":"cursor-grab"),style:{left:`${rt}%`},onMouseDown:C,children:[o.jsx("div",{className:"absolute top-0.5 left-1/2 -translate-x-1/2 w-3 h-3 bg-accent-red rounded-sm shadow-md hover:scale-110 transition-transform"}),o.jsx("div",{className:"absolute top-3 bottom-0 left-1/2 w-0.5 -translate-x-1/2 bg-accent-red"})]}),o.jsx("div",{className:"absolute right-2 top-1 text-[10px] font-mono text-accent-red pointer-events-none",children:Mr(y)})]}),q&&x==="combined"?o.jsxs("div",{className:"mb-1",children:[o.jsxs("div",{className:"text-[10px] text-text-muted mb-1 flex items-center gap-1",children:[o.jsx(rr,{className:"w-3 h-3"}),"Video Tracks (",B.length," videos) - Drag edges to trim, center to move"]}),o.jsxs("div",{ref:Ze,className:"relative bg-terminal-bg rounded border border-terminal-border",style:{height:`${Math.max(48,B.length*48+8)}px`},children:[Kn.map(N=>o.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-terminal-border/50",style:{left:`${N/ye*100}%`}},N)),B.map((N,z)=>{const V=Ha[z%Ha.length],K=st(N.id),ee=N.id===d,xe=N.id===yn,fe=(ue==null?void 0:ue.segmentId)===N.id,ae=I[N.id],Ee=vn[N.id],Te=(Ee==null?void 0:Ee.start)??(ae==null?void 0:ae.start)??0,Zt=(Ee==null?void 0:Ee.end)??(ae==null?void 0:ae.end)??(N.duration||0),qa=Te/ye*100,vo=(Zt-Te)/ye*100,Qn=vo<3;return o.jsxs("div",{className:"absolute group",style:{top:`${z*48+4}px`,height:"44px",left:`${qa}%`,width:`${Math.max(vo,2)}%`},children:[o.jsxs("div",{className:J("absolute inset-0 rounded transition-colors overflow-hidden","border-2 flex items-stretch",fe&&"opacity-80 z-20",ee||xe?`${V.bg} ${V.border}`:"bg-terminal-elevated/50 border-terminal-border hover:border-terminal-border-hover"),onClick:Ae=>{Ae.stopPropagation(),Sr(N.id),Fe(Ae,N.id)},children:[o.jsx("div",{className:J("absolute -left-2 top-0 bottom-0 w-5 cursor-ew-resize z-30","flex items-center justify-center","hover:bg-purple-500/40 active:bg-purple-500/60 transition-colors rounded-l"),onMouseDown:Ae=>{Ae.stopPropagation(),Ae.preventDefault(),An(N.id,Ae,"resize-start")},children:o.jsx("div",{className:"w-1.5 h-10 bg-purple-400/70 rounded group-hover:bg-purple-400 transition-colors"})}),o.jsxs("div",{className:J("flex items-center gap-1 pl-3 pr-1 py-1 shrink-0 overflow-hidden","border-r transition-colors",fe?"cursor-grabbing":"cursor-grab",ee?`${V.border} bg-black/20`:"border-terminal-border hover:bg-terminal-elevated",Qn?"max-w-[40px]":"min-w-[50px] max-w-[100px]"),onClick:Ae=>{Ae.stopPropagation(),f==null||f(N.id)},onMouseDown:Ae=>{Ae.stopPropagation(),An(N.id,Ae,"move")},title:`${N.name} (${Mr(N.duration||0)}) - Drag to move`,children:[o.jsx(rr,{className:J("w-3 h-3 shrink-0",ee?"text-purple-400":"text-text-muted")}),!Qn&&o.jsx("span",{className:J("text-[10px] truncate",ee?"text-purple-300 font-medium":"text-text-muted"),children:N.name}),!N.file_exists&&o.jsx("span",{title:"File missing",children:o.jsx(Xp,{className:"w-3 h-3 text-red-500 shrink-0"})})]}),o.jsxs("div",{className:J("relative flex-1 pr-3 overflow-hidden",fe?"cursor-grabbing":"cursor-crosshair"),onMouseDown:Ae=>{Ae.target.closest(".segment-block")||(Ae.stopPropagation(),An(N.id,Ae,"move"))},children:[K.map(Ae=>o.jsx(Tg,{segment:Ae,duration:(ae==null?void 0:ae.duration)||e,isSelected:Ae.id===j,onClick:()=>{w(Ae.id),v(((ae==null?void 0:ae.start)||0)+Ae.start_time)},onDragStart:(Vw,Iw)=>yo(Ae.id,Vw,Iw),isDragging:(Se==null?void 0:Se.segmentId)===Ae.id,previewTimes:ks[Ae.id]},Ae.id)),K.length===0&&!Qn&&o.jsx("div",{className:"absolute left-2 top-0 bottom-0 flex items-center text-text-muted/50 text-[10px] pointer-events-none",children:o.jsx("span",{children:"Click + Add to add segment"})})]}),o.jsx("div",{className:J("absolute -right-2 top-0 bottom-0 w-5 cursor-ew-resize z-30","flex items-center justify-center","hover:bg-purple-500/40 active:bg-purple-500/60 transition-colors rounded-r"),onMouseDown:Ae=>{Ae.stopPropagation(),Ae.preventDefault(),An(N.id,Ae,"resize-end")},children:o.jsx("div",{className:"w-1.5 h-10 bg-purple-400/70 rounded group-hover:bg-purple-400 transition-colors"})})]}),(xe||fe)&&o.jsxs("div",{className:"absolute -bottom-5 left-0 right-0 flex justify-between text-[9px] font-mono text-purple-400 pointer-events-none px-1",children:[o.jsx("span",{children:Mr(Te)}),o.jsx("span",{className:"text-text-muted",children:Mr(N.duration||0)}),o.jsx("span",{children:Mr(Zt)})]})]},N.id)}),o.jsxs("div",{className:J("absolute top-0 bottom-0 w-4 -translate-x-1/2 z-30 group",Ot?"cursor-grabbing":"cursor-grab"),style:{left:`${rt}%`},onMouseDown:C,children:[o.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-0.5 -translate-x-1/2 bg-accent-red shadow-glow-red-sm"}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-accent-red rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]})]})]}):o.jsxs("div",{className:"mb-1",children:[o.jsxs("div",{className:"text-[10px] text-text-muted mb-1 flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-sm bg-accent-red/50"}),"Segments",q&&G&&o.jsxs("span",{className:"text-purple-400 ml-1",children:["(",G.name,")"]})]}),o.jsxs("div",{ref:be,className:J("relative h-12 bg-terminal-bg rounded border border-terminal-border",Se?"cursor-grabbing":"cursor-crosshair"),onClick:N=>Fe(N,D||void 0),children:[Kn.map(N=>o.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-terminal-border",style:{left:`${N/ye*100}%`}},N)),(q?m.filter(N=>N.video_id===D):m).map(N=>o.jsx(Tg,{segment:N,duration:ye,isSelected:N.id===j,onClick:()=>{w(N.id),v(N.start_time)},onDragStart:(z,V)=>yo(N.id,z,V),isDragging:(Se==null?void 0:Se.segmentId)===N.id,previewTimes:ks[N.id]},N.id)),o.jsxs("div",{className:J("absolute top-0 bottom-0 w-4 -translate-x-1/2 z-30 group",Ot?"cursor-grabbing":"cursor-grab"),style:{left:`${rt}%`},onMouseDown:C,children:[o.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-0.5 -translate-x-1/2 bg-accent-red shadow-glow-red-sm"}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-accent-red rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]}),(q?m.filter(N=>N.video_id===D).length===0:m.length===0)&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-text-muted text-sm",children:"Click + Add button to add a segment"})]})]}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"text-[10px] text-text-muted mb-1 flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-sm bg-amber-500/50"}),o.jsx(Av,{className:"w-3 h-3 text-amber-400"}),"Voice Over (",Ka.length," segment",Ka.length!==1?"s":"",")",Wa.size>0&&o.jsxs("span",{className:"text-orange-400 ml-1 flex items-center gap-0.5",children:[o.jsx(pt,{className:"w-3 h-3"}),Wa.size," overlap",Wa.size!==1?"s":""]})]}),o.jsxs("div",{className:"relative h-10 bg-terminal-bg rounded border border-terminal-border overflow-hidden",children:[Kn.map(N=>o.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-terminal-border/50",style:{left:`${N/ye*100}%`}},N)),Ka.map(N=>{var xe;const z=U_(N),V=B_(N),K=Wa.get(N.id)||[],ee=q&&x==="combined"&&N.video_id&&((xe=I[N.video_id])==null?void 0:xe.start)||0;return o.jsx(K_,{segment:N,duration:ye,videoOffset:ee,isSelected:N.id===j,onClick:()=>{w(N.id),le(null),v(ee+N.start_time)},hasOvershoot:z,overshootAmount:V,overlapsWith:K},N.id)}),Ka.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-text-muted text-[10px]",children:"No segments with voice over"}),o.jsxs("div",{className:J("absolute top-0 bottom-0 w-4 -translate-x-1/2 z-30 group",Ot?"cursor-grabbing":"cursor-grab"),style:{left:`${rt}%`},onMouseDown:C,children:[o.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-0.5 -translate-x-1/2 bg-accent-red/60 shadow-glow-red-sm"}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-accent-red rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),o.jsx("div",{className:"mt-1 text-[10px] text-text-muted",children:"Click to select segment  Orange warning = audio exceeds segment  Red warning = overlaps with next"})]}),o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"text-[10px] text-text-muted mb-1 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-sm bg-teal-600/50"}),"Background Music (",i.length," track",i.length!==1?"s":"",")"]}),o.jsx("button",{onClick:()=>{var N;return(N=O.current)==null?void 0:N.click()},className:"text-[10px] text-teal-400 hover:text-teal-300 flex items-center gap-0.5",disabled:A,children:A?o.jsxs(o.Fragment,{children:[o.jsx($e,{className:"w-3 h-3 animate-spin"}),"Uploading..."]}):o.jsxs(o.Fragment,{children:[o.jsx(or,{className:"w-3 h-3"}),"Add Track"]})})]}),o.jsx("input",{ref:O,type:"file",accept:"audio/*,.mp3,.wav,.aac,.ogg,.m4a,.flac",onChange:Ss,className:"hidden",id:"bgm-upload"}),o.jsxs("div",{ref:Qt,className:J("relative bg-terminal-bg rounded border border-terminal-border transition-colors",i.length===0?"h-8":"min-h-[2.5rem]",i.length===0&&!A&&"cursor-pointer hover:border-teal-600/50"),onClick:()=>{var N;i.length===0&&!A&&((N=O.current)==null||N.click())},style:{height:Gt.length>0?`${Math.max(40,Gt.length*32+8)}px`:void 0},children:[Kn.map(N=>o.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-terminal-border/50",style:{left:`${N/ye*100}%`}},N)),Gt.length>0?Gt.map((N,z)=>o.jsx("div",{className:"absolute left-0 right-0",style:{top:`${z*32+4}px`,height:"28px"},children:o.jsx(Q_,{track:N,duration:ye,isSelected:N.id===Z,onClick:()=>{le(N.id),w(null)},onDragStart:(V,K)=>Tr(N.id,V,K),isDragging:(me==null?void 0:me.segmentId)===N.id,previewTimes:ge[N.id],onMuteToggle:()=>Wn(N.id),onVolumeChange:V=>Pr(N.id,V),onDelete:()=>Ns(N.id)})},N.id)):A?o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-teal-400 text-[10px]",children:[o.jsx($e,{className:"w-3 h-3 mr-1.5 animate-spin"}),"Uploading audio..."]}):o.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-text-muted text-[10px] hover:text-teal-400 transition-colors",children:[o.jsx(Vv,{className:"w-3 h-3 mr-1"}),"Click to add background music"]}),o.jsxs("div",{className:J("absolute top-0 bottom-0 w-4 -translate-x-1/2 z-30 group",Ot?"cursor-grabbing":"cursor-grab"),style:{left:`${rt}%`},onMouseDown:C,children:[o.jsx("div",{className:"absolute top-0 bottom-0 left-1/2 w-0.5 -translate-x-1/2 bg-accent-red/60 shadow-glow-red-sm"}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-accent-red rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),i.length>0&&o.jsx("div",{className:"mt-1 flex items-center gap-3 text-[10px] text-text-muted",children:o.jsx("span",{children:"Drag tracks to position  Hover for volume control"})})]})]})}),o.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-text-muted",children:[o.jsxs("span",{children:[m.length," segment",m.length!==1?"s":""]}),o.jsxs("span",{children:["Coverage:"," ",(m.reduce((N,z)=>N+(z.end_time-z.start_time),0)/e*100).toFixed(1),"%"]}),Se&&o.jsxs("span",{className:"text-accent-red",children:[Se.mode==="move"?"Moving":"Resizing","..."]})]})]})}function _g(e){const t=Math.floor(e/60),n=Math.floor(e%60),r=Math.floor(e%1*10);return`${t}:${n.toString().padStart(2,"0")}.${r}`}function rd(e){const t=e.match(/&H([0-9A-Fa-f]{2})?([0-9A-Fa-f]{6})/);if(!t)return"#FFFFFF";const n=t[2],r=n.substring(4,6),s=n.substring(2,4),i=n.substring(0,2);return`#${r}${s}${i}`.toUpperCase()}function sd(e,t="00"){const n=e.replace("#",""),r=n.substring(0,2),s=n.substring(2,4),i=n.substring(4,6);return`&H${t}${i}${s}${r}`.toUpperCase()}const X_=["Roboto","Open Sans","Lato","Montserrat","Poppins","Oswald","Source Sans Pro","Raleway","Ubuntu","Nunito","Merriweather","PT Sans","Noto Sans","Bebas Neue","Anton","Playfair Display"];function Y_({projectName:e,segment:t,onClose:n}){var Ns,Tr,An;const r=br(),{updateSegment:s,removeSegment:i,setCurrentTime:a}=vs(),[l,c]=p.useState(""),[u,d]=p.useState(0),[f,h]=p.useState(0),[m,y]=p.useState(""),[v,j]=p.useState("en"),[w,g]=p.useState(""),[x,b]=p.useState(!1),[k,T]=p.useState("+0%"),[R,_]=p.useState("+0%"),[L,F]=p.useState("+0Hz"),[q,Q]=p.useState(!1),[P,B]=p.useState(!1),[de,I]=p.useState(!0),[ie,D]=p.useState("Roboto"),[G,se]=p.useState(20),[E,A]=p.useState("#FFFFFF"),[U,O]=p.useState(30),[Z,le]=p.useState(!0),[me,H]=p.useState(1),[ge,ve]=p.useState(.5),[Me,yt]=p.useState("#000000"),[Qt,Gt]=p.useState(0),[Ot,We]=p.useState("#000000"),[ht,yn]=p.useState(""),[Sr,ue]=p.useState(!1),[ct,vn]=p.useState(""),{data:Nr}=St({queryKey:["google-fonts",ht,ct],queryFn:()=>HC.getGoogleFonts(),staleTime:1e3*60*60}),Pe=((Ns=Nr==null?void 0:Nr.data)==null?void 0:Ns.fonts)||[],Ze=p.useRef(null),[Xt,kr]=p.useState(!1);p.useEffect(()=>{t&&(c(t.name),d(t.start_time),h(t.end_time),y(t.text),j(t.language),g(t.voice_id),T(t.rate||"+0%"),_(t.volume||"+0%"),F(t.pitch||"+0Hz"),I(t.subtitle_enabled??!0),D(t.subtitle_font||"Roboto"),se(t.subtitle_size||20),A(rd(t.subtitle_color||"&H00FFFFFF")),O(t.subtitle_position||30),le(t.subtitle_border_enabled??!0),H(t.subtitle_border_style||1),ve(t.subtitle_outline_width||.5),yt(rd(t.subtitle_outline_color||"&H00000000")),Gt(t.subtitle_shadow||0),We(rd(t.subtitle_shadow_color||"&H80000000")))},[t]),p.useEffect(()=>()=>{Ze.current&&(Ze.current.pause(),Ze.current=null)},[]),p.useEffect(()=>{if(!ie||document.querySelector(`link[data-font="${ie}"]`))return;const be=document.createElement("link");be.href=`https://fonts.googleapis.com/css2?family=${encodeURIComponent(ie.replace(/ /g,"+"))}:wght@400;700&display=swap`,be.rel="stylesheet",be.setAttribute("data-font",ie),document.head.appendChild(be)},[ie]);const{data:Yt}=St({queryKey:["voices",v],queryFn:()=>Ys.getVoices(v),enabled:!!v}),{data:wn}=St({queryKey:["duration-estimate",m,v],queryFn:()=>Ys.estimateDuration(m,v),enabled:m.length>0}),Cr=((Tr=Yt==null?void 0:Yt.data)==null?void 0:Tr.voices)||[],ye=((An=wn==null?void 0:wn.data)==null?void 0:An.estimated_duration)||0,Je=f-u,Rn=ye<=Je*1.1,an=ye-Je,Er=kt({mutationFn:W=>li.update(e,t.id,W),onSuccess:W=>{s(t.id,W.data),re.success("Segment updated"),r.invalidateQueries({queryKey:["segments",e]})},onError:()=>{re.error("Failed to update segment")}}),bn=kt({mutationFn:()=>li.delete(e,t.id),onSuccess:()=>{i(t.id),re.success("Segment deleted"),r.invalidateQueries({queryKey:["segments",e]}),n()},onError:()=>{re.error("Failed to delete segment")}}),ws=kt({mutationFn:()=>Ys.preview(w,m.slice(0,100),k,R,L),onSuccess:W=>{Ze.current&&Ze.current.pause();const be=new Audio(W.data.audio_url);Ze.current=be,be.play(),b(!0),be.onended=()=>b(!1)},onError:()=>{re.error("Failed to generate preview")}}),bs=kt({mutationFn:()=>Vl.previewSegmentAudio({project_name:e,text:m,voice_id:w,language:v,rate:k,volume:R,pitch:L}),onSuccess:W=>{Ze.current&&Ze.current.pause();const be=new Audio(W.data.audio_url);Ze.current=be,be.play(),kr(!0),be.onended=()=>kr(!1),re.success(`Audio generated (${W.data.duration.toFixed(1)}s)`)},onError:()=>{re.error("Failed to generate segment audio")}}),js=()=>{Ze.current&&(Ze.current.pause(),Ze.current.currentTime=0),b(!1),kr(!1)},Ss=()=>{t&&Er.mutate({name:l,start_time:u,end_time:f,text:m,language:v,voice_id:w,rate:k,volume:R,pitch:L,subtitle_enabled:de,subtitle_font:ie,subtitle_size:G,subtitle_color:sd(E),subtitle_position:U,subtitle_border_enabled:Z,subtitle_border_style:me,subtitle_outline_width:ge,subtitle_outline_color:sd(Me),subtitle_shadow:Qt,subtitle_shadow_color:sd(Ot,"80")})},Wn=(()=>{let W=Pe.length>0?Pe:X_.map(be=>({family:be,category:"sans-serif",variants:[],subsets:[]}));return ct&&(W=W.filter(be=>be.category===ct)),ht&&(W=W.filter(be=>be.family.toLowerCase().includes(ht.toLowerCase()))),W})(),Pr=()=>{t&&confirm("Are you sure you want to delete this segment?")&&bn.mutate()};return t?o.jsxs(Qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"console-card overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border bg-terminal-bg/50",children:[o.jsx("h3",{className:"font-medium",children:"Edit Segment"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:Pr,disabled:bn.isPending,className:"p-2 rounded hover:bg-accent-red/20 text-text-muted hover:text-accent-red",children:o.jsx(oi,{className:"w-4 h-4"})})})]}),o.jsxs("div",{className:"p-4 space-y-4 max-h-[calc(100vh-300px)] overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Segment Name"}),o.jsx("input",{type:"text",value:l,onChange:W=>c(W.target.value),className:"input-base w-full"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Start Time"}),o.jsxs("div",{className:"relative",children:[o.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),o.jsx("input",{type:"number",step:"0.1",min:"0",value:u,onChange:W=>d(parseFloat(W.target.value)),className:"input-base w-full pl-9 font-mono"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"End Time"}),o.jsxs("div",{className:"relative",children:[o.jsx(ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),o.jsx("input",{type:"number",step:"0.1",min:"0",value:f,onChange:W=>h(parseFloat(W.target.value)),className:"input-base w-full pl-9 font-mono"})]})]})]}),o.jsx("div",{className:J("p-3 rounded-md border text-sm",Rn?"bg-green-500/10 border-green-500/30 text-green-400":"bg-yellow-500/10 border-yellow-500/30 text-yellow-400"),children:o.jsxs("div",{className:"flex items-center gap-2",children:[Rn?o.jsx(cr,{className:"w-4 h-4"}):o.jsx(pt,{className:"w-4 h-4"}),o.jsxs("span",{children:["Segment: ",_g(Je),"s | Est. Audio: ",_g(ye),"s",!Rn&&` (+${an.toFixed(1)}s overflow)`]})]})}),o.jsxs("div",{children:[o.jsxs("label",{className:"section-header",children:["Script Text",o.jsxs("span",{className:"text-text-muted ml-2",children:["(",m.split(/\s+/).filter(Boolean).length," words)"]})]}),o.jsx("textarea",{value:m,onChange:W=>y(W.target.value),rows:4,className:"input-base w-full resize-none",placeholder:"Enter the narration text for this segment..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Language"}),o.jsxs("select",{value:v,onChange:W=>{j(W.target.value),g("")},className:"input-base w-full",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"es",children:"Spanish"}),o.jsx("option",{value:"fr",children:"French"}),o.jsx("option",{value:"de",children:"German"}),o.jsx("option",{value:"it",children:"Italian"}),o.jsx("option",{value:"pt",children:"Portuguese"}),o.jsx("option",{value:"hi",children:"Hindi"}),o.jsx("option",{value:"zh",children:"Chinese"}),o.jsx("option",{value:"ja",children:"Japanese"}),o.jsx("option",{value:"ko",children:"Korean"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Voice"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:w,onChange:W=>g(W.target.value),className:"input-base flex-1",children:[o.jsx("option",{value:"",children:"Select a voice..."}),Cr.map(W=>o.jsxs("option",{value:W.short_name,children:[W.name," (",W.gender,")"]},W.short_name))]}),o.jsx("button",{onClick:()=>ws.mutate(),disabled:!w||!m||ws.isPending||x,className:"btn-secondary px-3",title:"Preview voice with sample text",children:ws.isPending||x?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(tx,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"border border-terminal-border rounded-md overflow-hidden",children:[o.jsxs("button",{onClick:()=>Q(!q),className:"w-full p-3 flex items-center justify-between bg-terminal-bg/50 hover:bg-terminal-elevated transition-colors",children:[o.jsxs("span",{className:"text-sm flex items-center gap-2",children:[o.jsx(YN,{className:"w-4 h-4 text-accent-red"}),"Voice Parameters"]}),q?o.jsx(pc,{className:"w-4 h-4 text-text-muted"}):o.jsx(so,{className:"w-4 h-4 text-text-muted"})]}),q&&o.jsxs("div",{className:"p-3 space-y-3 border-t border-terminal-border",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Rate: ",k]}),o.jsx("input",{type:"range",min:"-50",max:"100",value:parseInt(k)||0,onChange:W=>{const be=parseInt(W.target.value);T(be>=0?`+${be}%`:`${be}%`)},className:"w-full accent-accent-red"}),o.jsxs("div",{className:"flex justify-between text-[10px] text-text-muted",children:[o.jsx("span",{children:"Slow (-50%)"}),o.jsx("span",{children:"Normal"}),o.jsx("span",{children:"Fast (+100%)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Volume: ",R]}),o.jsx("input",{type:"range",min:"-50",max:"50",value:parseInt(R)||0,onChange:W=>{const be=parseInt(W.target.value);_(be>=0?`+${be}%`:`${be}%`)},className:"w-full accent-accent-red"}),o.jsxs("div",{className:"flex justify-between text-[10px] text-text-muted",children:[o.jsx("span",{children:"Quiet (-50%)"}),o.jsx("span",{children:"Normal"}),o.jsx("span",{children:"Loud (+50%)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Pitch: ",L]}),o.jsx("input",{type:"range",min:"-50",max:"50",value:parseInt(L)||0,onChange:W=>{const be=parseInt(W.target.value);F(be>=0?`+${be}Hz`:`${be}Hz`)},className:"w-full accent-accent-red"}),o.jsxs("div",{className:"flex justify-between text-[10px] text-text-muted",children:[o.jsx("span",{children:"Lower (-50Hz)"}),o.jsx("span",{children:"Normal"}),o.jsx("span",{children:"Higher (+50Hz)"})]})]})]})]}),o.jsxs("div",{className:"p-3 rounded-md border border-terminal-border bg-terminal-bg/30",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("span",{className:"text-sm flex items-center gap-2",children:[o.jsx(Fv,{className:"w-4 h-4 text-accent-red"}),"Segment Audio"]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>bs.mutate(),disabled:!m||!w||bs.isPending,className:"btn-secondary flex-1 flex items-center justify-center gap-2 text-sm",children:bs.isPending?o.jsxs(o.Fragment,{children:[o.jsx($e,{className:"w-4 h-4 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(tx,{className:"w-4 h-4"}),"Generate & Play"]})}),(x||Xt)&&o.jsx("button",{onClick:js,className:"btn-secondary px-3",title:"Stop playback",children:o.jsx(ak,{className:"w-4 h-4"})})]}),o.jsx("p",{className:"text-[10px] text-text-muted mt-2",children:"Generate and review the full TTS audio before export"})]}),o.jsxs("div",{className:"border border-terminal-border rounded-md overflow-hidden",children:[o.jsxs("button",{onClick:()=>B(!P),className:"w-full p-3 flex items-center justify-between bg-terminal-bg/50 hover:bg-terminal-elevated transition-colors",children:[o.jsxs("span",{className:"text-sm flex items-center gap-2",children:[o.jsx(lk,{className:"w-4 h-4 text-accent-red"}),"Subtitle Settings",!de&&o.jsx("span",{className:"text-[10px] text-text-muted bg-terminal-elevated px-1.5 py-0.5 rounded",children:"Disabled"})]}),P?o.jsx(pc,{className:"w-4 h-4 text-text-muted"}):o.jsx(so,{className:"w-4 h-4 text-text-muted"})]}),P&&o.jsxs("div",{className:"p-3 space-y-4 border-t border-terminal-border",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:de,onChange:W=>I(W.target.checked),className:"w-4 h-4 accent-accent-red"}),o.jsx("span",{className:"text-sm",children:"Enable subtitles for this segment"})]}),de&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Font",Pe.length>0&&o.jsxs("span",{className:"text-accent-red ml-1",children:["(",Pe.length," fonts available)"]})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>ue(!Sr),className:"input-base w-full text-left flex items-center justify-between",children:[o.jsx("span",{children:ie}),o.jsx(ik,{className:"w-4 h-4 text-text-muted"})]}),Sr&&o.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-terminal-surface border border-terminal-border rounded-md shadow-lg max-h-80 overflow-hidden",children:[o.jsxs("div",{className:"p-2 border-b border-terminal-border space-y-2",children:[o.jsx("input",{type:"text",value:ht,onChange:W=>yn(W.target.value),placeholder:"Search fonts...",className:"input-base w-full text-sm",autoFocus:!0}),o.jsxs("div",{className:"flex gap-1 flex-wrap",children:[o.jsx("button",{onClick:()=>vn(""),className:J("text-[10px] px-1.5 py-0.5 rounded",ct?"bg-terminal-elevated text-text-muted hover:text-text-primary":"bg-accent-red text-white"),children:"All"}),["sans-serif","serif","display","handwriting","monospace"].map(W=>o.jsx("button",{onClick:()=>vn(W===ct?"":W),className:J("text-[10px] px-1.5 py-0.5 rounded capitalize",ct===W?"bg-accent-red text-white":"bg-terminal-elevated text-text-muted hover:text-text-primary"),children:W},W))]})]}),o.jsxs("div",{className:"max-h-52 overflow-y-auto",children:[Wn.slice(0,100).map(W=>o.jsxs("button",{onClick:()=>{D(W.family),ue(!1),yn("")},className:J("w-full px-3 py-2 text-left text-sm hover:bg-terminal-elevated transition-colors flex items-center justify-between",W.family===ie&&"bg-accent-red/20 text-accent-red"),children:[o.jsx("span",{children:W.family}),o.jsx("span",{className:"text-[10px] text-text-muted capitalize",children:W.category})]},W.family)),Wn.length===0&&o.jsx("div",{className:"px-3 py-2 text-sm text-text-muted",children:"No fonts found. You can type a custom font name."}),Wn.length>100&&o.jsxs("div",{className:"px-3 py-2 text-xs text-text-muted text-center",children:["Showing first 100 of ",Wn.length," fonts. Use search to narrow down."]})]}),ht&&!Wn.find(W=>W.family.toLowerCase()===ht.toLowerCase())&&o.jsxs("button",{onClick:()=>{D(ht),ue(!1),yn("")},className:"w-full px-3 py-2 text-left text-sm border-t border-terminal-border hover:bg-terminal-elevated transition-colors text-accent-red",children:['Use custom font: "',ht,'"']})]})]}),o.jsx("p",{className:"text-[10px] text-text-muted mt-1",children:"Google Fonts will be auto-downloaded during export. Font must be installed for preview."})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Size: ",G,"px"]}),o.jsx("input",{type:"range",min:"10",max:"60",value:G,onChange:W=>se(parseInt(W.target.value)),className:"w-full accent-accent-red"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Position: ",U,"px"]}),o.jsx("input",{type:"range",min:"10",max:"100",value:U,onChange:W=>O(parseInt(W.target.value)),className:"w-full accent-accent-red"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-text-muted mb-1 block",children:"Text Color"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"color",value:E,onChange:W=>A(W.target.value),className:"w-10 h-8 rounded border border-terminal-border cursor-pointer"}),o.jsx("input",{type:"text",value:E,onChange:W=>A(W.target.value),className:"input-base flex-1 font-mono text-sm"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:Z,onChange:W=>le(W.target.checked),className:"w-4 h-4 accent-accent-red"}),o.jsx("span",{className:"text-xs text-text-muted",children:"Enable border/outline"})]}),Z&&o.jsxs("div",{className:"pl-6 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-text-muted mb-1 block",children:"Border Style"}),o.jsxs("select",{value:me,onChange:W=>H(parseInt(W.target.value)),className:"input-base w-full text-sm",children:[o.jsx("option",{value:1,children:"Outline + Drop Shadow"}),o.jsx("option",{value:3,children:"Opaque Box"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Outline Width: ",ge]}),o.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:ge,onChange:W=>ve(parseFloat(W.target.value)),className:"w-full accent-accent-red"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-text-muted mb-1 block",children:"Outline Color"}),o.jsx("input",{type:"color",value:Me,onChange:W=>yt(W.target.value),className:"w-full h-8 rounded border border-terminal-border cursor-pointer"})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:["Shadow Distance: ",Qt,"px"]}),o.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:Qt,onChange:W=>Gt(parseFloat(W.target.value)),className:"w-full accent-accent-red"})]}),Qt>0&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-text-muted mb-1 block",children:"Shadow Color"}),o.jsx("input",{type:"color",value:Ot,onChange:W=>We(W.target.value),className:"w-full h-8 rounded border border-terminal-border cursor-pointer"})]})]}),o.jsxs("div",{className:"p-3 rounded-md bg-black border border-terminal-border",children:[o.jsx("p",{className:"text-xs text-text-muted mb-2",children:"Preview:"}),o.jsx("p",{style:{fontFamily:ie,fontSize:`${Math.min(G,24)}px`,color:E,textShadow:Qt>0?`${Qt}px ${Qt}px ${Ot}`:"none",WebkitTextStroke:Z?`${ge}px ${Me}`:"none"},className:"text-center",children:m.slice(0,50)||"Sample subtitle text"})]})]})]})]})]}),o.jsxs("div",{className:"p-4 border-t border-terminal-border bg-terminal-bg/50 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>a(u),className:"btn-ghost text-sm",children:"Jump to Start"}),o.jsxs("button",{onClick:Ss,disabled:Er.isPending,className:"btn-primary flex items-center gap-2",children:[Er.isPending?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(sk,{className:"w-4 h-4"}),"Save Changes"]})]})]}):o.jsx("div",{className:"console-card p-6 text-center text-text-muted",children:o.jsx("p",{children:"Select a segment to edit"})})}function Z_({projectName:e,videoId:t,videoDuration:n,isOpen:r,onClose:s,videos:i=[],videoPath:a}){var Se,mi,ks,Cs,Kn,yo;const l=br(),{segments:c,setSegments:u,isGeneratingScript:d,setIsGeneratingScript:f}=vs(),h=i.length>1,[m,y]=p.useState("current"),[v,j]=p.useState(!1),[w,g]=p.useState("qwen3-vl:8b"),x=p.useMemo(()=>{if(m==="current"){const C=i.find(X=>X.id===t);return C?[C]:[]}else{if(m==="all")return i.filter(C=>C.file_exists);{const C=i.find(X=>X.id===m);return C?[C]:[]}}},[m,t,i]),b=p.useMemo(()=>{if(m==="current")return n;if(m==="all")return i.reduce((X,he)=>X+(he.duration||0),0);const C=i.find(X=>X.id===m);return(C==null?void 0:C.duration)||n},[m,n,i]),k=()=>{if(m==="current")return t;if(m!=="all")return m},[T,R]=p.useState("auto"),[_,L]=p.useState(!1),[F,q]=p.useState(null),[Q,P]=p.useState("ollama"),[B,de]=p.useState(""),[I,ie]=p.useState(""),[D,G]=p.useState(""),[se,E]=p.useState("documentary"),[A,U]=p.useState("narrative"),[O,Z]=p.useState("general"),[le,me]=p.useState("en"),[H,ge]=p.useState(""),[ve,Me]=p.useState(""),[yt,Qt]=p.useState(5),[Gt,Ot]=p.useState(30),[We,ht]=p.useState([{id:"1",startTime:0,endTime:Math.min(15,n),description:""}]),[yn,Sr]=p.useState([]),[ue,ct]=p.useState([]),[vn,Nr]=p.useState(!1),[Pe,Ze]=p.useState(null),Xt=c.length>0,kr=p.useMemo(()=>{const C=b,X=C>300?60:C>60?10:5,he=Math.floor(C/X);return Array.from({length:he+1},(Fe,rt)=>rt*X)},[b]);p.useEffect(()=>{if(T==="manual"&&Xt&&We.length===1&&!We[0].description){const C=c.map(X=>({id:X.id,startTime:X.start_time,endTime:X.end_time,description:X.text||""}));ht(C)}},[T,Xt,c]);const{data:Yt}=St({queryKey:["ollama-models"],queryFn:()=>Zr.listOllamaModels(),enabled:Q==="ollama"}),wn=((Se=Yt==null?void 0:Yt.data)==null?void 0:Se.models)||[],Cr=((mi=Yt==null?void 0:Yt.data)==null?void 0:mi.connected)??!1,{data:ye}=St({queryKey:["vision-models"],queryFn:()=>Zr.checkVisionModels(),enabled:Q==="ollama"}),Je=((ks=ye==null?void 0:ye.data)==null?void 0:ks.available)??!1,Rn=((Cs=ye==null?void 0:ye.data)==null?void 0:Cs.vision_models)||[],an=(Kn=ye==null?void 0:ye.data)==null?void 0:Kn.install_command,Er=(yo=ye==null?void 0:ye.data)==null?void 0:yo.message,bn=p.useMemo(()=>{var X;if(m==="current"){const he=i.find(Fe=>Fe.id===t);return(he==null?void 0:he.path)||a}return((X=x[0])==null?void 0:X.path)||a},[m,t,i,a,x]);p.useEffect(()=>{Q==="ollama"?wn.length>0&&de(wn[0].name):Q==="openai"?de("gpt-4-turbo-preview"):Q==="anthropic"?de("claude-3-opus-20240229"):Q==="custom"&&de("default")},[Q,wn]);const ws=()=>{const C=We[We.length-1],X=C?C.endTime:0,he=Math.min(X+15,n);if(X>=n){re.error("Cannot add more segments - video duration reached");return}ht([...We,{id:Date.now().toString(),startTime:X,endTime:he,description:""}])},bs=C=>{We.length!==1&&ht(We.filter(X=>X.id!==C))},js=(C,X,he)=>{ht(We.map(Fe=>Fe.id===C?{...Fe,[X]:he}:Fe))},Ss=(C,X,he)=>{ct(ue.map((Fe,rt)=>rt===C?{...Fe,[X]:he}:Fe))},Wn=C=>{ct(ue.filter((X,he)=>he!==C))},Pr=C=>{Xt?(q(C),L(!0)):Ns(C)},Ns=C=>{C==="auto"?W.mutate():C==="apply"&&be.mutate(),L(!1),q(null)},Tr=C=>{const X=Math.floor(C/60),he=Math.floor(C%60);return`${X}:${he.toString().padStart(2,"0")}`},An=kt({mutationFn:async()=>{const C=We.map(Fe=>({start_time:Fe.startTime,end_time:Fe.endTime,description:Fe.description})),X={type:Q,model:B,api_key:I||void 0,endpoint:Q==="custom"?D:void 0};return(await Zr.generateScript({provider:X,segments:C,style:{tone:se,style:A,audience:O,length:"moderate",language:le},fit_to_duration:!0})).data},onMutate:()=>{f(!0)},onSuccess:C=>{Sr(C.scripts),f(!1),C.all_fit?re.success("Scripts generated successfully!"):re("Some scripts may not fit their segments",{icon:""})},onError:C=>{f(!1),re.error(C.message||"Failed to generate scripts")}}),W=kt({mutationFn:async()=>{const C={type:Q,model:B,api_key:I||void 0,endpoint:Q==="custom"?D:void 0};return(await Zr.intelligentAutoSegment({provider:C,video_duration:b,video_description:H,video_title:ve||void 0,style:{tone:se,style:A,audience:O,length:"moderate",language:le},min_segment_duration:yt,max_segment_duration:Gt,max_refinement_iterations:3,stream:!1,video_path:v?bn:void 0,vision_model:v?w:void 0,use_video_analysis:v&&!!bn})).data},onMutate:()=>{f(!0),Ze({stage:"initializing",message:"Starting intelligent script generation...",progress:5,segmentCount:0,segmentsValidated:0,segmentsRefined:0,refinementAttempt:0,maxRefinements:3})},onSuccess:C=>{const X=C.segments.map(st=>({segment_index:st.segment_index,name:st.name,start_time:st.start_time,end_time:st.end_time,description:st.description,script:st.script,estimated_duration:st.estimated_duration,word_count:st.word_count,fits_duration:st.fits_duration}));ct(X),f(!1),Ze(null);const he=C.all_fit,Fe=C.total_segments,rt=C.coverage_percent;he?re.success(`${Fe} segments generated (${(rt==null?void 0:rt.toFixed(0))||0}% coverage)`):re(`${Fe} segments generated with timing adjustments`,{icon:""}),C.refinement_iterations>0&&re.success(`${C.refinement_iterations} segment(s) refined for better fit`),C.warnings&&C.warnings.length>0&&C.warnings.slice(0,3).forEach(st=>re(st,{icon:""}))},onError:C=>{f(!1),Ze(null),re.error(C.message||"Failed to auto-generate segments")}}),be=kt({mutationFn:async()=>{let C;return T==="auto"&&ue.length>0?C=ue.map(he=>({name:he.name,start_time:he.start_time,end_time:he.end_time,text:he.script,language:le})):C=yn.map((he,Fe)=>({name:`Segment ${Fe+1}`,start_time:he.start_time,end_time:he.end_time,text:he.text,language:le})),(await li.createBatch(e,C,k())).data},onSuccess:C=>{u(C.segments),l.invalidateQueries({queryKey:["segments",e]}),re.success(`${C.created} segments created!`),s()},onError:C=>{var Fe,rt,st,Lt;const X=C,he=(rt=(Fe=X==null?void 0:X.response)==null?void 0:Fe.data)==null?void 0:rt.errors;if(he&&he.length>0){const qn=he[0];re.error(`Segment ${qn.index+1} failed: ${qn.error}`)}else{const qn=((Lt=(st=X==null?void 0:X.response)==null?void 0:st.data)==null?void 0:Lt.detail)||"Failed to apply scripts";re.error(qn)}}});return r?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:s}),o.jsx(fr,{children:_&&o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute z-50 bg-terminal-surface border border-yellow-500/50 rounded-lg p-4 max-w-md mx-4 shadow-lg",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center shrink-0",children:o.jsx(pt,{className:"w-5 h-5 text-yellow-500"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-yellow-500",children:"Replace Existing Segments?"}),o.jsxs("p",{className:"text-sm text-text-muted mt-1",children:["You have ",c.length," existing segment",c.length!==1?"s":""," on the timeline. This action will replace all existing segments with the new ones."]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>{L(!1),q(null)},className:"btn-secondary text-sm",children:"Cancel"}),o.jsx("button",{onClick:()=>F&&Ns(F),className:"btn-primary bg-yellow-600 hover:bg-yellow-700 text-sm",children:"Yes, Replace"})]})]})}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-terminal-surface border border-terminal-border rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-terminal-border bg-terminal-bg/50",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-accent-red/20 flex items-center justify-center border border-accent-red/30",children:o.jsx(yc,{className:"w-5 h-5 text-accent-red"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold",children:"AI Script Generator"}),o.jsx("p",{className:"text-xs text-text-muted",children:"Generate narration scripts with AI"})]})]}),o.jsx("button",{onClick:s,className:"p-2 rounded hover:bg-terminal-elevated text-text-muted",children:o.jsx(vc,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{onClick:()=>{R("auto"),Sr([])},className:J("p-3 rounded-lg border text-sm transition-all text-left",T==="auto"?"bg-accent-red/20 border-accent-red":"bg-terminal-elevated border-terminal-border hover:border-accent-red/50"),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:J("w-5 h-5",T==="auto"?"text-accent-red":"text-text-muted")}),o.jsxs("div",{children:[o.jsx("div",{className:J("font-medium",T==="auto"?"text-accent-red":"text-text-primary"),children:"Auto-Generate Segments"}),o.jsx("div",{className:"text-[10px] text-text-muted mt-0.5",children:"Describe video, AI creates segments & scripts"})]})]})}),o.jsx("button",{onClick:()=>{R("manual"),ct([])},className:J("p-3 rounded-lg border text-sm transition-all text-left",T==="manual"?"bg-accent-red/20 border-accent-red":"bg-terminal-elevated border-terminal-border hover:border-accent-red/50"),children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tk,{className:J("w-5 h-5",T==="manual"?"text-accent-red":"text-text-muted")}),o.jsxs("div",{children:[o.jsx("div",{className:J("font-medium",T==="manual"?"text-accent-red":"text-text-primary"),children:"Define Segments Manually"}),o.jsx("div",{className:"text-[10px] text-text-muted mt-0.5",children:"Set timing yourself, AI writes scripts"})]})]})})]}),h&&o.jsxs("div",{className:"console-card p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-4 h-4 text-text-muted"}),o.jsx("span",{className:"text-sm text-text-secondary",children:"Generate scripts for:"})]}),o.jsxs("select",{value:m,onChange:C=>y(C.target.value),className:"input-base py-1 px-2 text-sm min-w-[150px]",children:[o.jsx("option",{value:"current",children:"Current Video"}),o.jsxs("option",{value:"all",children:["All Videos (",i.length,")"]}),i.map(C=>o.jsxs("option",{value:C.id,disabled:!C.file_exists,children:[C.name," (",Tr(C.duration||0),")",!C.file_exists&&" (missing)"]},C.id))]})]}),m==="all"&&o.jsxs("p",{className:"text-xs text-text-muted mt-2",children:["Total duration: ",Tr(b)," across ",x.length," video",x.length!==1?"s":""]})]}),o.jsxs("div",{className:"console-card p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("span",{className:"text-xs text-text-muted",children:["Timeline: ",Tr(b)," (",c.length," existing segment",c.length!==1?"s":"",")"]}),Xt&&o.jsxs("span",{className:"text-xs text-yellow-500 flex items-center gap-1",children:[o.jsx(pt,{className:"w-3 h-3"}),"New segments will replace existing"]})]}),o.jsxs("div",{className:"relative h-8 bg-terminal-bg rounded border border-terminal-border",children:[kr.map(C=>o.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-terminal-border/50",style:{left:`${C/b*100}%`}},C)),c.map(C=>o.jsx("div",{className:"absolute top-1 bottom-1 bg-accent-red/30 border border-accent-red/50 rounded",style:{left:`${C.start_time/b*100}%`,width:`${(C.end_time-C.start_time)/b*100}%`,minWidth:"4px"},title:`${C.name}: ${C.start_time.toFixed(1)}s - ${C.end_time.toFixed(1)}s`},C.id)),ue.map((C,X)=>o.jsx("div",{className:"absolute top-1 bottom-1 bg-green-500/30 border border-green-500/50 rounded",style:{left:`${C.start_time/b*100}%`,width:`${(C.end_time-C.start_time)/b*100}%`,minWidth:"4px"},title:`${C.name}: ${C.start_time.toFixed(1)}s - ${C.end_time.toFixed(1)}s`},`auto-${X}`)),c.length===0&&ue.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-text-muted text-[10px]",children:"No segments defined yet"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-[10px] text-text-muted",children:[Xt&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-2 bg-accent-red/30 border border-accent-red/50 rounded"}),o.jsx("span",{children:"Existing"})]}),ue.length>0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-3 h-2 bg-green-500/30 border border-green-500/50 rounded"}),o.jsx("span",{children:"Generated (preview)"})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:["ollama","openai","anthropic","custom"].map(C=>o.jsxs("button",{onClick:()=>P(C),className:J("p-3 rounded-lg border text-sm transition-all",Q===C?"bg-accent-red/20 border-accent-red text-accent-red":"bg-terminal-elevated border-terminal-border text-text-secondary hover:border-accent-red/50"),children:[o.jsx("div",{className:"font-medium capitalize",children:C}),o.jsxs("div",{className:"text-[10px] text-text-muted mt-0.5",children:[C==="ollama"&&"Local AI",C==="openai"&&"GPT-4",C==="anthropic"&&"Claude",C==="custom"&&"Custom API"]})]},C))}),o.jsxs("div",{className:"console-card p-4",children:[Q==="ollama"&&o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Ollama Model"}),Cr?o.jsx("select",{value:B,onChange:C=>de(C.target.value),className:"input-base w-full",children:wn.map(C=>o.jsxs("option",{value:C.name,children:[C.name," (",C.size,")"]},C.name))}):o.jsxs("div",{className:"flex items-center gap-2 text-yellow-500 text-sm",children:[o.jsx(pt,{className:"w-4 h-4"}),o.jsxs("span",{children:["Ollama not running. Start with: ",o.jsx("code",{className:"bg-terminal-bg px-1 rounded",children:"ollama serve"})]})]})]}),(Q==="openai"||Q==="anthropic")&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"API Key"}),o.jsx("input",{type:"password",value:I,onChange:C=>ie(C.target.value),placeholder:`Enter your ${Q} API key`,className:"input-base w-full font-mono"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Model"}),o.jsxs("select",{value:B,onChange:C=>de(C.target.value),className:"input-base w-full",children:[Q==="openai"&&o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"}),o.jsx("option",{value:"gpt-4",children:"GPT-4"}),o.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"})]}),Q==="anthropic"&&o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"claude-3-opus-20240229",children:"Claude 3 Opus"}),o.jsx("option",{value:"claude-3-sonnet-20240229",children:"Claude 3 Sonnet"}),o.jsx("option",{value:"claude-3-haiku-20240307",children:"Claude 3 Haiku"})]})]})]})]}),Q==="custom"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Endpoint URL"}),o.jsx("input",{type:"text",value:D,onChange:C=>G(C.target.value),placeholder:"https://your-api.com/v1",className:"input-base w-full font-mono"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"API Key (optional)"}),o.jsx("input",{type:"password",value:I,onChange:C=>ie(C.target.value),placeholder:"API key if required",className:"input-base w-full font-mono"})]})]})]}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>Nr(!vn),className:"flex items-center gap-2 text-sm text-text-muted hover:text-text-primary mb-3",children:[o.jsx(Gc,{className:"w-4 h-4"}),o.jsx("span",{children:"Style Settings"}),o.jsx(so,{className:J("w-4 h-4 transition-transform",vn&&"rotate-180")})]}),o.jsx(fr,{children:vn&&o.jsx(Qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 console-card p-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Tone"}),o.jsxs("select",{value:se,onChange:C=>E(C.target.value),className:"input-base w-full",children:[o.jsx("option",{value:"documentary",children:"Documentary"}),o.jsx("option",{value:"professional",children:"Professional"}),o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"dramatic",children:"Dramatic"}),o.jsx("option",{value:"educational",children:"Educational"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Style"}),o.jsxs("select",{value:A,onChange:C=>U(C.target.value),className:"input-base w-full",children:[o.jsx("option",{value:"narrative",children:"Narrative"}),o.jsx("option",{value:"conversational",children:"Conversational"}),o.jsx("option",{value:"instructional",children:"Instructional"}),o.jsx("option",{value:"storytelling",children:"Storytelling"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Audience"}),o.jsxs("select",{value:O,onChange:C=>Z(C.target.value),className:"input-base w-full",children:[o.jsx("option",{value:"general",children:"General"}),o.jsx("option",{value:"technical",children:"Technical"}),o.jsx("option",{value:"children",children:"Children"}),o.jsx("option",{value:"business",children:"Business"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Language"}),o.jsxs("select",{value:le,onChange:C=>me(C.target.value),className:"input-base w-full",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"es",children:"Spanish"}),o.jsx("option",{value:"fr",children:"French"}),o.jsx("option",{value:"de",children:"German"}),o.jsx("option",{value:"hi",children:"Hindi"})]})]})]})})})]}),T==="auto"&&o.jsxs("div",{className:"space-y-4",children:[Q==="ollama"&&o.jsxs("div",{className:J("console-card p-4 border-l-4",Je?"border-l-green-500":"border-l-yellow-500"),children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:J("w-10 h-10 rounded-lg flex items-center justify-center",Je?"bg-green-500/20":"bg-yellow-500/20"),children:o.jsx(GN,{className:J("w-5 h-5",Je?"text-green-500":"text-yellow-500")})}),o.jsxs("div",{children:[o.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:["AI Video Analysis",o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-accent-red/20 text-accent-red",children:"Experimental"})]}),o.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:Je?"Let AI watch and understand your video content automatically":"Install a vision model to enable AI video understanding"})]})]}),Je&&bn&&o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:v,onChange:C=>j(C.target.checked),className:"w-4 h-4 rounded border-terminal-border bg-terminal-bg text-accent-red focus:ring-accent-red"}),o.jsx("span",{className:"text-sm",children:"Enable"})]})]}),!Je&&an&&o.jsxs("div",{className:"mt-3 p-3 bg-terminal-bg rounded-lg",children:[o.jsx("p",{className:"text-xs text-text-muted mb-2",children:Er}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"flex-1 text-xs bg-terminal-elevated px-2 py-1.5 rounded font-mono text-accent-red",children:an}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(an),re.success("Command copied!")},className:"btn-secondary text-xs py-1 px-2",children:"Copy"})]}),o.jsx("p",{className:"text-[10px] text-text-muted mt-2",children:"Run this command in your terminal, then refresh this page."})]}),Je&&v&&o.jsxs("div",{className:"mt-3 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-text-muted",children:"Vision Model"}),o.jsx("select",{value:w,onChange:C=>g(C.target.value),className:"input-base w-full text-sm mt-1",children:Rn.map(C=>o.jsxs("option",{value:C.name,children:[C.name," (",C.size,")"]},C.name))})]}),o.jsxs("div",{className:"text-xs text-text-muted",children:[o.jsx(io,{className:"w-4 h-4 inline mr-1"}),bn?"Video ready":"No video path"]})]}),o.jsxs("p",{className:"text-xs text-text-muted bg-terminal-bg p-2 rounded",children:[o.jsx("strong",{children:"How it works:"})," AI will extract frames from your video, analyze the visual content, and use this understanding to generate more accurate and contextual scripts. This adds ~30-60s to generation time."]})]}),Je&&!bn&&o.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-yellow-500",children:[o.jsx(pt,{className:"w-4 h-4"}),o.jsx("span",{children:"Video path not available. Video analysis requires access to the video file."})]})]}),o.jsxs("div",{className:"console-card p-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Video Title (optional)"}),o.jsx("input",{type:"text",value:ve,onChange:C=>Me(C.target.value),placeholder:"e.g., Product Demo, Travel Vlog, Tutorial...",className:"input-base w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"section-header",children:["Video Description ",o.jsx("span",{className:"text-accent-red",children:"*"}),v&&o.jsx("span",{className:"text-xs text-green-500 ml-2 font-normal",children:"+ AI will enhance with video analysis"})]}),o.jsx("textarea",{value:H,onChange:C=>ge(C.target.value),placeholder:v?"Provide a brief description or context. AI will analyze the video to understand the visual content automatically...":"Describe what happens in your video from start to finish. Be specific about key moments, transitions, and what should be narrated. The AI will use this to create optimal segment breakdowns with scripts...",rows:v?3:5,className:"input-base w-full text-sm resize-none"}),o.jsxs("p",{className:"text-xs text-text-muted mt-1",children:["Video duration: ",b.toFixed(1),"s (",(b/60).toFixed(1)," min)"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Min Segment Duration"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:"3",max:Gt,value:yt,onChange:C=>Qt(Number(C.target.value)),className:"input-base w-20 font-mono"}),o.jsx("span",{className:"text-xs text-text-muted",children:"seconds"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Max Segment Duration"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",min:yt,max:"120",value:Gt,onChange:C=>Ot(Number(C.target.value)),className:"input-base w-20 font-mono"}),o.jsx("span",{className:"text-xs text-text-muted",children:"seconds"})]})]})]})]})]}),T==="manual"&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"section-header mb-0",children:"Segment Descriptions"}),o.jsx("button",{onClick:ws,className:"btn-secondary text-xs py-1 px-2",children:"+ Add Segment"})]}),o.jsx("div",{className:"space-y-3",children:We.map((C,X)=>o.jsx(Qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"console-card p-3",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded bg-accent-red/20 flex items-center justify-center text-accent-red font-mono text-sm shrink-0",children:X+1}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted mb-1",children:[o.jsx(ya,{className:"w-3 h-3"}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:C.startTime,onChange:he=>js(C.id,"startTime",parseFloat(he.target.value)),className:"w-16 input-base py-0.5 px-1 text-xs font-mono"}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",step:"0.5",min:"0",value:C.endTime,onChange:he=>js(C.id,"endTime",parseFloat(he.target.value)),className:"w-16 input-base py-0.5 px-1 text-xs font-mono"}),o.jsxs("span",{className:"text-text-disabled",children:["(",(C.endTime-C.startTime).toFixed(1),"s)"]})]})}),We.length>1&&o.jsx("button",{onClick:()=>bs(C.id),className:"p-1 text-text-muted hover:text-accent-red",children:o.jsx(vc,{className:"w-4 h-4"})})]}),o.jsx("textarea",{value:C.description,onChange:he=>js(C.id,"description",he.target.value),placeholder:"Describe what happens in this segment...",rows:2,className:"input-base w-full text-sm resize-none"})]})]})},C.id))})]}),d&&Pe&&o.jsxs(Qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"console-card p-4 border-l-4 border-l-accent-red",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx($e,{className:"w-5 h-5 text-accent-red animate-spin"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-sm",children:Pe.message}),Pe.detail&&o.jsx("p",{className:"text-xs text-text-muted mt-0.5",children:Pe.detail})]}),o.jsxs("span",{className:"text-xs text-text-muted font-mono",children:[Pe.progress,"%"]})]}),o.jsx("div",{className:"h-2 bg-terminal-bg rounded-full overflow-hidden mb-3",children:o.jsx(Qe.div,{className:"h-full bg-accent-red",initial:{width:0},animate:{width:`${Pe.progress}%`},transition:{duration:.3}})}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-text-muted",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:J("w-2 h-2 rounded-full",Pe.stage==="analyzing_video"||Pe.stage==="crafting_prompt"?"bg-accent-red animate-pulse":Pe.progress>15?"bg-green-500":"bg-terminal-border")}),o.jsx("span",{children:"Analyze"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:J("w-2 h-2 rounded-full",Pe.stage==="generating"?"bg-accent-red animate-pulse":Pe.progress>50?"bg-green-500":"bg-terminal-border")}),o.jsx("span",{children:"Generate"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:J("w-2 h-2 rounded-full",Pe.stage==="validating"?"bg-accent-red animate-pulse":Pe.progress>65?"bg-green-500":"bg-terminal-border")}),o.jsx("span",{children:"Validate"})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("div",{className:J("w-2 h-2 rounded-full",Pe.stage==="refining"?"bg-accent-red animate-pulse":Pe.progress>90?"bg-green-500":"bg-terminal-border")}),o.jsx("span",{children:"Refine"})]})]}),Pe.stage==="refining"&&Pe.refinementAttempt>0&&o.jsxs("div",{className:"mt-2 text-xs text-yellow-500 flex items-center gap-1",children:[o.jsx(Fl,{className:"w-3 h-3"}),o.jsxs("span",{children:["Refinement pass ",Pe.refinementAttempt,"/",Pe.maxRefinements]})]})]}),T==="auto"&&ue.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wf,{className:"w-4 h-4 text-accent-red"}),o.jsx("label",{className:"section-header mb-0",children:"Generated Segments & Scripts"}),o.jsx("span",{className:"text-xs text-text-muted",children:"(editable)"})]}),o.jsxs("button",{onClick:()=>{const C=ue[ue.length-1],X=C?C.end_time:0,he=Math.min(X+15,n);X<n&&ct([...ue,{segment_index:ue.length,name:`Segment ${ue.length+1}`,start_time:X,end_time:he,description:"",script:"",word_count:0,estimated_duration:0,fits_duration:!0}])},className:"btn-secondary text-xs py-1 px-2 flex items-center gap-1",children:[o.jsx(or,{className:"w-3 h-3"}),"Add Segment"]})]}),o.jsx("div",{className:"space-y-3",children:ue.map((C,X)=>o.jsxs(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:X*.05},className:J("console-card p-3 border-l-4",C.fits_duration?"border-l-green-500":"border-l-yellow-500"),children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsx("div",{className:"w-8 h-8 rounded bg-green-500/20 flex items-center justify-center text-green-500 font-mono text-sm shrink-0",children:X+1}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[o.jsx("input",{type:"text",value:C.name,onChange:he=>Ss(X,"name",he.target.value),className:"input-base py-1 px-2 text-sm font-medium w-40",placeholder:"Segment name"}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[o.jsx(ya,{className:"w-3 h-3"}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:n,value:C.start_time,onChange:he=>Ss(X,"start_time",parseFloat(he.target.value)||0),className:"w-16 input-base py-0.5 px-1 text-xs font-mono"}),o.jsx("span",{children:""}),o.jsx("input",{type:"number",step:"0.5",min:"0",max:n,value:C.end_time,onChange:he=>Ss(X,"end_time",parseFloat(he.target.value)||0),className:"w-16 input-base py-0.5 px-1 text-xs font-mono"}),o.jsxs("span",{className:"text-text-disabled",children:["(",(C.end_time-C.start_time).toFixed(1),"s)"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted ml-auto",children:[o.jsxs("span",{children:[C.word_count," words"]}),o.jsxs("span",{children:["~",C.estimated_duration.toFixed(1),"s"]}),C.fits_duration?o.jsx(cr,{className:"w-4 h-4 text-green-500"}):o.jsx("span",{title:"Script may not fit duration",children:o.jsx(pt,{className:"w-4 h-4 text-yellow-500"})})]}),ue.length>1&&o.jsx("button",{onClick:()=>Wn(X),className:"p-1 text-text-muted hover:text-accent-red transition-colors",title:"Remove segment",children:o.jsx(oi,{className:"w-4 h-4"})})]})})]}),o.jsxs("div",{className:"ml-11",children:[o.jsx("textarea",{value:C.script,onChange:he=>{const Fe=he.target.value,rt=Fe.trim().split(/\s+/).filter(Boolean).length,st=rt/2.5;ct(ue.map((Lt,qn)=>qn===X?{...Lt,script:Fe,word_count:rt,estimated_duration:st,fits_duration:st<=Lt.end_time-Lt.start_time}:Lt))},placeholder:"Enter narration script for this segment...",rows:3,className:"input-base w-full text-sm resize-none"}),C.description&&o.jsxs("p",{className:"text-xs text-text-muted italic mt-1 flex items-center gap-1",children:[o.jsx(rk,{className:"w-3 h-3"}),"AI suggestion: ",C.description]})]})]},X))})]}),T==="manual"&&yn.length>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(wf,{className:"w-4 h-4 text-accent-red"}),o.jsx("label",{className:"section-header mb-0",children:"Generated Scripts"})]}),o.jsx("div",{className:"space-y-3",children:yn.map((C,X)=>o.jsxs(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:X*.1},className:J("console-card p-3 border-l-4",C.fits_duration?"border-l-green-500":"border-l-yellow-500"),children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-text-muted mb-2",children:[o.jsxs("span",{children:["Segment ",C.segment_index+1]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{children:[C.word_count," words"]}),o.jsxs("span",{children:["~",C.estimated_duration.toFixed(1),"s"]}),C.fits_duration?o.jsx(cr,{className:"w-4 h-4 text-green-500"}):o.jsx(pt,{className:"w-4 h-4 text-yellow-500"})]})]}),o.jsx("p",{className:"text-sm",children:C.text})]},X))})]})]}),o.jsxs("div",{className:"p-4 border-t border-terminal-border bg-terminal-bg/50 flex items-center justify-between",children:[o.jsx("div",{className:"text-xs text-text-muted",children:T==="auto"?ue.length>0?o.jsxs(o.Fragment,{children:[ue.length," segment",ue.length!==1?"s":""," "," ",ue.reduce((C,X)=>C+(X.end_time-X.start_time),0).toFixed(1),"s total"]}):o.jsxs(o.Fragment,{children:["Video: ",b.toFixed(1),"s"]}):o.jsxs(o.Fragment,{children:[We.length," segment",We.length!==1?"s":""," "," ",We.reduce((C,X)=>C+(X.endTime-X.startTime),0).toFixed(1),"s total"]})}),o.jsxs("div",{className:"flex items-center gap-2",children:[T==="auto"&&o.jsxs(o.Fragment,{children:[ue.length>0&&o.jsxs("button",{onClick:()=>Pr("auto"),disabled:d,className:"btn-secondary flex items-center gap-2",children:[o.jsx(Fl,{className:"w-4 h-4"}),"Regenerate"]}),ue.length===0?o.jsxs("button",{onClick:()=>Pr("auto"),disabled:d||!H.trim()||Q==="ollama"&&!Cr,className:"btn-primary flex items-center gap-2",children:[d?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(nx,{className:"w-4 h-4"}),"Auto-Generate Segments"]}):o.jsxs("button",{onClick:()=>Pr("apply"),disabled:be.isPending,className:"btn-primary flex items-center gap-2",children:[be.isPending?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(rx,{className:"w-4 h-4"}),"Apply to Timeline"]})]}),T==="manual"&&o.jsxs(o.Fragment,{children:[yn.length>0&&o.jsxs("button",{onClick:()=>An.mutate(),disabled:d,className:"btn-secondary flex items-center gap-2",children:[o.jsx(Fl,{className:"w-4 h-4"}),"Regenerate"]}),yn.length===0?o.jsxs("button",{onClick:()=>An.mutate(),disabled:d||We.some(C=>!C.description.trim())||Q==="ollama"&&!Cr,className:"btn-primary flex items-center gap-2",children:[d?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(nx,{className:"w-4 h-4"}),"Generate Scripts"]}):o.jsxs("button",{onClick:()=>Pr("apply"),disabled:be.isPending,className:"btn-primary flex items-center gap-2",children:[be.isPending?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(rx,{className:"w-4 h-4"}),"Apply to Timeline"]})]})]})]})]})]}):null}function J_({projectName:e,videos:t,activeVideoId:n,onRefresh:r}){const[s,i]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(!1),h=t.filter(g=>!g.file_exists),m=h.length>0,y=kt({mutationFn:g=>$t.setActiveVideo(e,g),onSuccess:()=>{re.success("Active video changed"),r()},onError:()=>re.error("Failed to change active video")}),v=kt({mutationFn:g=>$t.removeVideo(e,g),onSuccess:()=>{re.success("Video removed"),u(null),r()},onError:()=>re.error("Failed to remove video")}),j=async g=>{var b;const x=(b=g.target.files)==null?void 0:b[0];if(x){f(!0);try{const T=(await Qh.upload(x)).data.path;await $t.addVideo(e,T,x.name.replace(/\.[^/.]+$/,"")),re.success("Video added to project"),l(!1),r()}catch{re.error("Failed to add video")}finally{f(!1)}}},w=[...t].sort((g,x)=>g.order-x.order);return o.jsxs("div",{className:"border-b border-terminal-border bg-terminal-surface",children:[o.jsxs("div",{onClick:()=>i(!s),className:"w-full px-4 py-2 flex items-center justify-between hover:bg-terminal-elevated transition-colors cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rr,{className:"w-4 h-4 text-accent-red"}),o.jsxs("span",{className:"text-sm font-medium",children:["Videos (",t.length,")"]}),m&&o.jsxs("span",{className:"flex items-center gap-1 text-xs text-yellow-500",children:[o.jsx(pt,{className:"w-3 h-3"}),h.length," missing"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:g=>{g.stopPropagation(),l(!0)},className:"p-1 rounded hover:bg-terminal-bg text-text-muted hover:text-accent-red",title:"Add video",children:o.jsx(or,{className:"w-4 h-4"})}),s?o.jsx(pc,{className:"w-4 h-4 text-text-muted"}):o.jsx(so,{className:"w-4 h-4 text-text-muted"})]})]}),o.jsx(fr,{children:s&&o.jsx(Qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:o.jsx("div",{className:"px-4 pb-3 space-y-2",children:w.map(g=>o.jsxs("div",{className:J("flex items-center gap-3 p-2 rounded border transition-colors",g.id===n?"bg-accent-red/10 border-accent-red/50":"bg-terminal-bg border-terminal-border hover:border-terminal-border-hover",!g.file_exists&&"border-yellow-500/50"),children:[o.jsx(Mv,{className:"w-4 h-4 text-text-muted cursor-grab"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Yp,{className:J("w-4 h-4",g.file_exists?"text-accent-red":"text-yellow-500")}),o.jsx("span",{className:"text-sm font-medium truncate",children:g.name}),g.id===n&&o.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-accent-red text-white",children:"Active"})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-xs text-text-muted",children:[g.duration&&o.jsxs("span",{children:[Math.floor(g.duration/60),":",String(Math.floor(g.duration%60)).padStart(2,"0")]}),g.orientation&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-terminal-border",children:""}),o.jsx("span",{children:g.orientation})]}),o.jsx("span",{className:"text-terminal-border",children:""}),o.jsxs("span",{children:[g.segments_count," segments"]}),!g.file_exists&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-terminal-border",children:""}),o.jsx("span",{className:"text-yellow-500",children:"File missing"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[g.id!==n&&g.file_exists&&o.jsx("button",{onClick:()=>y.mutate(g.id),disabled:y.isPending,className:"p-1.5 rounded hover:bg-terminal-elevated text-text-muted hover:text-accent-red text-xs",title:"Set as active",children:o.jsx(cr,{className:"w-3 h-3"})}),t.length>1&&o.jsx("button",{onClick:()=>u(g),className:"p-1.5 rounded hover:bg-red-500/20 text-text-muted hover:text-red-500",title:"Remove video",children:o.jsx(oi,{className:"w-3 h-3"})})]})]},g.id))})})}),o.jsx(fr,{children:a&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:()=>!d&&l(!1)}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-terminal-surface border border-terminal-border rounded-lg w-full max-w-md mx-4 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(or,{className:"w-5 h-5 text-accent-red"}),"Add Video to Project"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"border-2 border-dashed border-terminal-border rounded-lg p-8 text-center hover:border-accent-red/50 transition-colors cursor-pointer",onClick:()=>{var g;return(g=document.getElementById("add-video-input"))==null?void 0:g.click()},children:d?o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx($e,{className:"w-8 h-8 animate-spin text-accent-red"}),o.jsx("span",{className:"text-sm text-text-muted",children:"Uploading video..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Yp,{className:"w-10 h-10 mx-auto text-text-muted mb-2"}),o.jsx("p",{className:"text-sm text-text-muted",children:"Click to select video file"}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"MP4, MOV, AVI, MKV, WebM"})]})}),o.jsx("input",{id:"add-video-input",type:"file",accept:"video/*",onChange:j,className:"hidden",disabled:d})]}),o.jsx("div",{className:"flex justify-end gap-2 mt-6",children:o.jsx("button",{onClick:()=>l(!1),disabled:d,className:"btn-secondary",children:"Cancel"})})]})]})}),o.jsx(fr,{children:c&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:()=>u(null)}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-terminal-surface border border-terminal-border rounded-lg w-full max-w-md mx-4 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(pt,{className:"w-5 h-5 text-red-500"}),"Remove Video"]}),o.jsxs("p",{className:"text-sm text-text-muted mb-2",children:["Are you sure you want to remove ",o.jsx("strong",{className:"text-text-primary",children:c.name})," from this project?"]}),c.segments_count>0&&o.jsx("div",{className:"p-3 rounded bg-red-500/10 border border-red-500/30 mb-4",children:o.jsxs("p",{className:"text-sm text-red-400",children:["This video has ",c.segments_count," segment",c.segments_count>1?"s":""," that will also be removed."]})}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>u(null),className:"btn-secondary",children:"Cancel"}),o.jsxs("button",{onClick:()=>v.mutate(c.id),disabled:v.isPending,className:"btn-primary bg-red-600 hover:bg-red-700 flex items-center gap-2",children:[v.isPending&&o.jsx($e,{className:"w-4 h-4 animate-spin"}),"Remove"]})]})]})]})})]})}function e3({isOpen:e,onClose:t,projectName:n,backgroundMusicPath:r,videoCount:s=1}){const[i,a]=p.useState("balanced"),[l,c]=p.useState(!0),[u,d]=p.useState(null),[f,h]=p.useState(!1),[m,y]=p.useState(""),[v,j]=p.useState(""),[w,g]=p.useState(!1),{exportProgress:x,setExportProgress:b,isExporting:k,setIsExporting:T}=vs(),[R,_]=p.useState(!1),[L,F]=p.useState(null),[q,Q]=p.useState(!1),[P,B]=p.useState({connected:!1,checking:!0,mode:null,error:null});p.useEffect(()=>{e&&!k&&(B(A=>({...A,checking:!0,error:null})),Ys.checkConnectivity().then(A=>{const U=A.data,O=U.direct_connection||U.proxy_connection,Z=U.direct_connection?"direct":U.proxy_connection?"proxy":null;B({connected:O,checking:!1,mode:Z,error:O?null:"TTS service unavailable"})}).catch(A=>{B({connected:!1,checking:!1,mode:null,error:A.message||"Failed to check TTS connectivity"})}))},[e,k]);const de=()=>{B(A=>({...A,checking:!0,error:null})),Ys.checkConnectivity().then(A=>{const U=A.data,O=U.direct_connection||U.proxy_connection,Z=U.direct_connection?"direct":U.proxy_connection?"proxy":null;B({connected:O,checking:!1,mode:Z,error:O?null:"TTS service unavailable"}),O&&re.success("TTS service connected!")}).catch(A=>{B({connected:!1,checking:!1,mode:null,error:A.message||"Failed to check TTS connectivity"})})};p.useEffect(()=>{e&&Vl.getOutputDir().then(A=>{y(A.data.output_dir)}).catch(()=>{})},[e]),p.useEffect(()=>{e&&!k&&(h(!0),g(!1),li.validate(n).then(A=>{d(A.data)}).catch(()=>{re.error("Failed to validate timeline")}).finally(()=>{h(!1)}))},[e,n,k]);const I=async A=>{Q(!0);try{const U=await Vl.browseDirectories(A);F({currentPath:U.data.current_path,parentPath:U.data.parent_path,directories:U.data.directories,canGoUp:U.data.can_go_up})}catch{re.error("Failed to load directories")}finally{Q(!1)}},ie=()=>{_(!0),I(m)},D=()=>{L&&(y(L.currentPath),_(!1))},G=kt({mutationFn:async()=>{const A=await Vl.start({project_name:n,config:{quality:i,include_subtitles:l,output_path:m||void 0,output_filename:v||void 0},export_type:s>1?"combined":"single"});A.data.output_path&&y(A.data.output_path);const U=new WebSocket(`${c1}/api/v1/export/progress/${A.data.export_id}`);return U.onopen=()=>{console.log("WebSocket connected for export progress")},U.onmessage=O=>{try{const Z=JSON.parse(O.data);console.log("Export progress:",Z),b(Z),Z.output_path&&y(Z.output_path),Z.stage==="completed"?(re.success("Export completed!"),T(!1),g(!0),U.close()):Z.stage==="error"&&(re.error(Z.message||"Export failed"),T(!1),U.close())}catch{O.data==="ping"&&U.send("pong")}},U.onerror=O=>{console.error("WebSocket error:",O),re.error("Connection error - check if export is running")},U.onclose=()=>{console.log("WebSocket closed")},A.data},onMutate:()=>{T(!0),g(!1),b({stage:"starting",message:"Starting export...",progress:0})},onError:()=>{T(!1),re.error("Failed to start export")}}),se=A=>({preprocessing:"Preprocessing",fonts:"Checking Fonts",tts:"Generating Audio",segments:"Processing Video",combining:"Combining",bgm:"Background Music",cleanup:"Cleanup",completed:"Completed",error:"Error"})[A]||A;if(!e)return null;const E=x;return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:k?void 0:t}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative bg-terminal-surface border border-terminal-border rounded-lg w-full max-w-lg mx-4 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(vf,{className:"w-5 h-5 text-accent-red"}),"Export Video"]}),o.jsx(fr,{children:R&&o.jsxs(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-terminal-surface rounded-lg z-10 p-4 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[o.jsx(Zp,{className:"w-4 h-4 text-accent-red"}),"Select Output Directory"]}),o.jsx("button",{onClick:()=>_(!1),className:"text-text-muted hover:text-text-primary",children:"Cancel"})]}),o.jsx("div",{className:"p-2 rounded bg-terminal-bg border border-terminal-border mb-3 font-mono text-xs break-all",children:(L==null?void 0:L.currentPath)||"Loading..."}),o.jsx("div",{className:"flex-1 overflow-y-auto border border-terminal-border rounded bg-terminal-bg",children:q?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx($e,{className:"w-5 h-5 animate-spin text-accent-red"})}):o.jsxs("div",{className:"divide-y divide-terminal-border",children:[(L==null?void 0:L.canGoUp)&&o.jsxs("button",{onClick:()=>I(L.parentPath||void 0),className:"w-full p-2 text-left hover:bg-terminal-elevated flex items-center gap-2 text-sm",children:[o.jsx(pc,{className:"w-4 h-4 text-text-muted"}),o.jsx("span",{className:"text-text-muted",children:".."})]}),L==null?void 0:L.directories.map(A=>o.jsxs("button",{onClick:()=>I(`${L.currentPath}/${A}`),className:"w-full p-2 text-left hover:bg-terminal-elevated flex items-center gap-2 text-sm",children:[o.jsx(XN,{className:"w-4 h-4 text-accent-red"}),o.jsx("span",{children:A})]},A)),(L==null?void 0:L.directories.length)===0&&o.jsx("div",{className:"p-4 text-center text-text-muted text-sm",children:"No subdirectories"})]})}),o.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>_(!1),className:"btn-secondary",children:"Cancel"}),o.jsxs("button",{onClick:D,className:"btn-primary flex items-center gap-2",children:[o.jsx(cr,{className:"w-4 h-4"}),"Select This Directory"]})]})]})}),w?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-green-400",children:[o.jsx(cr,{className:"w-6 h-6"}),o.jsx("span",{className:"font-medium",children:"Export Completed!"})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-terminal-bg border border-terminal-border",children:[o.jsx("p",{className:"text-xs text-text-muted mb-1",children:"Output saved to:"}),o.jsx("p",{className:"text-sm font-mono break-all text-accent-red",children:m})]}),o.jsx("div",{className:"flex justify-end gap-2 mt-4",children:o.jsx("button",{onClick:t,className:"btn-primary",children:"Done"})})]}):k?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx($e,{className:"w-5 h-5 animate-spin text-accent-red"}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:se((E==null?void 0:E.stage)||"")}),(E==null?void 0:E.current_step)&&(E==null?void 0:E.total_steps)&&o.jsxs("span",{className:"text-text-muted ml-2",children:["(",E.current_step,"/",E.total_steps,")"]})]})]}),o.jsxs("div",{className:"p-3 rounded-lg bg-terminal-bg border border-terminal-border text-sm",children:[o.jsx("p",{children:(E==null?void 0:E.message)||"Processing..."}),(E==null?void 0:E.current_segment)&&o.jsxs("p",{className:"text-text-muted mt-1",children:["Segment: ",o.jsx("span",{className:"text-accent-red",children:E.current_segment})]}),(E==null?void 0:E.current_voice)&&o.jsxs("p",{className:"text-text-muted",children:["Voice: ",o.jsx("span",{className:"text-text-primary",children:E.current_voice})]}),(E==null?void 0:E.detail)&&o.jsx("p",{className:"text-xs text-text-muted mt-2 font-mono",children:E.detail})]}),o.jsx("div",{className:"loading-bar",children:o.jsx("div",{className:"loading-bar-fill transition-all duration-300",style:{width:`${(E==null?void 0:E.progress)||0}%`}})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-text-muted",children:[o.jsxs("span",{children:[(E==null?void 0:E.progress)||0,"% complete"]}),(E==null?void 0:E.eta_formatted)&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ya,{className:"w-3 h-3"}),"ETA: ",E.eta_formatted]}),(E==null?void 0:E.processing_speed)&&E.processing_speed>0&&o.jsxs("span",{className:"text-xs font-mono",children:[E.processing_speed.toFixed(1),"x speed"]})]}),m&&o.jsxs("div",{className:"text-xs text-text-muted",children:["Output: ",o.jsx("span",{className:"font-mono",children:m})]})]}):f?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx($e,{className:"w-6 h-6 animate-spin text-accent-red"}),o.jsx("span",{className:"ml-2",children:"Validating timeline..."})]}):o.jsxs(o.Fragment,{children:[u&&u.issues.length>0&&o.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-terminal-bg border border-terminal-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.can_export?o.jsx(pt,{className:"w-4 h-4 text-yellow-500"}):o.jsx(pt,{className:"w-4 h-4 text-red-500"}),o.jsx("span",{className:"text-sm font-medium",children:u.can_export?"Warnings found":"Issues must be fixed"})]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:u.issues.map((A,U)=>o.jsx("div",{className:J("text-xs p-2 rounded",A.severity==="error"?"bg-red-500/10 text-red-400":"bg-yellow-500/10 text-yellow-400"),children:A.message},U))})]}),o.jsxs("div",{className:J("mb-4 p-3 rounded-lg border",P.checking?"bg-terminal-bg border-terminal-border":P.connected?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:P.checking?o.jsxs(o.Fragment,{children:[o.jsx($e,{className:"w-4 h-4 animate-spin text-text-muted"}),o.jsx("span",{className:"text-sm text-text-muted",children:"Checking TTS service..."})]}):P.connected?o.jsxs(o.Fragment,{children:[o.jsx(uk,{className:"w-4 h-4 text-green-400"}),o.jsxs("span",{className:"text-sm text-green-400",children:["TTS service connected ",P.mode==="proxy"?"(via proxy)":""]})]}):o.jsxs(o.Fragment,{children:[o.jsx(ck,{className:"w-4 h-4 text-red-400"}),o.jsx("span",{className:"text-sm text-red-400",children:P.error||"TTS service unavailable"})]})}),!P.checking&&!P.connected&&o.jsxs("button",{onClick:de,className:"flex items-center gap-1 text-xs text-accent-red hover:text-accent-red/80 transition-colors",children:[o.jsx(Fl,{className:"w-3 h-3"}),"Retry"]})]}),!P.connected&&!P.checking&&u&&u.segment_count>0&&o.jsx("p",{className:"text-xs text-red-400/80 mt-2",children:"Export requires TTS service for voice-over generation. Please check your internet connection or proxy settings."})]}),u&&u.segment_count===0&&u.bgm_count===0&&o.jsx("div",{className:"mb-4 p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pt,{className:"w-4 h-4 text-yellow-500"}),o.jsx("span",{className:"text-sm text-yellow-400",children:"No segments or BGM tracks to export"})]})}),u&&u.segment_count===0&&u.bgm_count>0&&o.jsx("div",{className:"mb-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ek,{className:"w-4 h-4 text-blue-400"}),o.jsxs("span",{className:"text-sm text-blue-400",children:["No voice-over segments. Video will be exported with ",u.bgm_count," BGM track",u.bgm_count>1?"s":""," only."]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Quality"}),o.jsxs("select",{value:i,onChange:A=>a(A.target.value),className:"input-base w-full",children:[o.jsx("option",{value:"balanced",children:"Balanced (Recommended)"}),o.jsx("option",{value:"high",children:"High Quality"}),o.jsx("option",{value:"lossless",children:"Lossless (Large file)"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Filename (optional)"}),o.jsx("input",{type:"text",value:v,onChange:A=>j(A.target.value),placeholder:`${n}_export`,className:"input-base w-full"}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"Leave empty to use default (project name + timestamp)"})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l,onChange:A=>c(A.target.checked),className:"w-4 h-4 accent-accent-red"}),o.jsx("span",{className:"text-sm",children:"Include subtitles"})]}),r&&o.jsxs("div",{className:"p-3 rounded-lg bg-terminal-bg border border-terminal-border",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(cr,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-sm font-medium text-green-400",children:"Background Music"})]}),o.jsx("p",{className:"text-xs font-mono text-text-muted break-all",children:r.split("/").pop()}),o.jsx("p",{className:"text-[10px] text-text-muted mt-1",children:"Will be mixed with voiceover at reduced volume"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Output Directory"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"flex-1 p-2 rounded bg-terminal-bg border border-terminal-border font-mono text-xs break-all",children:m||"Select directory..."}),o.jsxs("button",{onClick:ie,className:"btn-secondary px-3 flex items-center gap-2",children:[o.jsx(Zp,{className:"w-4 h-4"}),"Browse"]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),o.jsxs("button",{onClick:()=>G.mutate(),disabled:!(u!=null&&u.can_export)||(u==null?void 0:u.segment_count)===0&&(u==null?void 0:u.bgm_count)===0||P.checking||(u==null?void 0:u.segment_count)>0&&!P.connected,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(vf,{className:"w-4 h-4"}),u!=null&&u.can_export?P.checking?"Checking TTS...":(u==null?void 0:u.segment_count)>0&&!P.connected?"TTS Unavailable":"Start Export":"Fix Issues First"]})]})]})]})]})}const Mo={openai:["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-3.5-turbo"],anthropic:["claude-3-5-sonnet-latest","claude-3-5-haiku-latest","claude-3-opus-latest"]};function t3({isOpen:e,onClose:t,projectName:n,videoId:r,startTime:s,videoDuration:i,existingSegments:a}){var E,A,U;const l=br(),{addSegment:c,setSelectedSegmentId:u}=vs(),[d,f]=p.useState(`Segment ${Date.now()}`),[h,m]=p.useState(Math.min(s+10,i)),[y,v]=p.useState(""),[j,w]=p.useState("en"),[g,x]=p.useState(""),[b,k]=p.useState(!1),[T,R]=p.useState(!1),[_,L]=p.useState("ollama"),[F,q]=p.useState(""),[Q,P]=p.useState(""),[B,de]=p.useState(""),{data:I}=St({queryKey:["ollama-models"],queryFn:()=>Zr.listOllamaModels(),enabled:_==="ollama"&&e}),ie=((E=I==null?void 0:I.data)==null?void 0:E.models)||[],D=((A=I==null?void 0:I.data)==null?void 0:A.connected)??!1;p.useEffect(()=>{_==="ollama"&&ie.length>0&&!F?q(ie[0].name):_==="openai"&&!F?q(Mo.openai[0]):_==="anthropic"&&!F&&q(Mo.anthropic[0])},[_,ie,F]),p.useEffect(()=>{_==="ollama"&&ie.length>0?q(ie[0].name):_==="openai"?q(Mo.openai[0]):_==="anthropic"?q(Mo.anthropic[0]):_==="custom"&&q("")},[_]),p.useEffect(()=>{e&&(f(`Segment ${Math.floor(Date.now()/1e3)%1e4}`),m(Math.min(s+10,i)),v(""),x(""),k(!1))},[e,s,i]);const G=async()=>{var O,Z,le,me;if(!g.trim()){re.error("Please provide a description for AI generation");return}if(!F){re.error("Please select an AI model");return}if(_!=="ollama"&&!Q.trim()){re.error(`Please enter your ${_==="openai"?"OpenAI":_==="anthropic"?"Anthropic":"API"} key`);return}if(_==="custom"&&!B.trim()){re.error("Please enter a custom endpoint URL");return}R(!0);try{if(_==="ollama"){if(!D){re.error("Ollama is not running. Please start Ollama first."),R(!1);return}if(ie.length===0){re.error("No Ollama models available. Please pull a model first."),R(!1);return}}const H={type:_,model:F};_!=="ollama"&&(H.api_key=Q),_==="custom"&&(H.endpoint=B);const ge=await Zr.generateScript({provider:H,segments:[{start_time:s,end_time:h,description:g}],style:{tone:"documentary",style:"narrative",audience:"general",length:"moderate",language:j},fit_to_duration:!0});((Z=(O=ge.data)==null?void 0:O.scripts)==null?void 0:Z.length)>0?(v(ge.data.scripts[0].text),re.success("Script generated!")):re.error("No script generated")}catch(H){const ge=H,ve=((me=(le=ge==null?void 0:ge.response)==null?void 0:le.data)==null?void 0:me.detail)||"Failed to generate script";re.error(ve),console.error("Script generation error:",H)}finally{R(!1)}},se=kt({mutationFn:()=>li.create(n,{name:d,start_time:s,end_time:h,text:y,language:j},r),onSuccess:O=>{c(O.data),u(O.data.id),re.success("Segment created"),l.invalidateQueries({queryKey:["segments",n]}),t()},onError:O=>{var me,H;const Z=O,le=((H=(me=Z==null?void 0:Z.response)==null?void 0:me.data)==null?void 0:H.detail)||"Failed to create segment";re.error(le)}});return e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:t}),o.jsxs(Qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative bg-terminal-surface border border-terminal-border rounded-lg w-full max-w-lg mx-4 p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[o.jsx(or,{className:"w-5 h-5 text-accent-red"}),"Add Segment"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Name"}),o.jsx("input",{type:"text",value:d,onChange:O=>f(O.target.value),className:"input-base w-full"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Start Time (s)"}),o.jsx("input",{type:"number",value:s,readOnly:!0,className:"input-base w-full font-mono bg-terminal-bg"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"End Time (s)"}),o.jsx("input",{type:"number",value:h,onChange:O=>m(parseFloat(O.target.value)),step:"0.5",min:s+.5,max:i,className:"input-base w-full font-mono"})]})]}),(()=>{const O=a.filter(Z=>s<Z.end_time&&h>Z.start_time);return O.length>0?o.jsx("div",{className:"p-3 rounded bg-red-500/10 border border-red-500/50",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(pt,{className:"w-4 h-4 text-red-500 shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-red-500 font-medium",children:"Overlap detected!"}),o.jsx("span",{className:"text-text-muted ml-1",children:"This segment will overlap with:"}),o.jsx("ul",{className:"mt-1 space-y-1",children:O.map(Z=>o.jsxs("li",{className:"text-text-muted",children:[o.jsx("span",{className:"text-text-primary",children:Z.name}),o.jsxs("span",{className:"text-text-muted/70 text-xs ml-1",children:["(",Z.start_time.toFixed(1),"s - ",Z.end_time.toFixed(1),"s)"]})]},Z.id))})]})]})}):null})(),a.length>0&&o.jsxs("div",{className:"text-xs text-text-muted border border-terminal-border rounded p-2 bg-terminal-bg/50",children:[o.jsx("div",{className:"font-medium mb-1",children:"Existing segments on this video:"}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.slice(0,5).map(O=>o.jsxs("span",{className:"px-1.5 py-0.5 bg-terminal-elevated rounded text-[10px]",children:[O.name," (",O.start_time.toFixed(1),"-",O.end_time.toFixed(1),"s)"]},O.id)),a.length>5&&o.jsxs("span",{className:"px-1.5 py-0.5 text-[10px]",children:["+",a.length-5," more"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-2 rounded bg-terminal-bg border border-terminal-border",children:[o.jsx("button",{onClick:()=>k(!1),className:J("flex-1 py-1.5 px-3 rounded text-sm transition-colors",b?"text-text-muted hover:text-text-primary":"bg-accent-red text-white"),children:"Manual Entry"}),o.jsxs("button",{onClick:()=>k(!0),className:J("flex-1 py-1.5 px-3 rounded text-sm transition-colors flex items-center justify-center gap-1",b?"bg-accent-red text-white":"text-text-muted hover:text-text-primary"),children:[o.jsx(yc,{className:"w-3 h-3"}),"AI Generate"]})]}),b?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"p-3 rounded bg-terminal-bg border border-terminal-border space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[o.jsx(Gc,{className:"w-3.5 h-3.5"}),"AI Provider"]}),o.jsx("div",{className:"flex gap-1 p-1 rounded bg-terminal-elevated",children:["ollama","openai","anthropic","custom"].map(O=>o.jsx("button",{onClick:()=>L(O),className:J("flex-1 py-1.5 px-2 rounded text-xs transition-colors capitalize",_===O?"bg-accent-red text-white":"text-text-muted hover:text-text-primary"),children:O==="ollama"?"Ollama (Local)":O},O))}),o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-text-muted mb-1 block",children:"Model"}),_==="ollama"?D?o.jsx("select",{value:F,onChange:O=>q(O.target.value),className:"input-base w-full text-sm",children:ie.map(O=>o.jsx("option",{value:O.name,children:O.name},O.name))}):o.jsx("div",{className:"text-xs text-red-400 p-2 bg-red-500/10 rounded",children:"Ollama not connected. Please start Ollama."}):_==="custom"?o.jsx("input",{type:"text",value:F,onChange:O=>q(O.target.value),placeholder:"Enter model name",className:"input-base w-full text-sm"}):o.jsx("select",{value:F,onChange:O=>q(O.target.value),className:"input-base w-full text-sm",children:(U=Mo[_])==null?void 0:U.map(O=>o.jsx("option",{value:O,children:O},O))})]}),_!=="ollama"&&o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs text-text-muted mb-1 block",children:[_==="openai"?"OpenAI":_==="anthropic"?"Anthropic":"API"," Key"]}),o.jsx("input",{type:"password",value:Q,onChange:O=>P(O.target.value),placeholder:`Enter ${_==="openai"?"OpenAI":_==="anthropic"?"Anthropic":"API"} key`,className:"input-base w-full text-sm"})]}),_==="custom"&&o.jsxs("div",{children:[o.jsx("label",{className:"text-xs text-text-muted mb-1 block",children:"Endpoint URL"}),o.jsx("input",{type:"text",value:B,onChange:O=>de(O.target.value),placeholder:"https://api.example.com/v1",className:"input-base w-full text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Describe this segment"}),o.jsx("textarea",{value:g,onChange:O=>x(O.target.value),rows:3,className:"input-base w-full resize-none",placeholder:"Describe what happens in this segment... (e.g., 'Introduction scene showing the product from multiple angles')"})]}),o.jsx("button",{onClick:G,disabled:T||!g.trim()||!F,className:"btn-secondary w-full flex items-center justify-center gap-2",children:T?o.jsxs(o.Fragment,{children:[o.jsx($e,{className:"w-4 h-4 animate-spin"}),"Generating with ",F,"..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yc,{className:"w-4 h-4"}),"Generate Script"]})}),y&&o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Generated Script"}),o.jsx("textarea",{value:y,onChange:O=>v(O.target.value),rows:3,className:"input-base w-full resize-none",placeholder:"Script will appear here..."}),o.jsx("p",{className:"text-xs text-text-muted mt-1",children:"You can edit the generated script before creating"})]})]}):o.jsxs("div",{children:[o.jsxs("label",{className:"section-header",children:["Script Text ",o.jsx("span",{className:"text-text-muted font-normal",children:"(optional)"})]}),o.jsx("textarea",{value:y,onChange:O=>v(O.target.value),rows:3,className:"input-base w-full resize-none",placeholder:"Enter the narration text... (can be added later)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Language"}),o.jsxs("select",{value:j,onChange:O=>w(O.target.value),className:"input-base w-full",children:[o.jsx("option",{value:"en",children:"English"}),o.jsx("option",{value:"es",children:"Spanish"}),o.jsx("option",{value:"fr",children:"French"}),o.jsx("option",{value:"de",children:"German"}),o.jsx("option",{value:"hi",children:"Hindi"}),o.jsx("option",{value:"ja",children:"Japanese"}),o.jsx("option",{value:"ko",children:"Korean"}),o.jsx("option",{value:"zh",children:"Chinese"}),o.jsx("option",{value:"pt",children:"Portuguese"}),o.jsx("option",{value:"it",children:"Italian"})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:t,className:"btn-secondary",children:"Cancel"}),o.jsxs("button",{onClick:()=>se.mutate(),disabled:se.isPending||T,className:"btn-primary flex items-center gap-2",children:[se.isPending&&o.jsx($e,{className:"w-4 h-4 animate-spin"}),"Create Segment"]})]})]})]}):null}function n3(){var me;const{projectName:e}=E2(),t=Kc(),n=br(),{setCurrentProject:r,setSegments:s,segments:i,selectedSegmentId:a,setSelectedSegmentId:l,aiPanelOpen:c,setAiPanelOpen:u,currentTime:d}=vs(),[f,h]=p.useState(!1),[m,y]=p.useState(null),[v,j]=p.useState(null),[w,g]=p.useState(null),[x,b]=p.useState("all"),[k,T]=p.useState([]),[R,_]=p.useState(100),[L,F]=p.useState(100),{data:q,isLoading:Q}=St({queryKey:["project",e],queryFn:()=>$t.get(e),enabled:!!e}),P=q==null?void 0:q.data,B=P==null?void 0:P.videos.find(H=>H.id===P.active_video_id),{data:de}=St({queryKey:["segments",e],queryFn:()=>li.list(e,{all:!0}),enabled:!!e});p.useEffect(()=>{if(P){r(P),g(P.background_music_path);const H=P;T(H.bgm_tracks||[]),_(H.bgm_volume||100),F(H.tts_volume||100)}},[P,r]),p.useEffect(()=>{de!=null&&de.data&&s(de.data)},[de,s]);const I=i.find(H=>H.id===a)||null,ie=((P==null?void 0:P.videos.length)||0)>1,D=x==="all"?i:i.filter(H=>H.video_id===x),G=H=>{if(!H||!(P!=null&&P.videos))return null;const ge=P.videos.find(ve=>ve.id===H);return(ge==null?void 0:ge.name)||null},se=p.useCallback(async H=>{if(e)try{await $t.setActiveVideo(e,H),n.invalidateQueries({queryKey:["project",e]}),re.success("Active video changed")}catch{re.error("Failed to change active video")}},[e,n]),E=p.useMemo(()=>{if(!P||P.videos.length<=1)return(P==null?void 0:P.active_video_id)||null;const H=[...P.videos].sort((ve,Me)=>ve.order-Me.order);if(H.some(ve=>ve.timeline_start!==null&&ve.timeline_start!==void 0))for(const ve of H){const Me=ve.timeline_start??0,yt=ve.timeline_end??Me+(ve.duration||0);if(d>=Me&&d<yt)return ve.id}else{let ve=0;for(const Me of H){const yt=Me.duration||0;if(d>=ve&&d<ve+yt)return Me.id;ve+=yt}}return P.active_video_id},[d,P]),A=p.useMemo(()=>P?P.videos.find(H=>H.id===E)||B||P.videos[0]:null,[P,E,B]),U=p.useMemo(()=>{if(!P||!A||P.videos.length<=1)return 0;if(A.timeline_start!==null&&A.timeline_start!==void 0)return A.timeline_start;let H=0;const ge=[...P.videos].sort((ve,Me)=>ve.order-Me.order);for(const ve of ge){if(ve.id===A.id)break;if(ve.timeline_start!==null&&ve.timeline_start!==void 0){const Me=ve.timeline_end??ve.timeline_start+(ve.duration||0);H=Math.max(H,Me)}else H+=ve.duration||0}return H},[P,A]),O=p.useMemo(()=>!P||P.videos.length===0?0:P.videos.some(ge=>ge.timeline_start!==null&&ge.timeline_start!==void 0)?Math.max(...P.videos.map(ge=>{const ve=ge.timeline_start??0;return ge.timeline_end??ve+(ge.duration||0)})):P.videos.reduce((ge,ve)=>ge+(ve.duration||0),0),[P]);if(Q)return o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx($e,{className:"w-8 h-8 animate-spin text-accent-red"})});if(!P||!A)return o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-2",children:"Project not found"}),o.jsx("button",{onClick:()=>t("/"),className:"btn-secondary",children:"Go back home"})]})});const Z=`/api/v1/videos/${e}/${A.id}/stream`,le=A.duration||0;return o.jsxs("div",{className:"min-h-[calc(100vh-5rem)] flex flex-col",children:[o.jsx("div",{className:"border-b border-terminal-border bg-terminal-surface px-4 py-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("/"),className:"p-2 rounded hover:bg-terminal-elevated text-text-muted hover:text-text-primary",children:o.jsx(KN,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"font-semibold",children:P.name}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-text-muted",children:[o.jsx(io,{className:"w-3 h-3"}),o.jsx("span",{children:A.name}),o.jsx("span",{className:"text-terminal-border",children:""}),o.jsxs("span",{children:[Math.floor(le/60),":",String(Math.floor(le%60)).padStart(2,"0")]}),o.jsx("span",{className:"text-terminal-border",children:""}),o.jsx("span",{children:A.orientation})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>u(!0),className:"btn-secondary flex items-center gap-2",children:[o.jsx(yc,{className:"w-4 h-4 text-accent-red"}),"AI Script"]}),o.jsxs("button",{onClick:()=>h(!0),className:"btn-primary flex items-center gap-2",children:[o.jsx(vf,{className:"w-4 h-4"}),"Export"]})]})]})}),o.jsx(J_,{projectName:e,videos:P.videos.map(H=>({id:H.id,name:H.name,path:H.path,order:H.order,duration:H.duration??void 0,orientation:H.orientation??void 0,segments_count:H.segments_count,file_exists:H.file_exists})),activeVideoId:P.active_video_id,onRefresh:()=>{n.invalidateQueries({queryKey:["project",e]}),n.invalidateQueries({queryKey:["segments",e]})}}),o.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[o.jsxs("div",{className:"flex-1 flex flex-col p-4 overflow-hidden",children:[P.videos.length>1?o.jsx($_,{projectName:e,videos:P.videos,totalDuration:O}):o.jsx(I_,{videoUrl:Z,duration:le,videoOffset:U}),o.jsx("div",{className:"mt-4",children:o.jsx(G_,{duration:le,projectName:e,onAddSegment:(H,ge)=>{y(H),j(ge||A.id)},backgroundMusicPath:w,onBackgroundMusicChange:H=>{g(H),$t.updateSettings(e,{background_music_path:H}).then(()=>n.invalidateQueries({queryKey:["project",e]})).catch(()=>re.error("Failed to update background music"))},bgmTracks:k,bgmVolume:R,ttsVolume:L,onBGMTracksChange:()=>{n.invalidateQueries({queryKey:["project",e]})},videos:(P==null?void 0:P.videos)||[],activeVideoId:(P==null?void 0:P.active_video_id)||null,onSetActiveVideo:se,onVideoPositionChange:()=>{n.invalidateQueries({queryKey:["project",e]})}})}),o.jsxs("div",{className:"mt-4 flex-1 overflow-hidden console-card",children:[o.jsxs("div",{className:"p-3 border-b border-terminal-border flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[o.jsxs("span",{className:"section-header mb-0 shrink-0",children:["Segments (",D.length,x!=="all"&&`/${i.length}`,")"]}),ie&&o.jsxs("select",{value:x,onChange:H=>b(H.target.value),className:"text-xs bg-terminal-elevated border border-terminal-border rounded px-1.5 py-0.5 text-text-secondary min-w-0 truncate",children:[o.jsx("option",{value:"all",children:"All Videos"}),P==null?void 0:P.videos.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]})]}),o.jsx("button",{onClick:()=>y(0),className:"btn-secondary text-xs py-1 px-2 shrink-0",children:o.jsx(or,{className:"w-3 h-3"})})]}),o.jsx("div",{className:"max-h-48 overflow-y-auto",children:D.length===0?o.jsxs("div",{className:"p-4 text-center text-text-muted text-sm",children:[o.jsxs("p",{children:["No segments",x!=="all"?" for this video":""," yet"]}),o.jsx("button",{onClick:()=>u(!0),className:"text-accent-red hover:underline mt-1",children:"Generate with AI"})]}):o.jsx("div",{className:"divide-y divide-terminal-border",children:D.map(H=>{var ge;return o.jsxs("button",{onClick:()=>l(H.id),className:J("w-full p-3 text-left hover:bg-terminal-elevated transition-colors",a===H.id&&"bg-accent-red/10 border-l-2 border-l-accent-red"),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[o.jsx("span",{className:"font-medium text-sm truncate",children:H.name}),ie&&x==="all"&&H.video_id&&o.jsx("span",{className:"text-[10px] px-1 py-0.5 rounded bg-terminal-elevated text-text-muted shrink-0",children:((ge=G(H.video_id))==null?void 0:ge.slice(0,12))||"Unknown"})]}),o.jsxs("span",{className:"text-xs text-text-muted font-mono shrink-0 ml-2",children:[H.start_time.toFixed(1),"s - ",H.end_time.toFixed(1),"s"]})]}),o.jsx("p",{className:"text-xs text-text-muted mt-1 truncate",children:H.text})]},H.id)})})})]})]}),o.jsx("div",{className:"w-96 border-l border-terminal-border p-4 overflow-y-auto",children:o.jsx(Y_,{projectName:e,segment:I,onClose:()=>l(null)})})]}),o.jsx(e3,{isOpen:f,onClose:()=>h(!1),projectName:e,backgroundMusicPath:w,videoCount:(P==null?void 0:P.videos.length)||1}),m!==null&&v&&o.jsx(t3,{isOpen:!0,onClose:()=>{y(null),j(null)},projectName:e,videoId:v,startTime:m,videoDuration:((me=P==null?void 0:P.videos.find(H=>H.id===v))==null?void 0:me.duration)||le,existingSegments:i.filter(H=>H.video_id===v)}),o.jsx(Z_,{projectName:e,videoId:A.id,videoDuration:le,isOpen:c,onClose:()=>u(!1),videos:(P==null?void 0:P.videos)||[],videoPath:A.path})]})}function vl({title:e,icon:t,children:n}){return o.jsxs(Qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"console-card overflow-hidden",children:[o.jsxs("div",{className:"flex items-center gap-2 p-4 border-b border-terminal-border bg-terminal-bg/50",children:[o.jsx(t,{className:"w-5 h-5 text-accent-red"}),o.jsx("h3",{className:"font-medium",children:e})]}),o.jsx("div",{className:"p-4",children:n})]})}function r3(){var g,x,b,k;const e=br();St({queryKey:["settings"],queryFn:()=>xi.get()});const{data:t}=St({queryKey:["llm-settings"],queryFn:()=>xi.getLLM()}),{data:n}=St({queryKey:["system-info"],queryFn:()=>xi.getSystem()}),{data:r}=St({queryKey:["llm-health"],queryFn:()=>Zr.checkHealth()}),{data:s}=St({queryKey:["tts-status"],queryFn:()=>Ys.checkConnectivity()}),[i,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState("http://localhost:11434"),f=kt({mutationFn:T=>xi.updateLLM(T),onSuccess:()=>{re.success("LLM settings updated"),e.invalidateQueries({queryKey:["llm-settings"]})},onError:()=>{re.error("Failed to update settings")}}),h=kt({mutationFn:()=>xi.clearCache(),onSuccess:T=>{re.success(`Cache cleared: ${T.data.space_freed_mb}MB freed`),e.invalidateQueries({queryKey:["system-info"]})}}),m=kt({mutationFn:()=>xi.clearTemp(),onSuccess:T=>{re.success(`Temp files cleared: ${T.data.space_freed_mb}MB freed`),e.invalidateQueries({queryKey:["system-info"]})}}),y=t==null?void 0:t.data,v=n==null?void 0:n.data,j=r==null?void 0:r.data,w=s==null?void 0:s.data;return o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),o.jsx("p",{className:"text-text-muted text-sm mt-1",children:"Configure TermiVoxed preferences and integrations"})]}),o.jsxs(vl,{title:"System Status",icon:ok,children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"console-card-elevated p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:J("status-dot",v!=null&&v.ffmpeg_available?"status-dot-success":"status-dot-error")}),o.jsx("span",{className:"text-sm font-medium",children:"FFmpeg"})]}),o.jsx("p",{className:"text-xs text-text-muted",children:v!=null&&v.ffmpeg_available?"Available":"Not found"})]}),o.jsxs("div",{className:"console-card-elevated p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:J("status-dot",j!=null&&j.ollama_available?"status-dot-success":"status-dot-error")}),o.jsx("span",{className:"text-sm font-medium",children:"Ollama"})]}),o.jsx("p",{className:"text-xs text-text-muted",children:j!=null&&j.ollama_available?`${((g=j.ollama_models)==null?void 0:g.length)||0} models`:"Not running"})]}),o.jsxs("div",{className:"console-card-elevated p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:J("status-dot",w!=null&&w.direct_connection||w!=null&&w.proxy_connection?"status-dot-success":"status-dot-error")}),o.jsx("span",{className:"text-sm font-medium",children:"TTS Service"})]}),o.jsx("p",{className:"text-xs text-text-muted",children:w!=null&&w.direct_connection?"Direct connection":w!=null&&w.proxy_connection?"Via proxy":"Unavailable"})]}),o.jsxs("div",{className:"console-card-elevated p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ZN,{className:"w-4 h-4 text-text-muted"}),o.jsx("span",{className:"text-sm font-medium",children:"Storage"})]}),o.jsxs("p",{className:"text-xs text-text-muted",children:[(x=v==null?void 0:v.disk_free_gb)==null?void 0:x.toFixed(1),"GB free of ",(b=v==null?void 0:v.disk_total_gb)==null?void 0:b.toFixed(0),"GB"]})]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-text-muted",children:"Platform:"})," ",o.jsx("span",{className:"font-mono",children:v==null?void 0:v.platform})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-muted",children:"Python:"})," ",o.jsx("span",{className:"font-mono",children:v==null?void 0:v.python_version})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-text-muted",children:"Projects:"})," ",o.jsx("span",{className:"font-mono",children:v==null?void 0:v.project_count})]})]})]}),o.jsx(vl,{title:"AI/LLM Providers",icon:yf,children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"console-card-elevated p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"Ollama (Local)"}),o.jsx("div",{className:J("status-dot",j!=null&&j.ollama_available?"status-dot-success":"status-dot-error")})]}),o.jsx("span",{className:"text-xs text-text-muted",children:"Free, runs locally"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"Endpoint"}),o.jsx("input",{type:"text",value:u,onChange:T=>d(T.target.value),className:"input-base w-full font-mono"})]}),(j==null?void 0:j.ollama_models)&&j.ollama_models.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("span",{className:"section-header",children:"Available Models"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:j.ollama_models.map(T=>o.jsx("span",{className:"text-xs bg-terminal-bg px-2 py-1 rounded font-mono",children:T},T))})]})]}),o.jsxs("div",{className:"console-card-elevated p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"OpenAI"}),(y==null?void 0:y.openai_api_key)&&o.jsx(cr,{className:"w-4 h-4 text-green-500"})]}),o.jsx("span",{className:"text-xs text-text-muted",children:"GPT-4, GPT-3.5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"API Key"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"password",value:i,onChange:T=>a(T.target.value),placeholder:y!=null&&y.openai_api_key?"":"Enter API key",className:"input-base flex-1 font-mono"}),o.jsx("button",{onClick:()=>f.mutate({openai_api_key:i}),disabled:!i,className:"btn-secondary px-3",children:o.jsx(Jp,{className:"w-4 h-4"})})]})]})]}),o.jsxs("div",{className:"console-card-elevated p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:"Anthropic"}),(y==null?void 0:y.anthropic_api_key)&&o.jsx(cr,{className:"w-4 h-4 text-green-500"})]}),o.jsx("span",{className:"text-xs text-text-muted",children:"Claude 3"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"section-header",children:"API Key"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"password",value:l,onChange:T=>c(T.target.value),placeholder:y!=null&&y.anthropic_api_key?"":"Enter API key",className:"input-base flex-1 font-mono"}),o.jsx("button",{onClick:()=>f.mutate({anthropic_api_key:l}),disabled:!l,className:"btn-secondary px-3",children:o.jsx(Jp,{className:"w-4 h-4"})})]})]})]})]})}),o.jsxs(vl,{title:"Storage Management",icon:QN,children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"console-card-elevated p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"TTS Cache"}),o.jsxs("span",{className:"text-xs text-text-muted",children:[(k=v==null?void 0:v.cache_size_mb)==null?void 0:k.toFixed(1),"MB"]})]}),o.jsx("p",{className:"text-xs text-text-muted mb-3",children:"Cached audio files for faster generation"}),o.jsxs("button",{onClick:()=>h.mutate(),disabled:h.isPending,className:"btn-secondary w-full flex items-center justify-center gap-2",children:[h.isPending?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(oi,{className:"w-4 h-4"}),"Clear Cache"]})]}),o.jsxs("div",{className:"console-card-elevated p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Temp Files"}),o.jsx("span",{className:"text-xs text-text-muted",children:"Processing files"})]}),o.jsx("p",{className:"text-xs text-text-muted mb-3",children:"Temporary files from video processing"}),o.jsxs("button",{onClick:()=>m.mutate(),disabled:m.isPending,className:"btn-secondary w-full flex items-center justify-center gap-2",children:[m.isPending?o.jsx($e,{className:"w-4 h-4 animate-spin"}):o.jsx(oi,{className:"w-4 h-4"}),"Clear Temp"]})]})]}),o.jsxs("div",{className:"mt-4 p-3 bg-terminal-bg rounded text-xs font-mono text-text-muted",children:["Storage path: ",v==null?void 0:v.storage_path]})]}),o.jsx(vl,{title:"About",icon:Gc,children:o.jsxs("div",{className:"text-center py-4",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-8 h-8 rounded bg-accent-red flex items-center justify-center shadow-glow-red-sm",children:o.jsx(yf,{className:"w-5 h-5 text-white"})}),o.jsxs("span",{className:"font-mono font-bold text-xl",children:[o.jsx("span",{className:"text-accent-red",children:"Termi"}),o.jsx("span",{className:"text-white",children:"Voxed"})]})]}),o.jsx("p",{className:"text-sm text-text-muted mb-4",children:"AI Voice-Over Dubbing Tool for Content Creators"}),o.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-text-muted",children:[o.jsx("span",{children:"Version 1.0.0"}),o.jsx("span",{className:"text-terminal-border",children:""}),o.jsx("a",{href:"#",className:"text-accent-red hover:underline",children:"Documentation"}),o.jsx("span",{className:"text-terminal-border",children:""}),o.jsx("a",{href:"#",className:"text-accent-red hover:underline",children:"GitHub"})]})]})})]})}function s3(){return o.jsx(H2,{children:o.jsxs(Do,{path:"/",element:o.jsx(WC,{}),children:[o.jsx(Do,{index:!0,element:o.jsx(d_,{})}),o.jsx(Do,{path:"project/:projectName",element:o.jsx(n3,{})}),o.jsx(Do,{path:"settings",element:o.jsx(r3,{})})]})})}const i3=new LS({defaultOptions:{queries:{staleTime:1e3*60,retry:1}}});id.createRoot(document.getElementById("root")).render(o.jsx(Pa.StrictMode,{children:o.jsx(DS,{client:i3,children:o.jsxs(Y2,{children:[o.jsx(s3,{}),o.jsx(UN,{position:"bottom-right",toastOptions:{style:{background:"#1a1a1a",color:"#fff",border:"1px solid #2a2a2a"},success:{iconTheme:{primary:"#dc2626",secondary:"#fff"}},error:{iconTheme:{primary:"#dc2626",secondary:"#fff"}}}})]})})}));
